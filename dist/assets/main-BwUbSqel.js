(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var aO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var c0={exports:{}},Ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5;function F4(){if(t5)return Ff;t5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Ff.Fragment=e,Ff.jsx=t,Ff.jsxs=t,Ff}var n5;function U4(){return n5||(n5=1,c0.exports=F4()),c0.exports}var T=U4(),h0={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5;function V4(){if(r5)return Wt;r5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function E(J){return J===null||typeof J!="object"?null:(J=w&&J[w]||J["@@iterator"],typeof J=="function"?J:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,D={};function V(J,Te,O){this.props=J,this.context=Te,this.refs=D,this.updater=O||S}V.prototype.isReactComponent={},V.prototype.setState=function(J,Te){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,Te,"setState")},V.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function k(){}k.prototype=V.prototype;function W(J,Te,O){this.props=J,this.context=Te,this.refs=D,this.updater=O||S}var ee=W.prototype=new k;ee.constructor=W,L(ee,V.prototype),ee.isPureReactComponent=!0;var le=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Ne=Object.prototype.hasOwnProperty;function U(J,Te,O,z,X,ie){return O=ie.ref,{$$typeof:n,type:J,key:Te,ref:O!==void 0?O:null,props:ie}}function N(J,Te){return U(J.type,Te,void 0,void 0,void 0,J.props)}function j(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function G(J){var Te={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(O){return Te[O]})}var C=/\/+/g;function P(J,Te){return typeof J=="object"&&J!==null&&J.key!=null?G(""+J.key):Te.toString(36)}function M(){}function se(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(M,M):(J.status="pending",J.then(function(Te){J.status==="pending"&&(J.status="fulfilled",J.value=Te)},function(Te){J.status==="pending"&&(J.status="rejected",J.reason=Te)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function Ie(J,Te,O,z,X){var ie=typeof J;(ie==="undefined"||ie==="boolean")&&(J=null);var ae=!1;if(J===null)ae=!0;else switch(ie){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(J.$$typeof){case n:case e:ae=!0;break;case y:return ae=J._init,Ie(ae(J._payload),Te,O,z,X)}}if(ae)return X=X(J),ae=z===""?"."+P(J,0):z,le(X)?(O="",ae!=null&&(O=ae.replace(C,"$&/")+"/"),Ie(X,Te,O,"",function(Ee){return Ee})):X!=null&&(j(X)&&(X=N(X,O+(X.key==null||J&&J.key===X.key?"":(""+X.key).replace(C,"$&/")+"/")+ae)),Te.push(X)),1;ae=0;var _e=z===""?".":z+":";if(le(J))for(var pe=0;pe<J.length;pe++)z=J[pe],ie=_e+P(z,pe),ae+=Ie(z,Te,O,ie,X);else if(pe=E(J),typeof pe=="function")for(J=pe.call(J),pe=0;!(z=J.next()).done;)z=z.value,ie=_e+P(z,pe++),ae+=Ie(z,Te,O,ie,X);else if(ie==="object"){if(typeof J.then=="function")return Ie(se(J),Te,O,z,X);throw Te=String(J),Error("Objects are not valid as a React child (found: "+(Te==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":Te)+"). If you meant to render a collection of children, use an array instead.")}return ae}function te(J,Te,O){if(J==null)return J;var z=[],X=0;return Ie(J,z,"","",function(ie){return Te.call(O,ie,X++)}),z}function fe(J){if(J._status===-1){var Te=J._result;Te=Te(),Te.then(function(O){(J._status===0||J._status===-1)&&(J._status=1,J._result=O)},function(O){(J._status===0||J._status===-1)&&(J._status=2,J._result=O)}),J._status===-1&&(J._status=0,J._result=Te)}if(J._status===1)return J._result.default;throw J._result}var he=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(Te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function Ce(){}return Wt.Children={map:te,forEach:function(J,Te,O){te(J,function(){Te.apply(this,arguments)},O)},count:function(J){var Te=0;return te(J,function(){Te++}),Te},toArray:function(J){return te(J,function(Te){return Te})||[]},only:function(J){if(!j(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Wt.Component=V,Wt.Fragment=t,Wt.Profiler=a,Wt.PureComponent=W,Wt.StrictMode=r,Wt.Suspense=f,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(J){return ce.H.useMemoCache(J)}},Wt.cache=function(J){return function(){return J.apply(null,arguments)}},Wt.cloneElement=function(J,Te,O){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var z=L({},J.props),X=J.key,ie=void 0;if(Te!=null)for(ae in Te.ref!==void 0&&(ie=void 0),Te.key!==void 0&&(X=""+Te.key),Te)!Ne.call(Te,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Te.ref===void 0||(z[ae]=Te[ae]);var ae=arguments.length-2;if(ae===1)z.children=O;else if(1<ae){for(var _e=Array(ae),pe=0;pe<ae;pe++)_e[pe]=arguments[pe+2];z.children=_e}return U(J.type,X,void 0,void 0,ie,z)},Wt.createContext=function(J){return J={$$typeof:u,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:o,_context:J},J},Wt.createElement=function(J,Te,O){var z,X={},ie=null;if(Te!=null)for(z in Te.key!==void 0&&(ie=""+Te.key),Te)Ne.call(Te,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(X[z]=Te[z]);var ae=arguments.length-2;if(ae===1)X.children=O;else if(1<ae){for(var _e=Array(ae),pe=0;pe<ae;pe++)_e[pe]=arguments[pe+2];X.children=_e}if(J&&J.defaultProps)for(z in ae=J.defaultProps,ae)X[z]===void 0&&(X[z]=ae[z]);return U(J,ie,void 0,void 0,null,X)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(J){return{$$typeof:c,render:J}},Wt.isValidElement=j,Wt.lazy=function(J){return{$$typeof:y,_payload:{_status:-1,_result:J},_init:fe}},Wt.memo=function(J,Te){return{$$typeof:d,type:J,compare:Te===void 0?null:Te}},Wt.startTransition=function(J){var Te=ce.T,O={};ce.T=O;try{var z=J(),X=ce.S;X!==null&&X(O,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(Ce,he)}catch(ie){he(ie)}finally{ce.T=Te}},Wt.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Wt.use=function(J){return ce.H.use(J)},Wt.useActionState=function(J,Te,O){return ce.H.useActionState(J,Te,O)},Wt.useCallback=function(J,Te){return ce.H.useCallback(J,Te)},Wt.useContext=function(J){return ce.H.useContext(J)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(J,Te){return ce.H.useDeferredValue(J,Te)},Wt.useEffect=function(J,Te,O){var z=ce.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(J,Te)},Wt.useId=function(){return ce.H.useId()},Wt.useImperativeHandle=function(J,Te,O){return ce.H.useImperativeHandle(J,Te,O)},Wt.useInsertionEffect=function(J,Te){return ce.H.useInsertionEffect(J,Te)},Wt.useLayoutEffect=function(J,Te){return ce.H.useLayoutEffect(J,Te)},Wt.useMemo=function(J,Te){return ce.H.useMemo(J,Te)},Wt.useOptimistic=function(J,Te){return ce.H.useOptimistic(J,Te)},Wt.useReducer=function(J,Te,O){return ce.H.useReducer(J,Te,O)},Wt.useRef=function(J){return ce.H.useRef(J)},Wt.useState=function(J){return ce.H.useState(J)},Wt.useSyncExternalStore=function(J,Te,O){return ce.H.useSyncExternalStore(J,Te,O)},Wt.useTransition=function(){return ce.H.useTransition()},Wt.version="19.1.0",Wt}var i5;function F1(){return i5||(i5=1,h0.exports=V4()),h0.exports}var be=F1();const B4=D_(be);var f0={exports:{}},Uf={},d0={exports:{}},p0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function q4(){return a5||(a5=1,function(n){function e(te,fe){var he=te.length;te.push(fe);e:for(;0<he;){var Ce=he-1>>>1,J=te[Ce];if(0<a(J,fe))te[Ce]=fe,te[he]=J,he=Ce;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var fe=te[0],he=te.pop();if(he!==fe){te[0]=he;e:for(var Ce=0,J=te.length,Te=J>>>1;Ce<Te;){var O=2*(Ce+1)-1,z=te[O],X=O+1,ie=te[X];if(0>a(z,he))X<J&&0>a(ie,z)?(te[Ce]=ie,te[X]=he,Ce=X):(te[Ce]=z,te[O]=he,Ce=O);else if(X<J&&0>a(ie,he))te[Ce]=ie,te[X]=he,Ce=X;else break e}}return fe}function a(te,fe){var he=te.sortIndex-fe.sortIndex;return he!==0?he:te.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],y=1,w=null,E=3,S=!1,L=!1,D=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function le(te){for(var fe=t(d);fe!==null;){if(fe.callback===null)r(d);else if(fe.startTime<=te)r(d),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=t(d)}}function ce(te){if(D=!1,le(te),!L)if(t(f)!==null)L=!0,Ne||(Ne=!0,P());else{var fe=t(d);fe!==null&&Ie(ce,fe.startTime-te)}}var Ne=!1,U=-1,N=5,j=-1;function G(){return V?!0:!(n.unstable_now()-j<N)}function C(){if(V=!1,Ne){var te=n.unstable_now();j=te;var fe=!0;try{e:{L=!1,D&&(D=!1,W(U),U=-1),S=!0;var he=E;try{t:{for(le(te),w=t(f);w!==null&&!(w.expirationTime>te&&G());){var Ce=w.callback;if(typeof Ce=="function"){w.callback=null,E=w.priorityLevel;var J=Ce(w.expirationTime<=te);if(te=n.unstable_now(),typeof J=="function"){w.callback=J,le(te),fe=!0;break t}w===t(f)&&r(f),le(te)}else r(f);w=t(f)}if(w!==null)fe=!0;else{var Te=t(d);Te!==null&&Ie(ce,Te.startTime-te),fe=!1}}break e}finally{w=null,E=he,S=!1}fe=void 0}}finally{fe?P():Ne=!1}}}var P;if(typeof ee=="function")P=function(){ee(C)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,se=M.port2;M.port1.onmessage=C,P=function(){se.postMessage(null)}}else P=function(){k(C,0)};function Ie(te,fe){U=k(function(){te(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(te){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var he=E;E=fe;try{return te()}finally{E=he}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var he=E;E=te;try{return fe()}finally{E=he}},n.unstable_scheduleCallback=function(te,fe,he){var Ce=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ce+he:Ce):he=Ce,te){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=he+J,te={id:y++,callback:fe,priorityLevel:te,startTime:he,expirationTime:J,sortIndex:-1},he>Ce?(te.sortIndex=he,e(d,te),t(f)===null&&te===t(d)&&(D?(W(U),U=-1):D=!0,Ie(ce,he-Ce))):(te.sortIndex=J,e(f,te),L||S||(L=!0,Ne||(Ne=!0,P()))),te},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(te){var fe=E;return function(){var he=E;E=fe;try{return te.apply(this,arguments)}finally{E=he}}}}(p0)),p0}var s5;function z4(){return s5||(s5=1,d0.exports=q4()),d0.exports}var m0={exports:{}},Fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5;function H4(){if(o5)return Fi;o5=1;var n=F1();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:f,containerInfo:d,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fi.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,y)},Fi.flushSync=function(f){var d=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=y,r.d.f()}},Fi.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Fi.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Fi.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,w=c(y,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:S}):y==="script"&&r.d.X(f,{crossOrigin:w,integrity:E,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Fi.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Fi.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,w=c(y,d.crossOrigin);r.d.L(f,y,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Fi.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Fi.requestFormReset=function(f){r.d.r(f)},Fi.unstable_batchedUpdates=function(f,d){return f(d)},Fi.useFormState=function(f,d,y){return u.H.useFormState(f,d,y)},Fi.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fi.version="19.1.0",Fi}var l5;function G4(){if(l5)return m0.exports;l5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),m0.exports=H4(),m0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5;function $4(){if(u5)return Uf;u5=1;var n=z4(),e=F1(),t=G4();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return c(g),i;if(b===h)return c(g),s;b=b.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=b;else{for(var F=!1,Q=g.child;Q;){if(Q===l){F=!0,l=g,h=b;break}if(Q===h){F=!0,h=g,l=b;break}Q=Q.sibling}if(!F){for(Q=b.child;Q;){if(Q===l){F=!0,l=b,h=g;break}if(Q===h){F=!0,h=b,l=g;break}Q=Q.sibling}if(!F)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function d(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=d(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case V:return"Profiler";case D:return"StrictMode";case ce:return"Suspense";case Ne:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case ee:return(i.displayName||"Context")+".Provider";case W:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return s=i.displayName||null,s!==null?s:se(i.type)||"Memo";case N:s=i._payload,i=i._init;try{return se(i(s))}catch{}}return null}var Ie=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ce=[],J=-1;function Te(i){return{current:i}}function O(i){0>J||(i.current=Ce[J],Ce[J]=null,J--)}function z(i,s){J++,Ce[J]=i.current,i.current=s}var X=Te(null),ie=Te(null),ae=Te(null),_e=Te(null);function pe(i,s){switch(z(ae,s),z(ie,i),z(X,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Cy(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Cy(s),i=Ry(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}O(X),z(X,i)}function Ee(){O(X),O(ie),O(ae)}function Je(i){i.memoizedState!==null&&z(_e,i);var s=X.current,l=Ry(s,i.type);s!==l&&(z(ie,i),z(X,l))}function Ke(i){ie.current===i&&(O(X),O(ie)),_e.current===i&&(O(_e),Of._currentValue=he)}var tt=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,wt=n.unstable_cancelCallback,Ue=n.unstable_shouldYield,oe=n.unstable_requestPaint,At=n.unstable_now,dt=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,st=n.unstable_NormalPriority,ot=n.unstable_LowPriority,yt=n.unstable_IdlePriority,Rt=n.log,Ft=n.unstable_setDisableYieldValue,bt=null,vt=null;function Ht(i){if(typeof Rt=="function"&&Ft(i),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(bt,i)}catch{}}var pt=Math.clz32?Math.clz32:er,Gt=Math.log,lt=Math.LN2;function er(i){return i>>>=0,i===0?32:31-(Gt(i)/lt|0)|0}var Yt=256,Wr=4194304;function Qt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Tn(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,b=i.suspendedLanes,F=i.pingedLanes;i=i.warmLanes;var Q=h&134217727;return Q!==0?(h=Q&~b,h!==0?g=Qt(h):(F&=Q,F!==0?g=Qt(F):l||(l=Q&~i,l!==0&&(g=Qt(l))))):(Q=h&~b,Q!==0?g=Qt(Q):F!==0?g=Qt(F):l||(l=h&~i,l!==0&&(g=Qt(l)))),g===0?0:s!==0&&s!==g&&(s&b)===0&&(b=g&-g,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:g}function ri(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function on(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var i=Yt;return Yt<<=1,(Yt&4194048)===0&&(Yt=256),i}function Mn(){var i=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),i}function Tr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Yr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Fn(i,s,l,h,g,b){var F=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var Q=i.entanglements,ue=i.expirationTimes,De=i.hiddenUpdates;for(l=F&~l;0<l;){var Be=31-pt(l),$e=1<<Be;Q[Be]=0,ue[Be]=-1;var ke=De[Be];if(ke!==null)for(De[Be]=null,Be=0;Be<ke.length;Be++){var je=ke[Be];je!==null&&(je.lane&=-536870913)}l&=~$e}h!==0&&Et(i,h,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(F&~s))}function Et(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-pt(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function ln(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-pt(l),g=1<<h;g&s|i[h]&s&&(i[h]|=s),l&=~g}}function xi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function tr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Kr(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:Ky(i.type))}function Yi(i,s){var l=fe.p;try{return fe.p=i,s()}finally{fe.p=l}}var ut=Math.random().toString(36).slice(2),xn="__reactFiber$"+ut,Nn="__reactProps$"+ut,Hn="__reactContainer$"+ut,Kn="__reactEvents$"+ut,nr="__reactListeners$"+ut,pr="__reactHandles$"+ut,ws="__reactResources$"+ut,mi="__reactMarker$"+ut;function Ur(i){delete i[xn],delete i[Nn],delete i[Kn],delete i[nr],delete i[pr]}function xr(i){var s=i[xn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Hn]||l[xn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Dy(i);i!==null;){if(l=i[xn])return l;i=Dy(i)}return s}i=l,l=i.parentNode}return null}function mr(i){if(i=i[xn]||i[Hn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Nr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Un(i){var s=i[ws];return s||(s=i[ws]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function yn(i){i[mi]=!0}var Ea=new Set,Ta={};function ii(i,s){Ni(i,s),Ni(i+"Capture",s)}function Ni(i,s){for(Ta[i]=s,i=0;i<s.length;i++)Ea.add(s[i])}var Ss=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},As={};function Gl(i){return tt.call(As,i)?!0:tt.call(Xo,i)?!1:Ss.test(i)?As[i]=!0:(Xo[i]=!0,!1)}function Ki(i,s,l){if(Gl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Qi(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Ir(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}var xa,$l;function ra(i){if(xa===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);xa=s&&s[1]||"",$l=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+i+$l}var lo=!1;function Na(i,s){if(!i||lo)return"";lo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(je){var ke=je}Reflect.construct(i,[],$e)}else{try{$e.call()}catch(je){ke=je}i.call($e.prototype)}}else{try{throw Error()}catch(je){ke=je}($e=i())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(je){if(je&&ke&&typeof je.stack=="string")return[je.stack,ke.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),F=b[0],Q=b[1];if(F&&Q){var ue=F.split(`
`),De=Q.split(`
`);for(g=h=0;h<ue.length&&!ue[h].includes("DetermineComponentFrameRoot");)h++;for(;g<De.length&&!De[g].includes("DetermineComponentFrameRoot");)g++;if(h===ue.length||g===De.length)for(h=ue.length-1,g=De.length-1;1<=h&&0<=g&&ue[h]!==De[g];)g--;for(;1<=h&&0<=g;h--,g--)if(ue[h]!==De[g]){if(h!==1||g!==1)do if(h--,g--,0>g||ue[h]!==De[g]){var Be=`
`+ue[h].replace(" at new "," at ");return i.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",i.displayName)),Be}while(1<=h&&0<=g);break}}}finally{lo=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ra(l):""}function Jo(i){switch(i.tag){case 26:case 27:case 5:return ra(i.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return Na(i.type,!1);case 11:return Na(i.type.render,!1);case 1:return Na(i.type,!0);case 31:return ra("Activity");default:return""}}function Vn(i){try{var s="";do s+=Jo(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Vr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function uo(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Wl(i){var s=uo(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(F){h=""+F,b.call(this,F)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(F){h=""+F},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ka(i){i._valueTracker||(i._valueTracker=Wl(i))}function Zo(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=uo(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Qr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var co=/[\n"\\]/g;function hn(i){return i.replace(co,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xr(i,s,l,h,g,b,F,Q){i.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.type=F:i.removeAttribute("type"),s!=null?F==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Vr(s)):i.value!==""+Vr(s)&&(i.value=""+Vr(s)):F!=="submit"&&F!=="reset"||i.removeAttribute("value"),s!=null?Xa(i,F,Vr(s)):l!=null?Xa(i,F,Vr(l)):h!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+Vr(Q):i.removeAttribute("name")}function Qa(i,s,l,h,g,b,F,Q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;l=l!=null?""+Vr(l):"",s=s!=null?""+Vr(s):l,Q||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=Q?i.checked:!!h,i.defaultChecked=!!h,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(i.name=F)}function Xa(i,s,l){s==="number"&&Qr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ia(i,s,l,h){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Vr(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function bn(i,s,l){if(s!=null&&(s=""+Vr(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Vr(l):""}function Ja(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ie(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=Vr(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Ii(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||Ia.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function el(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&Yl(i,g,h)}else for(var b in s)s.hasOwnProperty(b)&&Yl(i,b,s[b])}function tl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(i){return ho.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var aa=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var La=null,sa=null;function Nt(i){var s=mr(i);if(s&&(i=s.stateNode)){var l=i[Nn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Xr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var g=h[Nn]||null;if(!g)throw Error(r(90));Xr(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&Zo(h)}break e;case"textarea":bn(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ia(i,!!l.multiple,s,!1)}}}var oa=!1;function Kl(i,s,l){if(oa)return i(s,l);oa=!0;try{var h=i(s);return h}finally{if(oa=!1,(La!==null||sa!==null)&&(ap(),La&&(s=La,i=sa,sa=La=null,Nt(s),i)))for(s=0;s<i.length;s++)Nt(i[s])}}function ai(i,s){var l=i.stateNode;if(l===null)return null;var h=l[Nn]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=!1;if(Ci)try{var la={};Object.defineProperty(la,"passive",{get:function(){gi=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{gi=!1}var Ri=null,Za=null,Pa=null;function nl(){if(Pa)return Pa;var i,s=Za,l=s.length,h,g="value"in Ri?Ri.value:Ri.textContent,b=g.length;for(i=0;i<l&&s[i]===g[i];i++);var F=l-i;for(h=1;h<=F&&s[l-h]===g[b-h];h++);return Pa=g.slice(i,1<h?1-h:void 0)}function Li(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function si(){return!0}function ua(){return!1}function gr(i){function s(l,h,g,b,F){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=F,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(b):b[Q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?si:ua,this.isPropagationStopped=ua,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),s}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=gr(tn),ca=y({},tn,{view:0,detail:0}),rl=gr(ca),Es,Ts,Xi,oi=y({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xi&&(Xi&&i.type==="mousemove"?(Es=i.screenX-Xi.screenX,Ts=i.screenY-Xi.screenY):Ts=Es=0,Xi=i),Es)},movementY:function(i){return"movementY"in i?i.movementY:Ts}}),vr=gr(oi),Ql=y({},oi,{dataTransfer:0}),ts=gr(Ql),Jr=y({},ca,{relatedTarget:0}),ns=gr(Jr),Oa=y({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=gr(Oa),xs=y({},tn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),po=gr(xs),il=y({},tn,{data:0}),Ns=gr(il),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Is={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cs(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=mo[i])?!!s[i]:!1}function is(){return Cs}var Xl=y({},ca,{key:function(i){if(i.key){var s=rs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Li(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Is[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(i){return i.type==="keypress"?Li(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Li(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Da=gr(Xl),as=y({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=gr(as),li=y({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),go=gr(li),_=y({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=gr(_),re=y({},oi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),de=gr(re),Se=y({},tn,{newState:0,oldState:0}),Fe=gr(Se),Qe=[9,13,27,32],it=Ci&&"CompositionEvent"in window,m=null;Ci&&"documentMode"in document&&(m=document.documentMode);var x=Ci&&"TextEvent"in window&&!m,R=Ci&&(!it||m&&8<m&&11>=m),K=" ",we=!1;function Oe(i,s){switch(i){case"keyup":return Qe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var It=!1;function nn(i,s){switch(i){case"compositionend":return Xe(s);case"keypress":return s.which!==32?null:(we=!0,K);case"textInput":return i=s.data,i===K&&we?null:i;default:return null}}function Ut(i,s){if(It)return i==="compositionend"||!it&&Oe(i,s)?(i=nl(),Pa=Za=Ri=null,It=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return R&&s.locale!=="ko"?null:s.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!_n[i.type]:s==="textarea"}function ha(i,s,l,h){La?sa?sa.push(h):sa=[h]:La=h,s=hp(s,"onChange"),0<s.length&&(l=new es("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var lr=null,Pi=null;function ss(i){Ey(i,0)}function vo(i){var s=Nr(i);if(Zo(s))return i}function Jl(i,s){if(i==="change")return s}var al=!1;if(Ci){var Cr;if(Ci){var yo="oninput"in document;if(!yo){var sl=document.createElement("div");sl.setAttribute("oninput","return;"),yo=typeof sl.oninput=="function"}Cr=yo}else Cr=!1;al=Cr&&(!document.documentMode||9<document.documentMode)}function ol(){lr&&(lr.detachEvent("onpropertychange",Zl),Pi=lr=null)}function Zl(i){if(i.propertyName==="value"&&vo(Pi)){var s=[];ha(s,Pi,i,Ln(i)),Kl(ss,s)}}function Oi(i,s,l){i==="focusin"?(ol(),lr=s,Pi=l,lr.attachEvent("onpropertychange",Zl)):i==="focusout"&&ol()}function Zh(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vo(Pi)}function ec(i,s){if(i==="click")return vo(s)}function qc(i,s){if(i==="input"||i==="change")return vo(s)}function fa(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Br=typeof Object.is=="function"?Object.is:fa;function bo(i,s){if(Br(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!tt.call(s,g)||!Br(i[g],s[g]))return!1}return!0}function tc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ls(i,s){var l=tc(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tc(l)}}function _o(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?_o(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function vi(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Qr(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Qr(i.document)}return s}function Zr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var wo=Ci&&"documentMode"in document&&11>=document.documentMode,Di=null,ka=null,os=null,ja=!1;function rr(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ja||Di==null||Di!==Qr(h)||(h=Di,"selectionStart"in h&&Zr(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),os&&bo(os,h)||(os=h,h=hp(ka,"onSelect"),0<h.length&&(s=new es("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Di)))}function Ma(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var yr={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},ki={},ll={};Ci&&(ll=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function ls(i){if(ki[i])return ki[i];if(!yr[i])return i;var s=yr[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in ll)return ki[i]=s[l];return i}var eu=ls("animationend"),So=ls("animationiteration"),Ao=ls("animationstart"),Eo=ls("transitionrun"),ul=ls("transitionstart"),tu=ls("transitioncancel"),To=ls("transitionend"),Ps=new Map,cl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cl.push("scrollEnd");function ir(i,s){Ps.set(i,s),ii(s,[i])}var Ji=new WeakMap;function Xt(i,s){if(typeof i=="object"&&i!==null){var l=Ji.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Vn(s)},Ji.set(i,s),s)}return{value:i,source:s,stack:Vn(s)}}var Jt=[],Bn=0,ur=0;function da(){for(var i=Bn,s=ur=Bn=0;s<i;){var l=Jt[s];Jt[s++]=null;var h=Jt[s];Jt[s++]=null;var g=Jt[s];Jt[s++]=null;var b=Jt[s];if(Jt[s++]=null,h!==null&&g!==null){var F=h.pending;F===null?g.next=g:(g.next=F.next,F.next=g),h.pending=g}b!==0&&zc(l,g,b)}}function xo(i,s,l,h){Jt[Bn++]=i,Jt[Bn++]=s,Jt[Bn++]=l,Jt[Bn++]=h,ur|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function No(i,s,l,h){return xo(i,s,l,h),hl(i)}function Os(i,s){return xo(i,null,null,s),hl(i)}function zc(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&s!==null&&(g=31-pt(l),i=b.hiddenUpdates,h=i[g],h===null?i[g]=[s]:h.push(s),s.lane=l|536870912),b):null}function hl(i){if(50<Tf)throw Tf=0,Dg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var qr={};function pa(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(i,s,l,h){return new pa(i,s,l,h)}function nu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,s){var l=i.alternate;return l===null?(l=ui(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function nc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function fl(i,s,l,h,g,b){var F=0;if(h=i,typeof i=="function")nu(i)&&(F=1);else if(typeof i=="string")F=T4(i,l,X.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=ui(31,l,s,g),i.elementType=j,i.lanes=b,i;case L:return Ds(l.children,g,b,s);case D:F=8,g|=24;break;case V:return i=ui(12,l,s,g|2),i.elementType=V,i.lanes=b,i;case ce:return i=ui(13,l,s,g),i.elementType=ce,i.lanes=b,i;case Ne:return i=ui(19,l,s,g),i.elementType=Ne,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case ee:F=10;break e;case W:F=9;break e;case le:F=11;break e;case U:F=14;break e;case N:F=16,h=null;break e}F=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=ui(F,l,s,g),s.elementType=i,s.type=h,s.lanes=b,s}function Ds(i,s,l,h){return i=ui(7,i,h,s),i.lanes=l,i}function Hc(i,s,l){return i=ui(6,i,null,s),i.lanes=l,i}function rc(i,s,l){return s=ui(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Io=[],ks=0,ru=null,Gc=0,ma=[],Zi=0,dl=null,js=1,Ms="";function pl(i,s){Io[ks++]=Gc,Io[ks++]=ru,ru=i,Gc=s}function Cd(i,s,l){ma[Zi++]=js,ma[Zi++]=Ms,ma[Zi++]=dl,dl=i;var h=js;i=Ms;var g=32-pt(h)-1;h&=~(1<<g),l+=1;var b=32-pt(s)+g;if(30<b){var F=g-g%5;b=(h&(1<<F)-1).toString(32),h>>=F,g-=F,js=1<<32-pt(s)+g|l<<g|h,Ms=b+i}else js=1<<b|l<<g|h,Ms=i}function ic(i){i.return!==null&&(pl(i,1),Cd(i,1,0))}function ac(i){for(;i===ru;)ru=Io[--ks],Io[ks]=null,Gc=Io[--ks],Io[ks]=null;for(;i===dl;)dl=ma[--Zi],ma[Zi]=null,Ms=ma[--Zi],ma[Zi]=null,js=ma[--Zi],ma[Zi]=null}var Rr=null,ar=null,vn=!1,Co=null,cs=!1,ef=Error(r(519));function ml(i){var s=Error(r(418,""));throw iu(Xt(s,i)),ef}function Rd(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[xn]=i,s[Nn]=h,l){case"dialog":sn("cancel",s),sn("close",s);break;case"iframe":case"object":case"embed":sn("load",s);break;case"video":case"audio":for(l=0;l<Nf.length;l++)sn(Nf[l],s);break;case"source":sn("error",s);break;case"img":case"image":case"link":sn("error",s),sn("load",s);break;case"details":sn("toggle",s);break;case"input":sn("invalid",s),Qa(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ka(s);break;case"select":sn("invalid",s);break;case"textarea":sn("invalid",s),Ja(s,h.value,h.defaultValue,h.children),Ka(s)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||Iy(s.textContent,l)?(h.popover!=null&&(sn("beforetoggle",s),sn("toggle",s)),h.onScroll!=null&&sn("scroll",s),h.onScrollEnd!=null&&sn("scrollend",s),h.onClick!=null&&(s.onclick=fp),s=!0):s=!1,s||ml(i)}function Fs(i){for(Rr=i.return;Rr;)switch(Rr.tag){case 5:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:Rr=Rr.return}}function yi(i){if(i!==Rr)return!1;if(!vn)return Fs(i),vn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Qg(i.type,i.memoizedProps)),l=!l),l&&ar&&ml(i),Fs(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){ar=$s(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}ar=null}}else s===27?(s=ar,wu(i.type)?(i=e0,e0=null,ar=i):ar=s):ar=Rr?$s(i.stateNode.nextSibling):null;return!0}function ea(){ar=Rr=null,vn=!1}function Ld(){var i=Co;return i!==null&&(ya===null?ya=i:ya.push.apply(ya,i),Co=null),i}function iu(i){Co===null?Co=[i]:Co.push(i)}var hs=Te(null),zr=null,Us=null;function Ro(i,s,l){z(hs,s._currentValue),s._currentValue=l}function fs(i){i._currentValue=hs.current,O(hs)}function $c(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Wc(i,s,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var F=g.child;b=b.firstContext;e:for(;b!==null;){var Q=b;b=g;for(var ue=0;ue<s.length;ue++)if(Q.context===s[ue]){b.lanes|=l,Q=b.alternate,Q!==null&&(Q.lanes|=l),$c(b.return,l,i),h||(F=null);break e}b=Q.next}}else if(g.tag===18){if(F=g.return,F===null)throw Error(r(341));F.lanes|=l,b=F.alternate,b!==null&&(b.lanes|=l),$c(F,l,i),F=null}else F=g.child;if(F!==null)F.return=g;else for(F=g;F!==null;){if(F===i){F=null;break}if(g=F.sibling,g!==null){g.return=F.return,F=g;break}F=F.return}g=F}}function au(i,s,l,h){i=null;for(var g=s,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var F=g.alternate;if(F===null)throw Error(r(387));if(F=F.memoizedProps,F!==null){var Q=g.type;Br(g.pendingProps.value,F.value)||(i!==null?i.push(Q):i=[Q])}}else if(g===_e.current){if(F=g.alternate,F===null)throw Error(r(387));F.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Of):i=[Of])}g=g.return}i!==null&&Wc(s,i,l,h),s.flags|=262144}function Yc(i){for(i=i.firstContext;i!==null;){if(!Br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ds(i){zr=i,Us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Lr(i){return Kc(zr,i)}function Lo(i,s){return zr===null&&ds(i),Kc(i,s)}function Kc(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Us===null){if(i===null)throw Error(r(308));Us=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Us=Us.next=s;return l}var ag=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Pd=n.unstable_scheduleCallback,sg=n.unstable_NormalPriority,Pr={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new ag,data:new Map,refCount:0}}function sc(i){i.refCount--,i.refCount===0&&Pd(sg,function(){i.controller.abort()})}var oc=null,nf=0,gl=0,Vs=null;function og(i,s){if(oc===null){var l=oc=[];nf=0,gl=Bg(),Vs={status:"pending",value:void 0,then:function(h){l.push(h)}}}return nf++,s.then(Od,Od),s}function Od(){if(--nf===0&&oc!==null){Vs!==null&&(Vs.status="fulfilled");var i=oc;oc=null,gl=0,Vs=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Dd(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var p=te.S;te.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&og(i,s),p!==null&&p(i,s)};var v=Te(null);function A(){var i=v.current;return i!==null?i:Yn.pooledCache}function I(i,s){s===null?z(v,v.current):z(v,s.pool)}function B(){var i=A();return i===null?null:{parent:Pr._currentValue,pool:i}}var H=Error(r(460)),$=Error(r(474)),Y=Error(r(542)),Z={then:function(){}};function ne(i){return i=i.status,i==="fulfilled"||i==="rejected"}function me(){}function Pe(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(me,me),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,He(i),i;default:if(typeof s.status=="string")s.then(me,me);else{if(i=Yn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,He(i),i}throw Re=s,H}}var Re=null;function Ae(){if(Re===null)throw Error(r(459));var i=Re;return Re=null,i}function He(i){if(i===H||i===Y)throw Error(r(483))}var Me=!1;function ge(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ye(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ve(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ge(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(On&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=hl(i),zc(i,null,l),s}return xo(i,h,s,l),hl(i)}function qe(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ln(i,l)}}function ct(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var F={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=F:b=b.next=F,l=l.next}while(l!==null);b===null?g=b=s:b=b.next=s}else g=b=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var rt=!1;function _t(){if(rt){var i=Vs;if(i!==null)throw i}}function at(i,s,l,h){rt=!1;var g=i.updateQueue;Me=!1;var b=g.firstBaseUpdate,F=g.lastBaseUpdate,Q=g.shared.pending;if(Q!==null){g.shared.pending=null;var ue=Q,De=ue.next;ue.next=null,F===null?b=De:F.next=De,F=ue;var Be=i.alternate;Be!==null&&(Be=Be.updateQueue,Q=Be.lastBaseUpdate,Q!==F&&(Q===null?Be.firstBaseUpdate=De:Q.next=De,Be.lastBaseUpdate=ue))}if(b!==null){var $e=g.baseState;F=0,Be=De=ue=null,Q=b;do{var ke=Q.lane&-536870913,je=ke!==Q.lane;if(je?(mn&ke)===ke:(h&ke)===ke){ke!==0&&ke===gl&&(rt=!0),Be!==null&&(Be=Be.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var Mt=i,Ct=Q;ke=s;var zn=l;switch(Ct.tag){case 1:if(Mt=Ct.payload,typeof Mt=="function"){$e=Mt.call(zn,$e,ke);break e}$e=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ct.payload,ke=typeof Mt=="function"?Mt.call(zn,$e,ke):Mt,ke==null)break e;$e=y({},$e,ke);break e;case 2:Me=!0}}ke=Q.callback,ke!==null&&(i.flags|=64,je&&(i.flags|=8192),je=g.callbacks,je===null?g.callbacks=[ke]:je.push(ke))}else je={lane:ke,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Be===null?(De=Be=je,ue=$e):Be=Be.next=je,F|=ke;if(Q=Q.next,Q===null){if(Q=g.shared.pending,Q===null)break;je=Q,Q=je.next,je.next=null,g.lastBaseUpdate=je,g.shared.pending=null}}while(!0);Be===null&&(ue=$e),g.baseState=ue,g.firstBaseUpdate=De,g.lastBaseUpdate=Be,b===null&&(g.shared.lanes=0),vu|=F,i.lanes=F,i.memoizedState=$e}}function dn(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function wn(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)dn(l[i],s)}var Kt=Te(null),$t=Te(0);function Cn(i,s){i=xl,z($t,i),z(Kt,s),xl=i|s.baseLanes}function Sn(){z($t,xl),z(Kt,Kt.current)}function Vt(){xl=$t.current,O(Kt),O($t)}var Pn=0,Tt=null,Ot=null,fn=null,pn=!1,Hr=!1,Or=!1,cr=0,hr=0,br=null,ga=0;function An(){throw Error(r(321))}function _r(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Br(i[l],s[l]))return!1;return!0}function Fa(i,s,l,h,g,b){return Pn=b,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=i===null||i.memoizedState===null?l2:u2,Or=!1,b=l(h,g),Or=!1,Hr&&(b=vl(s,l,h,g)),Po(i),b}function Po(i){te.H=$d;var s=Ot!==null&&Ot.next!==null;if(Pn=0,fn=Ot=Tt=null,pn=!1,hr=0,br=null,s)throw Error(r(300));i===null||ci||(i=i.dependencies,i!==null&&Yc(i)&&(ci=!0))}function vl(i,s,l,h){Tt=i;var g=0;do{if(Hr&&(br=null),hr=0,Hr=!1,25<=g)throw Error(r(301));if(g+=1,fn=Ot=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}te.H=jE,b=s(l,h)}while(Hr);return b}function Oo(){var i=te.H,s=i.useState()[0];return s=typeof s.then=="function"?Do(s):s,i=i.useState()[0],(Ot!==null?Ot.memoizedState:null)!==i&&(Tt.flags|=1024),s}function Wn(){var i=cr!==0;return cr=0,i}function lc(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Qc(i){if(pn){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}pn=!1}Pn=0,fn=Ot=Tt=null,Hr=!1,hr=cr=0,br=null}function bi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Tt.memoizedState=fn=i:fn=fn.next=i,fn}function Qn(){if(Ot===null){var i=Tt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var s=fn===null?Tt.memoizedState:fn.next;if(s!==null)fn=s,Ot=i;else{if(i===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},fn===null?Tt.memoizedState=fn=i:fn=fn.next=i}return fn}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(i){var s=hr;return hr+=1,br===null&&(br=[]),i=Pe(br,i,s),s=Tt,(fn===null?s.memoizedState:fn.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?l2:u2),i}function ji(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Do(i);if(i.$$typeof===ee)return Lr(i)}throw Error(r(438,String(i)))}function ko(i){var s=null,l=Tt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=Tt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=yl(),Tt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=G;return s.index++,l}function Mi(i,s){return typeof s=="function"?s(i):s}function uc(i){var s=Qn();return su(s,Ot,i)}function su(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,b=h.pending;if(b!==null){if(g!==null){var F=g.next;g.next=b.next,b.next=F}s.baseQueue=g=b,h.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{s=g.next;var Q=F=null,ue=null,De=s,Be=!1;do{var $e=De.lane&-536870913;if($e!==De.lane?(mn&$e)===$e:(Pn&$e)===$e){var ke=De.revertLane;if(ke===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),$e===gl&&(Be=!0);else if((Pn&ke)===ke){De=De.next,ke===gl&&(Be=!0);continue}else $e={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ue===null?(Q=ue=$e,F=b):ue=ue.next=$e,Tt.lanes|=ke,vu|=ke;$e=De.action,Or&&l(b,$e),b=De.hasEagerState?De.eagerState:l(b,$e)}else ke={lane:$e,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ue===null?(Q=ue=ke,F=b):ue=ue.next=ke,Tt.lanes|=$e,vu|=$e;De=De.next}while(De!==null&&De!==s);if(ue===null?F=b:ue.next=Q,!Br(b,i.memoizedState)&&(ci=!0,Be&&(l=Vs,l!==null)))throw l;i.memoizedState=b,i.baseState=F,i.baseQueue=ue,h.lastRenderedState=b}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Xc(i){var s=Qn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,b=s.memoizedState;if(g!==null){l.pending=null;var F=g=g.next;do b=i(b,F.action),F=F.next;while(F!==g);Br(b,s.memoizedState)||(ci=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,h]}function cc(i,s,l){var h=Tt,g=Qn(),b=vn;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var F=!Br((Ot||g).memoizedState,l);F&&(g.memoizedState=l,ci=!0),g=g.queue;var Q=ou.bind(null,h,g,i);if(cu(2048,8,Q,[i]),g.getSnapshot!==s||F||fn!==null&&fn.memoizedState.tag&1){if(h.flags|=2048,qs(9,pc(),hc.bind(null,h,g,l,s),null),Yn===null)throw Error(r(349));b||(Pn&124)!==0||Jc(h,s,l)}return l}function Jc(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Tt.updateQueue,s===null?(s=yl(),Tt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function hc(i,s,l,h){s.value=l,s.getSnapshot=h,kd(s)&&jd(i)}function ou(i,s,l){return l(function(){kd(s)&&jd(i)})}function kd(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Br(i,l)}catch{return!0}}function jd(i){var s=Os(i,2);s!==null&&Ha(s,i,2)}function fc(i){var s=bi();if(typeof i=="function"){var l=i;if(i=l(),Or){Ht(!0);try{l()}finally{Ht(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:i},s}function Bs(i,s,l,h){return i.baseState=l,su(i,Ot,typeof h=="function"?h:Mi)}function lg(i,s,l,h,g){if(Gd(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){b.listeners.push(F)}};te.T!==null?l(!0):b.isTransition=!1,h(b),l=s.pending,l===null?(b.next=s.pending=b,Md(s,b)):(b.next=l.next,s.pending=l.next=b)}}function Md(i,s){var l=s.action,h=s.payload,g=i.state;if(s.isTransition){var b=te.T,F={};te.T=F;try{var Q=l(g,h),ue=te.S;ue!==null&&ue(F,Q),Fd(i,s,Q)}catch(De){lu(i,s,De)}finally{te.T=b}}else try{b=l(g,h),Fd(i,s,b)}catch(De){lu(i,s,De)}}function Fd(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){rf(i,s,h)},function(h){return lu(i,s,h)}):rf(i,s,l)}function rf(i,s,l){s.status="fulfilled",s.value=l,af(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Md(i,l)))}function lu(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,af(s),s=s.next;while(s!==h)}i.action=null}function af(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function sf(i,s){return s}function dc(i,s){if(vn){var l=Yn.formState;if(l!==null){e:{var h=Tt;if(vn){if(ar){t:{for(var g=ar,b=cs;g.nodeType!==8;){if(!b){g=null;break t}if(g=$s(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){ar=$s(g.nextSibling),h=g.data==="F!";break e}}ml(h)}h=!1}h&&(s=l[0])}}return l=bi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:s},l.queue=h,l=a2.bind(null,Tt,h),h.dispatch=l,h=fc(!1),b=ug.bind(null,Tt,!1,h.queue),h=bi(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,l=lg.bind(null,Tt,g,b,l),g.dispatch=l,h.memoizedState=i,[s,l,!1]}function Zc(i){var s=Qn();return uu(s,Ot,i)}function uu(i,s,l){if(s=su(i,s,sf)[0],i=uc(Mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Do(s)}catch(F){throw F===H?Y:F}else h=s;s=Qn();var g=s.queue,b=g.dispatch;return l!==s.memoizedState&&(Tt.flags|=2048,qs(9,pc(),Ud.bind(null,g,l),null)),[h,b,i]}function Ud(i,s){i.action=s}function Vd(i){var s=Qn(),l=Ot;if(l!==null)return uu(s,l,i);Qn(),s=s.memoizedState,l=Qn();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function qs(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=Tt.updateQueue,s===null&&(s=yl(),Tt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function pc(){return{destroy:void 0,resource:void 0}}function eh(){return Qn().memoizedState}function Ua(i,s,l,h){var g=bi();h=h===void 0?null:h,Tt.flags|=i,g.memoizedState=qs(1|s,pc(),l,h)}function cu(i,s,l,h){var g=Qn();h=h===void 0?null:h;var b=g.memoizedState.inst;Ot!==null&&h!==null&&_r(h,Ot.memoizedState.deps)?g.memoizedState=qs(s,b,l,h):(Tt.flags|=i,g.memoizedState=qs(1|s,b,l,h))}function of(i,s){Ua(8390656,8,i,s)}function Bd(i,s){cu(2048,8,i,s)}function lf(i,s){return cu(4,2,i,s)}function bl(i,s){return cu(4,4,i,s)}function qd(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function uf(i,s,l){l=l!=null?l.concat([i]):null,cu(4,4,qd.bind(null,s,i),l)}function cf(){}function hf(i,s){var l=Qn();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&_r(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function zd(i,s){var l=Qn();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&_r(s,h[1]))return h[0];if(h=i(),Or){Ht(!0);try{i()}finally{Ht(!1)}}return l.memoizedState=[h,s],h}function _l(i,s,l){return l===void 0||(Pn&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=ty(),Tt.lanes|=i,vu|=i,l)}function th(i,s,l,h){return Br(l,s)?l:Kt.current!==null?(i=_l(i,l,h),Br(i,s)||(ci=!0),i):(Pn&42)===0?(ci=!0,i.memoizedState=l):(i=ty(),Tt.lanes|=i,vu|=i,s)}function mc(i,s,l,h,g){var b=fe.p;fe.p=b!==0&&8>b?b:8;var F=te.T,Q={};te.T=Q,ug(i,!1,s,l);try{var ue=g(),De=te.S;if(De!==null&&De(Q,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Be=Dd(ue,h);mf(i,s,Be,za(i))}else mf(i,s,h,za(i))}catch($e){mf(i,s,{then:function(){},status:"rejected",reason:$e},za())}finally{fe.p=b,te.T=F}}function zs(){}function ps(i,s,l,h){if(i.tag!==5)throw Error(r(476));var g=Hs(i).queue;mc(i,g,s,he,l===null?zs:function(){return gc(i),l(h)})}function Hs(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:he},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function gc(i){var s=Hs(i).next.queue;mf(i,s,{},za())}function vc(){return Lr(Of)}function ff(){return Qn().memoizedState}function Hd(){return Qn().memoizedState}function df(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=za();i=Ve(l);var h=Ge(s,i,l);h!==null&&(Ha(h,s,l),qe(h,s,l)),s={cache:tf()},i.payload=s;return}s=s.return}}function pf(i,s,l){var h=za();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Gd(i)?s2(s,l):(l=No(i,s,l,h),l!==null&&(Ha(l,i,h),o2(l,s,h)))}function a2(i,s,l){var h=za();mf(i,s,l,h)}function mf(i,s,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gd(i))s2(s,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var F=s.lastRenderedState,Q=b(F,l);if(g.hasEagerState=!0,g.eagerState=Q,Br(Q,F))return xo(i,s,g,0),Yn===null&&da(),!1}catch{}finally{}if(l=No(i,s,g,h),l!==null)return Ha(l,i,h),o2(l,s,h),!0}return!1}function ug(i,s,l,h){if(h={lane:2,revertLane:Bg(),action:h,hasEagerState:!1,eagerState:null,next:null},Gd(i)){if(s)throw Error(r(479))}else s=No(i,l,h,2),s!==null&&Ha(s,i,2)}function Gd(i){var s=i.alternate;return i===Tt||s!==null&&s===Tt}function s2(i,s){Hr=pn=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function o2(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ln(i,l)}}var $d={readContext:Lr,use:ji,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An},l2={readContext:Lr,use:ji,useCallback:function(i,s){return bi().memoizedState=[i,s===void 0?null:s],i},useContext:Lr,useEffect:of,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Ua(4194308,4,qd.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Ua(4194308,4,i,s)},useInsertionEffect:function(i,s){Ua(4,2,i,s)},useMemo:function(i,s){var l=bi();s=s===void 0?null:s;var h=i();if(Or){Ht(!0);try{i()}finally{Ht(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=bi();if(l!==void 0){var g=l(s);if(Or){Ht(!0);try{l(s)}finally{Ht(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=pf.bind(null,Tt,i),[h.memoizedState,i]},useRef:function(i){var s=bi();return i={current:i},s.memoizedState=i},useState:function(i){i=fc(i);var s=i.queue,l=a2.bind(null,Tt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:cf,useDeferredValue:function(i,s){var l=bi();return _l(l,i,s)},useTransition:function(){var i=fc(!1);return i=mc.bind(null,Tt,i.queue,!0,!1),bi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=Tt,g=bi();if(vn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Yn===null)throw Error(r(349));(mn&124)!==0||Jc(h,s,l)}g.memoizedState=l;var b={value:l,getSnapshot:s};return g.queue=b,of(ou.bind(null,h,b,i),[i]),h.flags|=2048,qs(9,pc(),hc.bind(null,h,b,l,s),null),l},useId:function(){var i=bi(),s=Yn.identifierPrefix;if(vn){var l=Ms,h=js;l=(h&~(1<<32-pt(h)-1)).toString(32)+l,s=""+s+"R"+l,l=cr++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=ga++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:vc,useFormState:dc,useActionState:dc,useOptimistic:function(i){var s=bi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=ug.bind(null,Tt,!0,l),l.dispatch=s,[i,s]},useMemoCache:ko,useCacheRefresh:function(){return bi().memoizedState=df.bind(null,Tt)}},u2={readContext:Lr,use:ji,useCallback:hf,useContext:Lr,useEffect:Bd,useImperativeHandle:uf,useInsertionEffect:lf,useLayoutEffect:bl,useMemo:zd,useReducer:uc,useRef:eh,useState:function(){return uc(Mi)},useDebugValue:cf,useDeferredValue:function(i,s){var l=Qn();return th(l,Ot.memoizedState,i,s)},useTransition:function(){var i=uc(Mi)[0],s=Qn().memoizedState;return[typeof i=="boolean"?i:Do(i),s]},useSyncExternalStore:cc,useId:ff,useHostTransitionStatus:vc,useFormState:Zc,useActionState:Zc,useOptimistic:function(i,s){var l=Qn();return Bs(l,Ot,i,s)},useMemoCache:ko,useCacheRefresh:Hd},jE={readContext:Lr,use:ji,useCallback:hf,useContext:Lr,useEffect:Bd,useImperativeHandle:uf,useInsertionEffect:lf,useLayoutEffect:bl,useMemo:zd,useReducer:Xc,useRef:eh,useState:function(){return Xc(Mi)},useDebugValue:cf,useDeferredValue:function(i,s){var l=Qn();return Ot===null?_l(l,i,s):th(l,Ot.memoizedState,i,s)},useTransition:function(){var i=Xc(Mi)[0],s=Qn().memoizedState;return[typeof i=="boolean"?i:Do(i),s]},useSyncExternalStore:cc,useId:ff,useHostTransitionStatus:vc,useFormState:Vd,useActionState:Vd,useOptimistic:function(i,s){var l=Qn();return Ot!==null?Bs(l,Ot,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:ko,useCacheRefresh:Hd},nh=null,gf=0;function Wd(i){var s=gf;return gf+=1,nh===null&&(nh=[]),Pe(nh,i,s)}function vf(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Yd(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function c2(i){var s=i._init;return s(i._payload)}function h2(i){function s(xe,ve){if(i){var Le=xe.deletions;Le===null?(xe.deletions=[ve],xe.flags|=16):Le.push(ve)}}function l(xe,ve){if(!i)return null;for(;ve!==null;)s(xe,ve),ve=ve.sibling;return null}function h(xe){for(var ve=new Map;xe!==null;)xe.key!==null?ve.set(xe.key,xe):ve.set(xe.index,xe),xe=xe.sibling;return ve}function g(xe,ve){return xe=us(xe,ve),xe.index=0,xe.sibling=null,xe}function b(xe,ve,Le){return xe.index=Le,i?(Le=xe.alternate,Le!==null?(Le=Le.index,Le<ve?(xe.flags|=67108866,ve):Le):(xe.flags|=67108866,ve)):(xe.flags|=1048576,ve)}function F(xe){return i&&xe.alternate===null&&(xe.flags|=67108866),xe}function Q(xe,ve,Le,ze){return ve===null||ve.tag!==6?(ve=Hc(Le,xe.mode,ze),ve.return=xe,ve):(ve=g(ve,Le),ve.return=xe,ve)}function ue(xe,ve,Le,ze){var mt=Le.type;return mt===L?Be(xe,ve,Le.props.children,ze,Le.key):ve!==null&&(ve.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===N&&c2(mt)===ve.type)?(ve=g(ve,Le.props),vf(ve,Le),ve.return=xe,ve):(ve=fl(Le.type,Le.key,Le.props,null,xe.mode,ze),vf(ve,Le),ve.return=xe,ve)}function De(xe,ve,Le,ze){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Le.containerInfo||ve.stateNode.implementation!==Le.implementation?(ve=rc(Le,xe.mode,ze),ve.return=xe,ve):(ve=g(ve,Le.children||[]),ve.return=xe,ve)}function Be(xe,ve,Le,ze,mt){return ve===null||ve.tag!==7?(ve=Ds(Le,xe.mode,ze,mt),ve.return=xe,ve):(ve=g(ve,Le),ve.return=xe,ve)}function $e(xe,ve,Le){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Hc(""+ve,xe.mode,Le),ve.return=xe,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case E:return Le=fl(ve.type,ve.key,ve.props,null,xe.mode,Le),vf(Le,ve),Le.return=xe,Le;case S:return ve=rc(ve,xe.mode,Le),ve.return=xe,ve;case N:var ze=ve._init;return ve=ze(ve._payload),$e(xe,ve,Le)}if(Ie(ve)||P(ve))return ve=Ds(ve,xe.mode,Le,null),ve.return=xe,ve;if(typeof ve.then=="function")return $e(xe,Wd(ve),Le);if(ve.$$typeof===ee)return $e(xe,Lo(xe,ve),Le);Yd(xe,ve)}return null}function ke(xe,ve,Le,ze){var mt=ve!==null?ve.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return mt!==null?null:Q(xe,ve,""+Le,ze);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case E:return Le.key===mt?ue(xe,ve,Le,ze):null;case S:return Le.key===mt?De(xe,ve,Le,ze):null;case N:return mt=Le._init,Le=mt(Le._payload),ke(xe,ve,Le,ze)}if(Ie(Le)||P(Le))return mt!==null?null:Be(xe,ve,Le,ze,null);if(typeof Le.then=="function")return ke(xe,ve,Wd(Le),ze);if(Le.$$typeof===ee)return ke(xe,ve,Lo(xe,Le),ze);Yd(xe,Le)}return null}function je(xe,ve,Le,ze,mt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return xe=xe.get(Le)||null,Q(ve,xe,""+ze,mt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case E:return xe=xe.get(ze.key===null?Le:ze.key)||null,ue(ve,xe,ze,mt);case S:return xe=xe.get(ze.key===null?Le:ze.key)||null,De(ve,xe,ze,mt);case N:var rn=ze._init;return ze=rn(ze._payload),je(xe,ve,Le,ze,mt)}if(Ie(ze)||P(ze))return xe=xe.get(Le)||null,Be(ve,xe,ze,mt,null);if(typeof ze.then=="function")return je(xe,ve,Le,Wd(ze),mt);if(ze.$$typeof===ee)return je(xe,ve,Le,Lo(ve,ze),mt);Yd(ve,ze)}return null}function Mt(xe,ve,Le,ze){for(var mt=null,rn=null,St=ve,Lt=ve=0,fi=null;St!==null&&Lt<Le.length;Lt++){St.index>Lt?(fi=St,St=null):fi=St.sibling;var En=ke(xe,St,Le[Lt],ze);if(En===null){St===null&&(St=fi);break}i&&St&&En.alternate===null&&s(xe,St),ve=b(En,ve,Lt),rn===null?mt=En:rn.sibling=En,rn=En,St=fi}if(Lt===Le.length)return l(xe,St),vn&&pl(xe,Lt),mt;if(St===null){for(;Lt<Le.length;Lt++)St=$e(xe,Le[Lt],ze),St!==null&&(ve=b(St,ve,Lt),rn===null?mt=St:rn.sibling=St,rn=St);return vn&&pl(xe,Lt),mt}for(St=h(St);Lt<Le.length;Lt++)fi=je(St,xe,Lt,Le[Lt],ze),fi!==null&&(i&&fi.alternate!==null&&St.delete(fi.key===null?Lt:fi.key),ve=b(fi,ve,Lt),rn===null?mt=fi:rn.sibling=fi,rn=fi);return i&&St.forEach(function(xu){return s(xe,xu)}),vn&&pl(xe,Lt),mt}function Ct(xe,ve,Le,ze){if(Le==null)throw Error(r(151));for(var mt=null,rn=null,St=ve,Lt=ve=0,fi=null,En=Le.next();St!==null&&!En.done;Lt++,En=Le.next()){St.index>Lt?(fi=St,St=null):fi=St.sibling;var xu=ke(xe,St,En.value,ze);if(xu===null){St===null&&(St=fi);break}i&&St&&xu.alternate===null&&s(xe,St),ve=b(xu,ve,Lt),rn===null?mt=xu:rn.sibling=xu,rn=xu,St=fi}if(En.done)return l(xe,St),vn&&pl(xe,Lt),mt;if(St===null){for(;!En.done;Lt++,En=Le.next())En=$e(xe,En.value,ze),En!==null&&(ve=b(En,ve,Lt),rn===null?mt=En:rn.sibling=En,rn=En);return vn&&pl(xe,Lt),mt}for(St=h(St);!En.done;Lt++,En=Le.next())En=je(St,xe,Lt,En.value,ze),En!==null&&(i&&En.alternate!==null&&St.delete(En.key===null?Lt:En.key),ve=b(En,ve,Lt),rn===null?mt=En:rn.sibling=En,rn=En);return i&&St.forEach(function(M4){return s(xe,M4)}),vn&&pl(xe,Lt),mt}function zn(xe,ve,Le,ze){if(typeof Le=="object"&&Le!==null&&Le.type===L&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case E:e:{for(var mt=Le.key;ve!==null;){if(ve.key===mt){if(mt=Le.type,mt===L){if(ve.tag===7){l(xe,ve.sibling),ze=g(ve,Le.props.children),ze.return=xe,xe=ze;break e}}else if(ve.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===N&&c2(mt)===ve.type){l(xe,ve.sibling),ze=g(ve,Le.props),vf(ze,Le),ze.return=xe,xe=ze;break e}l(xe,ve);break}else s(xe,ve);ve=ve.sibling}Le.type===L?(ze=Ds(Le.props.children,xe.mode,ze,Le.key),ze.return=xe,xe=ze):(ze=fl(Le.type,Le.key,Le.props,null,xe.mode,ze),vf(ze,Le),ze.return=xe,xe=ze)}return F(xe);case S:e:{for(mt=Le.key;ve!==null;){if(ve.key===mt)if(ve.tag===4&&ve.stateNode.containerInfo===Le.containerInfo&&ve.stateNode.implementation===Le.implementation){l(xe,ve.sibling),ze=g(ve,Le.children||[]),ze.return=xe,xe=ze;break e}else{l(xe,ve);break}else s(xe,ve);ve=ve.sibling}ze=rc(Le,xe.mode,ze),ze.return=xe,xe=ze}return F(xe);case N:return mt=Le._init,Le=mt(Le._payload),zn(xe,ve,Le,ze)}if(Ie(Le))return Mt(xe,ve,Le,ze);if(P(Le)){if(mt=P(Le),typeof mt!="function")throw Error(r(150));return Le=mt.call(Le),Ct(xe,ve,Le,ze)}if(typeof Le.then=="function")return zn(xe,ve,Wd(Le),ze);if(Le.$$typeof===ee)return zn(xe,ve,Lo(xe,Le),ze);Yd(xe,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,ve!==null&&ve.tag===6?(l(xe,ve.sibling),ze=g(ve,Le),ze.return=xe,xe=ze):(l(xe,ve),ze=Hc(Le,xe.mode,ze),ze.return=xe,xe=ze),F(xe)):l(xe,ve)}return function(xe,ve,Le,ze){try{gf=0;var mt=zn(xe,ve,Le,ze);return nh=null,mt}catch(St){if(St===H||St===Y)throw St;var rn=ui(29,St,null,xe.mode);return rn.lanes=ze,rn.return=xe,rn}finally{}}}var rh=h2(!0),f2=h2(!1),ms=Te(null),jo=null;function hu(i){var s=i.alternate;z(ei,ei.current&1),z(ms,i),jo===null&&(s===null||Kt.current!==null||s.memoizedState!==null)&&(jo=i)}function d2(i){if(i.tag===22){if(z(ei,ei.current),z(ms,i),jo===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(jo=i)}}else fu()}function fu(){z(ei,ei.current),z(ms,ms.current)}function wl(i){O(ms),jo===i&&(jo=null),O(ei)}var ei=Te(0);function Kd(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Zg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function cg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var hg={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=za(),g=Ve(h);g.payload=s,l!=null&&(g.callback=l),s=Ge(i,g,h),s!==null&&(Ha(s,i,h),qe(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=za(),g=Ve(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Ge(i,g,h),s!==null&&(Ha(s,i,h),qe(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=za(),h=Ve(l);h.tag=2,s!=null&&(h.callback=s),s=Ge(i,h,l),s!==null&&(Ha(s,i,l),qe(s,i,l))}};function p2(i,s,l,h,g,b,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,F):s.prototype&&s.prototype.isPureReactComponent?!bo(l,h)||!bo(g,b):!0}function m2(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&hg.enqueueReplaceState(s,s.state,null)}function yc(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Qd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function g2(i){Qd(i)}function v2(i){console.error(i)}function y2(i){Qd(i)}function Xd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function b2(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function fg(i,s,l){return l=Ve(l),l.tag=3,l.payload={element:null},l.callback=function(){Xd(i,s)},l}function _2(i){return i=Ve(i),i.tag=3,i}function w2(i,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=h.value;i.payload=function(){return g(b)},i.callback=function(){b2(s,l,h)}}var F=l.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(i.callback=function(){b2(s,l,h),typeof g!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var Q=h.stack;this.componentDidCatch(h.value,{componentStack:Q!==null?Q:""})})}function ME(i,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&au(s,l,g,!0),l=ms.current,l!==null){switch(l.tag){case 13:return jo===null?jg():l.alternate===null&&wr===0&&(wr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Z?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Fg(i,h,g)),!1;case 22:return l.flags|=65536,h===Z?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Fg(i,h,g)),!1}throw Error(r(435,l.tag))}return Fg(i,h,g),jg(),!1}if(vn)return s=ms.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==ef&&(i=Error(r(422),{cause:h}),iu(Xt(i,l)))):(h!==ef&&(s=Error(r(423),{cause:h}),iu(Xt(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Xt(h,l),g=fg(i.stateNode,h,g),ct(i,g),wr!==4&&(wr=2)),!1;var b=Error(r(520),{cause:h});if(b=Xt(b,l),Ef===null?Ef=[b]:Ef.push(b),wr!==4&&(wr=2),s===null)return!0;h=Xt(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=fg(l.stateNode,h,i),ct(l,i),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yu===null||!yu.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=_2(g),w2(g,i,l,h),ct(l,g),!1}l=l.return}while(l!==null);return!1}var S2=Error(r(461)),ci=!1;function _i(i,s,l,h){s.child=i===null?f2(s,null,l,h):rh(s,i.child,l,h)}function A2(i,s,l,h,g){l=l.render;var b=s.ref;if("ref"in h){var F={};for(var Q in h)Q!=="ref"&&(F[Q]=h[Q])}else F=h;return ds(s),h=Fa(i,s,l,F,b,g),Q=Wn(),i!==null&&!ci?(lc(i,s,g),Sl(i,s,g)):(vn&&Q&&ic(s),s.flags|=1,_i(i,s,h,g),s.child)}function E2(i,s,l,h,g){if(i===null){var b=l.type;return typeof b=="function"&&!nu(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,T2(i,s,b,h,g)):(i=fl(l.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!_g(i,g)){var F=b.memoizedProps;if(l=l.compare,l=l!==null?l:bo,l(F,h)&&i.ref===s.ref)return Sl(i,s,g)}return s.flags|=1,i=us(b,h),i.ref=s.ref,i.return=s,s.child=i}function T2(i,s,l,h,g){if(i!==null){var b=i.memoizedProps;if(bo(b,h)&&i.ref===s.ref)if(ci=!1,s.pendingProps=h=b,_g(i,g))(i.flags&131072)!==0&&(ci=!0);else return s.lanes=i.lanes,Sl(i,s,g)}return dg(i,s,l,h,g)}function x2(i,s,l){var h=s.pendingProps,g=h.children,b=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=b!==null?b.baseLanes|l:l,i!==null){for(g=s.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;s.childLanes=b&~h}else s.childLanes=0,s.child=null;return N2(i,s,h,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&I(s,b!==null?b.cachePool:null),b!==null?Cn(s,b):Sn(),d2(s);else return s.lanes=s.childLanes=536870912,N2(i,s,b!==null?b.baseLanes|l:l,l)}else b!==null?(I(s,b.cachePool),Cn(s,b),fu(),s.memoizedState=null):(i!==null&&I(s,null),Sn(),fu());return _i(i,s,g,l),s.child}function N2(i,s,l,h){var g=A();return g=g===null?null:{parent:Pr._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&I(s,null),Sn(),d2(s),i!==null&&au(i,s,h,!0),null}function Jd(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function dg(i,s,l,h,g){return ds(s),l=Fa(i,s,l,h,void 0,g),h=Wn(),i!==null&&!ci?(lc(i,s,g),Sl(i,s,g)):(vn&&h&&ic(s),s.flags|=1,_i(i,s,l,g),s.child)}function I2(i,s,l,h,g,b){return ds(s),s.updateQueue=null,l=vl(s,h,l,g),Po(i),h=Wn(),i!==null&&!ci?(lc(i,s,b),Sl(i,s,b)):(vn&&h&&ic(s),s.flags|=1,_i(i,s,l,b),s.child)}function C2(i,s,l,h,g){if(ds(s),s.stateNode===null){var b=qr,F=l.contextType;typeof F=="object"&&F!==null&&(b=Lr(F)),b=new l(h,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=hg,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=h,b.state=s.memoizedState,b.refs={},ge(s),F=l.contextType,b.context=typeof F=="object"&&F!==null?Lr(F):qr,b.state=s.memoizedState,F=l.getDerivedStateFromProps,typeof F=="function"&&(cg(s,l,F,h),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(F=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),F!==b.state&&hg.enqueueReplaceState(b,b.state,null),at(s,h,b,g),_t(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){b=s.stateNode;var Q=s.memoizedProps,ue=yc(l,Q);b.props=ue;var De=b.context,Be=l.contextType;F=qr,typeof Be=="object"&&Be!==null&&(F=Lr(Be));var $e=l.getDerivedStateFromProps;Be=typeof $e=="function"||typeof b.getSnapshotBeforeUpdate=="function",Q=s.pendingProps!==Q,Be||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(Q||De!==F)&&m2(s,b,h,F),Me=!1;var ke=s.memoizedState;b.state=ke,at(s,h,b,g),_t(),De=s.memoizedState,Q||ke!==De||Me?(typeof $e=="function"&&(cg(s,l,$e,h),De=s.memoizedState),(ue=Me||p2(s,l,ue,h,ke,De,F))?(Be||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=De),b.props=h,b.state=De,b.context=F,h=ue):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{b=s.stateNode,ye(i,s),F=s.memoizedProps,Be=yc(l,F),b.props=Be,$e=s.pendingProps,ke=b.context,De=l.contextType,ue=qr,typeof De=="object"&&De!==null&&(ue=Lr(De)),Q=l.getDerivedStateFromProps,(De=typeof Q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(F!==$e||ke!==ue)&&m2(s,b,h,ue),Me=!1,ke=s.memoizedState,b.state=ke,at(s,h,b,g),_t();var je=s.memoizedState;F!==$e||ke!==je||Me||i!==null&&i.dependencies!==null&&Yc(i.dependencies)?(typeof Q=="function"&&(cg(s,l,Q,h),je=s.memoizedState),(Be=Me||p2(s,l,Be,h,ke,je,ue)||i!==null&&i.dependencies!==null&&Yc(i.dependencies))?(De||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,je,ue),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,je,ue)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||F===i.memoizedProps&&ke===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ke===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=je),b.props=h,b.state=je,b.context=ue,h=Be):(typeof b.componentDidUpdate!="function"||F===i.memoizedProps&&ke===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&ke===i.memoizedState||(s.flags|=1024),h=!1)}return b=h,Jd(i,s),h=(s.flags&128)!==0,b||h?(b=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&h?(s.child=rh(s,i.child,null,g),s.child=rh(s,null,l,g)):_i(i,s,l,g),s.memoizedState=b.state,i=s.child):i=Sl(i,s,g),i}function R2(i,s,l,h){return ea(),s.flags|=256,_i(i,s,l,h),s.child}var pg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mg(i){return{baseLanes:i,cachePool:B()}}function gg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=gs),i}function L2(i,s,l){var h=s.pendingProps,g=!1,b=(s.flags&128)!==0,F;if((F=b)||(F=i!==null&&i.memoizedState===null?!1:(ei.current&2)!==0),F&&(g=!0,s.flags&=-129),F=(s.flags&32)!==0,s.flags&=-33,i===null){if(vn){if(g?hu(s):fu(),vn){var Q=ar,ue;if(ue=Q){e:{for(ue=Q,Q=cs;ue.nodeType!==8;){if(!Q){Q=null;break e}if(ue=$s(ue.nextSibling),ue===null){Q=null;break e}}Q=ue}Q!==null?(s.memoizedState={dehydrated:Q,treeContext:dl!==null?{id:js,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},ue=ui(18,null,null,0),ue.stateNode=Q,ue.return=s,s.child=ue,Rr=s,ar=null,ue=!0):ue=!1}ue||ml(s)}if(Q=s.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Zg(Q)?s.lanes=32:s.lanes=536870912,null;wl(s)}return Q=h.children,h=h.fallback,g?(fu(),g=s.mode,Q=Zd({mode:"hidden",children:Q},g),h=Ds(h,g,l,null),Q.return=s,h.return=s,Q.sibling=h,s.child=Q,g=s.child,g.memoizedState=mg(l),g.childLanes=gg(i,F,l),s.memoizedState=pg,h):(hu(s),vg(s,Q))}if(ue=i.memoizedState,ue!==null&&(Q=ue.dehydrated,Q!==null)){if(b)s.flags&256?(hu(s),s.flags&=-257,s=yg(i,s,l)):s.memoizedState!==null?(fu(),s.child=i.child,s.flags|=128,s=null):(fu(),g=h.fallback,Q=s.mode,h=Zd({mode:"visible",children:h.children},Q),g=Ds(g,Q,l,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,rh(s,i.child,null,l),h=s.child,h.memoizedState=mg(l),h.childLanes=gg(i,F,l),s.memoizedState=pg,s=g);else if(hu(s),Zg(Q)){if(F=Q.nextSibling&&Q.nextSibling.dataset,F)var De=F.dgst;F=De,h=Error(r(419)),h.stack="",h.digest=F,iu({value:h,source:null,stack:null}),s=yg(i,s,l)}else if(ci||au(i,s,l,!1),F=(l&i.childLanes)!==0,ci||F){if(F=Yn,F!==null&&(h=l&-l,h=(h&42)!==0?1:xi(h),h=(h&(F.suspendedLanes|l))!==0?0:h,h!==0&&h!==ue.retryLane))throw ue.retryLane=h,Os(i,h),Ha(F,i,h),S2;Q.data==="$?"||jg(),s=yg(i,s,l)}else Q.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=ue.treeContext,ar=$s(Q.nextSibling),Rr=s,vn=!0,Co=null,cs=!1,i!==null&&(ma[Zi++]=js,ma[Zi++]=Ms,ma[Zi++]=dl,js=i.id,Ms=i.overflow,dl=s),s=vg(s,h.children),s.flags|=4096);return s}return g?(fu(),g=h.fallback,Q=s.mode,ue=i.child,De=ue.sibling,h=us(ue,{mode:"hidden",children:h.children}),h.subtreeFlags=ue.subtreeFlags&65011712,De!==null?g=us(De,g):(g=Ds(g,Q,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,Q=i.child.memoizedState,Q===null?Q=mg(l):(ue=Q.cachePool,ue!==null?(De=Pr._currentValue,ue=ue.parent!==De?{parent:De,pool:De}:ue):ue=B(),Q={baseLanes:Q.baseLanes|l,cachePool:ue}),g.memoizedState=Q,g.childLanes=gg(i,F,l),s.memoizedState=pg,h):(hu(s),l=i.child,i=l.sibling,l=us(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(F=s.deletions,F===null?(s.deletions=[i],s.flags|=16):F.push(i)),s.child=l,s.memoizedState=null,l)}function vg(i,s){return s=Zd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Zd(i,s){return i=ui(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function yg(i,s,l){return rh(s,i.child,null,l),i=vg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function P2(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),$c(i.return,s,l)}function bg(i,s,l,h,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=l,b.tailMode=g)}function O2(i,s,l){var h=s.pendingProps,g=h.revealOrder,b=h.tail;if(_i(i,s,h.children,l),h=ei.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&P2(i,l,s);else if(i.tag===19)P2(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(z(ei,h),g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Kd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),bg(s,!1,g,l,b);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Kd(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}bg(s,!0,l,null,b);break;case"together":bg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Sl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),vu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(au(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=us(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=us(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function _g(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Yc(i)))}function FE(i,s,l){switch(s.tag){case 3:pe(s,s.stateNode.containerInfo),Ro(s,Pr,i.memoizedState.cache),ea();break;case 27:case 5:Je(s);break;case 4:pe(s,s.stateNode.containerInfo);break;case 10:Ro(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(hu(s),s.flags|=128,null):(l&s.child.childLanes)!==0?L2(i,s,l):(hu(s),i=Sl(i,s,l),i!==null?i.sibling:null);hu(s);break;case 19:var g=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(au(i,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return O2(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(ei,ei.current),h)break;return null;case 22:case 23:return s.lanes=0,x2(i,s,l);case 24:Ro(s,Pr,i.memoizedState.cache)}return Sl(i,s,l)}function D2(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)ci=!0;else{if(!_g(i,l)&&(s.flags&128)===0)return ci=!1,FE(i,s,l);ci=(i.flags&131072)!==0}else ci=!1,vn&&(s.flags&1048576)!==0&&Cd(s,Gc,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")nu(h)?(i=yc(h,i),s.tag=1,s=C2(null,s,h,i,l)):(s.tag=0,s=dg(null,s,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===le){s.tag=11,s=A2(null,s,h,i,l);break e}else if(g===U){s.tag=14,s=E2(null,s,h,i,l);break e}}throw s=se(h)||h,Error(r(306,s,""))}}return s;case 0:return dg(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=yc(h,s.pendingProps),C2(i,s,h,g,l);case 3:e:{if(pe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var b=s.memoizedState;g=b.element,ye(i,s),at(s,h,null,l);var F=s.memoizedState;if(h=F.cache,Ro(s,Pr,h),h!==b.cache&&Wc(s,[Pr],l,!0),_t(),h=F.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:F.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=R2(i,s,h,l);break e}else if(h!==g){g=Xt(Error(r(424)),s),iu(g),s=R2(i,s,h,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ar=$s(i.firstChild),Rr=s,vn=!0,Co=null,cs=!0,l=f2(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ea(),h===g){s=Sl(i,s,l);break e}_i(i,s,h,l)}s=s.child}return s;case 26:return Jd(i,s),i===null?(l=Fy(s.type,null,s.pendingProps,null))?s.memoizedState=l:vn||(l=s.type,i=s.pendingProps,h=dp(ae.current).createElement(l),h[xn]=s,h[Nn]=i,Si(h,l,i),yn(h),s.stateNode=h):s.memoizedState=Fy(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Je(s),i===null&&vn&&(h=s.stateNode=ky(s.type,s.pendingProps,ae.current),Rr=s,cs=!0,g=ar,wu(s.type)?(e0=g,ar=$s(h.firstChild)):ar=g),_i(i,s,s.pendingProps.children,l),Jd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&vn&&((g=h=ar)&&(h=f4(h,s.type,s.pendingProps,cs),h!==null?(s.stateNode=h,Rr=s,ar=$s(h.firstChild),cs=!1,g=!0):g=!1),g||ml(s)),Je(s),g=s.type,b=s.pendingProps,F=i!==null?i.memoizedProps:null,h=b.children,Qg(g,b)?h=null:F!==null&&Qg(g,F)&&(s.flags|=32),s.memoizedState!==null&&(g=Fa(i,s,Oo,null,null,l),Of._currentValue=g),Jd(i,s),_i(i,s,h,l),s.child;case 6:return i===null&&vn&&((i=l=ar)&&(l=d4(l,s.pendingProps,cs),l!==null?(s.stateNode=l,Rr=s,ar=null,i=!0):i=!1),i||ml(s)),null;case 13:return L2(i,s,l);case 4:return pe(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=rh(s,null,h,l):_i(i,s,h,l),s.child;case 11:return A2(i,s,s.type,s.pendingProps,l);case 7:return _i(i,s,s.pendingProps,l),s.child;case 8:return _i(i,s,s.pendingProps.children,l),s.child;case 12:return _i(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,Ro(s,s.type,h.value),_i(i,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,ds(s),g=Lr(g),h=h(g),s.flags|=1,_i(i,s,h,l),s.child;case 14:return E2(i,s,s.type,s.pendingProps,l);case 15:return T2(i,s,s.type,s.pendingProps,l);case 19:return O2(i,s,l);case 31:return h=s.pendingProps,l=s.mode,h={mode:h.mode,children:h.children},i===null?(l=Zd(h,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=us(i.child,h),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return x2(i,s,l);case 24:return ds(s),h=Lr(Pr),i===null?(g=A(),g===null&&(g=Yn,b=tf(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),s.memoizedState={parent:h,cache:g},ge(s),Ro(s,Pr,g)):((i.lanes&l)!==0&&(ye(i,s),at(s,null,null,l),_t()),g=i.memoizedState,b=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ro(s,Pr,h)):(h=b.cache,Ro(s,Pr,h),h!==g.cache&&Wc(s,[Pr],l,!0))),_i(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Al(i){i.flags|=4}function k2(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!zy(s)){if(s=ms.current,s!==null&&((mn&4194048)===mn?jo!==null:(mn&62914560)!==mn&&(mn&536870912)===0||s!==jo))throw Re=Z,$;i.flags|=8192}}function ep(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Mn():536870912,i.lanes|=s,oh|=s)}function yf(i,s){if(!vn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function fr(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function UE(i,s,l){var h=s.pendingProps;switch(ac(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(s),null;case 1:return fr(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),fs(Pr),Ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(yi(s)?Al(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ld())),fr(s),null;case 26:return l=s.memoizedState,i===null?(Al(s),l!==null?(fr(s),k2(s,l)):(fr(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Al(s),fr(s),k2(s,l)):(fr(s),s.flags&=-16777217):(i.memoizedProps!==h&&Al(s),fr(s),s.flags&=-16777217),null;case 27:Ke(s),l=ae.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Al(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return fr(s),null}i=X.current,yi(s)?Rd(s):(i=ky(g,h,l),s.stateNode=i,Al(s))}return fr(s),null;case 5:if(Ke(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Al(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return fr(s),null}if(i=X.current,yi(s))Rd(s);else{switch(g=dp(ae.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[xn]=s,i[Nn]=h;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;e:switch(Si(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Al(s)}}return fr(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Al(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=ae.current,yi(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,g=Rr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[xn]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Iy(i.nodeValue,l)),i||ml(s)}else i=dp(i).createTextNode(h),i[xn]=s,s.stateNode=i}return fr(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=yi(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[xn]=s}else ea(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fr(s),g=!1}else g=Ld(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(wl(s),s):(wl(s),null)}if(wl(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),ep(s,s.updateQueue),fr(s),null;case 4:return Ee(),i===null&&Gg(s.stateNode.containerInfo),fr(s),null;case 10:return fs(s.type),fr(s),null;case 19:if(O(ei),g=s.memoizedState,g===null)return fr(s),null;if(h=(s.flags&128)!==0,b=g.rendering,b===null)if(h)yf(g,!1);else{if(wr!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Kd(i),b!==null){for(s.flags|=128,yf(g,!1),i=b.updateQueue,s.updateQueue=i,ep(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)nc(l,i),l=l.sibling;return z(ei,ei.current&1|2),s.child}i=i.sibling}g.tail!==null&&At()>rp&&(s.flags|=128,h=!0,yf(g,!1),s.lanes=4194304)}else{if(!h)if(i=Kd(b),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,ep(s,i),yf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!vn)return fr(s),null}else 2*At()-g.renderingStartTime>rp&&l!==536870912&&(s.flags|=128,h=!0,yf(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(i=g.last,i!==null?i.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=At(),s.sibling=null,i=ei.current,z(ei,h?i&1|2:i&1),s):(fr(s),null);case 22:case 23:return wl(s),Vt(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(fr(s),s.subtreeFlags&6&&(s.flags|=8192)):fr(s),l=s.updateQueue,l!==null&&ep(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&O(v),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),fs(Pr),fr(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function VE(i,s){switch(ac(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return fs(Pr),Ee(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ke(s),null;case 13:if(wl(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ea()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return O(ei),null;case 4:return Ee(),null;case 10:return fs(s.type),null;case 22:case 23:return wl(s),Vt(),i!==null&&O(v),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return fs(Pr),null;case 25:return null;default:return null}}function j2(i,s){switch(ac(s),s.tag){case 3:fs(Pr),Ee();break;case 26:case 27:case 5:Ke(s);break;case 4:Ee();break;case 13:wl(s);break;case 19:O(ei);break;case 10:fs(s.type);break;case 22:case 23:wl(s),Vt(),i!==null&&O(v);break;case 24:fs(Pr)}}function bf(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var b=l.create,F=l.inst;h=b(),F.destroy=h}l=l.next}while(l!==g)}}catch(Q){Gn(s,s.return,Q)}}function du(i,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&i)===i){var F=h.inst,Q=F.destroy;if(Q!==void 0){F.destroy=void 0,g=s;var ue=l,De=Q;try{De()}catch(Be){Gn(g,ue,Be)}}}h=h.next}while(h!==b)}}catch(Be){Gn(s,s.return,Be)}}function M2(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{wn(s,l)}catch(h){Gn(i,i.return,h)}}}function F2(i,s,l){l.props=yc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Gn(i,s,h)}}function _f(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Gn(i,s,g)}}function Mo(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Gn(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Gn(i,s,g)}else l.current=null}function U2(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Gn(i,i.return,g)}}function wg(i,s,l){try{var h=i.stateNode;o4(h,i.type,l,s),h[Nn]=s}catch(g){Gn(i,i.return,g)}}function V2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&wu(i.type)||i.tag===4}function Sg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||V2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&wu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ag(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=fp));else if(h!==4&&(h===27&&wu(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Ag(i,s,l),i=i.sibling;i!==null;)Ag(i,s,l),i=i.sibling}function tp(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&wu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(tp(i,s,l),i=i.sibling;i!==null;)tp(i,s,l),i=i.sibling}function B2(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Si(s,h,l),s[xn]=i,s[Nn]=l}catch(b){Gn(i,i.return,b)}}var El=!1,Dr=!1,Eg=!1,q2=typeof WeakSet=="function"?WeakSet:Set,hi=null;function BE(i,s){if(i=i.containerInfo,Yg=bp,i=vi(i),Zr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var F=0,Q=-1,ue=-1,De=0,Be=0,$e=i,ke=null;t:for(;;){for(var je;$e!==l||g!==0&&$e.nodeType!==3||(Q=F+g),$e!==b||h!==0&&$e.nodeType!==3||(ue=F+h),$e.nodeType===3&&(F+=$e.nodeValue.length),(je=$e.firstChild)!==null;)ke=$e,$e=je;for(;;){if($e===i)break t;if(ke===l&&++De===g&&(Q=F),ke===b&&++Be===h&&(ue=F),(je=$e.nextSibling)!==null)break;$e=ke,ke=$e.parentNode}$e=je}l=Q===-1||ue===-1?null:{start:Q,end:ue}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kg={focusedElem:i,selectionRange:l},bp=!1,hi=s;hi!==null;)if(s=hi,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,hi=i;else for(;hi!==null;){switch(s=hi,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=s,g=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var Mt=yc(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Mt,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ct){Gn(l,l.return,Ct)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Jg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,hi=i;break}hi=s.return}}function z2(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:pu(i,l),h&4&&bf(5,l);break;case 1:if(pu(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(F){Gn(l,l.return,F)}else{var g=yc(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(F){Gn(l,l.return,F)}}h&64&&M2(l),h&512&&_f(l,l.return);break;case 3:if(pu(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{wn(i,s)}catch(F){Gn(l,l.return,F)}}break;case 27:s===null&&h&4&&B2(l);case 26:case 5:pu(i,l),s===null&&h&4&&U2(l),h&512&&_f(l,l.return);break;case 12:pu(i,l);break;case 13:pu(i,l),h&4&&$2(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=QE.bind(null,l),p4(i,l))));break;case 22:if(h=l.memoizedState!==null||El,!h){s=s!==null&&s.memoizedState!==null||Dr,g=El;var b=Dr;El=h,(Dr=s)&&!b?mu(i,l,(l.subtreeFlags&8772)!==0):pu(i,l),El=g,Dr=b}break;case 30:break;default:pu(i,l)}}function H2(i){var s=i.alternate;s!==null&&(i.alternate=null,H2(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ur(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var sr=null,va=!1;function Tl(i,s,l){for(l=l.child;l!==null;)G2(i,s,l),l=l.sibling}function G2(i,s,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(bt,l)}catch{}switch(l.tag){case 26:Dr||Mo(l,s),Tl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Dr||Mo(l,s);var h=sr,g=va;wu(l.type)&&(sr=l.stateNode,va=!1),Tl(i,s,l),Cf(l.stateNode),sr=h,va=g;break;case 5:Dr||Mo(l,s);case 6:if(h=sr,g=va,sr=null,Tl(i,s,l),sr=h,va=g,sr!==null)if(va)try{(sr.nodeType===9?sr.body:sr.nodeName==="HTML"?sr.ownerDocument.body:sr).removeChild(l.stateNode)}catch(b){Gn(l,s,b)}else try{sr.removeChild(l.stateNode)}catch(b){Gn(l,s,b)}break;case 18:sr!==null&&(va?(i=sr,Oy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Mf(i)):Oy(sr,l.stateNode));break;case 4:h=sr,g=va,sr=l.stateNode.containerInfo,va=!0,Tl(i,s,l),sr=h,va=g;break;case 0:case 11:case 14:case 15:Dr||du(2,l,s),Dr||du(4,l,s),Tl(i,s,l);break;case 1:Dr||(Mo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&F2(l,s,h)),Tl(i,s,l);break;case 21:Tl(i,s,l);break;case 22:Dr=(h=Dr)||l.memoizedState!==null,Tl(i,s,l),Dr=h;break;default:Tl(i,s,l)}}function $2(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mf(i)}catch(l){Gn(s,s.return,l)}}function qE(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new q2),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new q2),s;default:throw Error(r(435,i.tag))}}function Tg(i,s){var l=qE(i);s.forEach(function(h){var g=XE.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function Va(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],b=i,F=s,Q=F;e:for(;Q!==null;){switch(Q.tag){case 27:if(wu(Q.type)){sr=Q.stateNode,va=!1;break e}break;case 5:sr=Q.stateNode,va=!1;break e;case 3:case 4:sr=Q.stateNode.containerInfo,va=!0;break e}Q=Q.return}if(sr===null)throw Error(r(160));G2(b,F,g),sr=null,va=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)W2(s,i),s=s.sibling}var Gs=null;function W2(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Va(s,i),Ba(i),h&4&&(du(3,i,i.return),bf(3,i),du(5,i,i.return));break;case 1:Va(s,i),Ba(i),h&512&&(Dr||l===null||Mo(l,l.return)),h&64&&El&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Gs;if(Va(s,i),Ba(i),h&512&&(Dr||l===null||Mo(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":b=g.getElementsByTagName("title")[0],(!b||b[mi]||b[xn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(h),g.head.insertBefore(b,g.querySelector("head > title"))),Si(b,h,l),b[xn]=i,yn(b),h=b;break e;case"link":var F=By("link","href",g).get(h+(l.href||""));if(F){for(var Q=0;Q<F.length;Q++)if(b=F[Q],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){F.splice(Q,1);break t}}b=g.createElement(h),Si(b,h,l),g.head.appendChild(b);break;case"meta":if(F=By("meta","content",g).get(h+(l.content||""))){for(Q=0;Q<F.length;Q++)if(b=F[Q],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){F.splice(Q,1);break t}}b=g.createElement(h),Si(b,h,l),g.head.appendChild(b);break;default:throw Error(r(468,h))}b[xn]=i,yn(b),h=b}i.stateNode=h}else qy(g,i.type,i.stateNode);else i.stateNode=Vy(g,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?qy(g,i.type,i.stateNode):Vy(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&wg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Va(s,i),Ba(i),h&512&&(Dr||l===null||Mo(l,l.return)),l!==null&&h&4&&wg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Va(s,i),Ba(i),h&512&&(Dr||l===null||Mo(l,l.return)),i.flags&32){g=i.stateNode;try{Ii(g,"")}catch(je){Gn(i,i.return,je)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,wg(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Eg=!0);break;case 6:if(Va(s,i),Ba(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(je){Gn(i,i.return,je)}}break;case 3:if(gp=null,g=Gs,Gs=pp(s.containerInfo),Va(s,i),Gs=g,Ba(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Mf(s.containerInfo)}catch(je){Gn(i,i.return,je)}Eg&&(Eg=!1,Y2(i));break;case 4:h=Gs,Gs=pp(i.stateNode.containerInfo),Va(s,i),Ba(i),Gs=h;break;case 12:Va(s,i),Ba(i);break;case 13:Va(s,i),Ba(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lg=At()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Tg(i,h)));break;case 22:g=i.memoizedState!==null;var ue=l!==null&&l.memoizedState!==null,De=El,Be=Dr;if(El=De||g,Dr=Be||ue,Va(s,i),Dr=Be,El=De,Ba(i),h&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ue||El||Dr||bc(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){ue=l=s;try{if(b=ue.stateNode,g)F=b.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{Q=ue.stateNode;var $e=ue.memoizedProps.style,ke=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;Q.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(je){Gn(ue,ue.return,je)}}}else if(s.tag===6){if(l===null){ue=s;try{ue.stateNode.nodeValue=g?"":ue.memoizedProps}catch(je){Gn(ue,ue.return,je)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Tg(i,l))));break;case 19:Va(s,i),Ba(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Tg(i,h)));break;case 30:break;case 21:break;default:Va(s,i),Ba(i)}}function Ba(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(V2(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,b=Sg(i);tp(i,b,g);break;case 5:var F=l.stateNode;l.flags&32&&(Ii(F,""),l.flags&=-33);var Q=Sg(i);tp(i,Q,F);break;case 3:case 4:var ue=l.stateNode.containerInfo,De=Sg(i);Ag(i,De,ue);break;default:throw Error(r(161))}}catch(Be){Gn(i,i.return,Be)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Y2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Y2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function pu(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)z2(i,s.alternate,s),s=s.sibling}function bc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:du(4,s,s.return),bc(s);break;case 1:Mo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&F2(s,s.return,l),bc(s);break;case 27:Cf(s.stateNode);case 26:case 5:Mo(s,s.return),bc(s);break;case 22:s.memoizedState===null&&bc(s);break;case 30:bc(s);break;default:bc(s)}i=i.sibling}}function mu(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,b=s,F=b.flags;switch(b.tag){case 0:case 11:case 15:mu(g,b,l),bf(4,b);break;case 1:if(mu(g,b,l),h=b,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(De){Gn(h,h.return,De)}if(h=b,g=h.updateQueue,g!==null){var Q=h.stateNode;try{var ue=g.shared.hiddenCallbacks;if(ue!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ue.length;g++)dn(ue[g],Q)}catch(De){Gn(h,h.return,De)}}l&&F&64&&M2(b),_f(b,b.return);break;case 27:B2(b);case 26:case 5:mu(g,b,l),l&&h===null&&F&4&&U2(b),_f(b,b.return);break;case 12:mu(g,b,l);break;case 13:mu(g,b,l),l&&F&4&&$2(g,b);break;case 22:b.memoizedState===null&&mu(g,b,l),_f(b,b.return);break;case 30:break;default:mu(g,b,l)}s=s.sibling}}function xg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&sc(l))}function Ng(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&sc(i))}function Fo(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)K2(i,s,l,h),s=s.sibling}function K2(i,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Fo(i,s,l,h),g&2048&&bf(9,s);break;case 1:Fo(i,s,l,h);break;case 3:Fo(i,s,l,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&sc(i)));break;case 12:if(g&2048){Fo(i,s,l,h),i=s.stateNode;try{var b=s.memoizedProps,F=b.id,Q=b.onPostCommit;typeof Q=="function"&&Q(F,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ue){Gn(s,s.return,ue)}}else Fo(i,s,l,h);break;case 13:Fo(i,s,l,h);break;case 23:break;case 22:b=s.stateNode,F=s.alternate,s.memoizedState!==null?b._visibility&2?Fo(i,s,l,h):wf(i,s):b._visibility&2?Fo(i,s,l,h):(b._visibility|=2,ih(i,s,l,h,(s.subtreeFlags&10256)!==0)),g&2048&&xg(F,s);break;case 24:Fo(i,s,l,h),g&2048&&Ng(s.alternate,s);break;default:Fo(i,s,l,h)}}function ih(i,s,l,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,F=s,Q=l,ue=h,De=F.flags;switch(F.tag){case 0:case 11:case 15:ih(b,F,Q,ue,g),bf(8,F);break;case 23:break;case 22:var Be=F.stateNode;F.memoizedState!==null?Be._visibility&2?ih(b,F,Q,ue,g):wf(b,F):(Be._visibility|=2,ih(b,F,Q,ue,g)),g&&De&2048&&xg(F.alternate,F);break;case 24:ih(b,F,Q,ue,g),g&&De&2048&&Ng(F.alternate,F);break;default:ih(b,F,Q,ue,g)}s=s.sibling}}function wf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,g=h.flags;switch(h.tag){case 22:wf(l,h),g&2048&&xg(h.alternate,h);break;case 24:wf(l,h),g&2048&&Ng(h.alternate,h);break;default:wf(l,h)}s=s.sibling}}var Sf=8192;function ah(i){if(i.subtreeFlags&Sf)for(i=i.child;i!==null;)Q2(i),i=i.sibling}function Q2(i){switch(i.tag){case 26:ah(i),i.flags&Sf&&i.memoizedState!==null&&N4(Gs,i.memoizedState,i.memoizedProps);break;case 5:ah(i);break;case 3:case 4:var s=Gs;Gs=pp(i.stateNode.containerInfo),ah(i),Gs=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Sf,Sf=16777216,ah(i),Sf=s):ah(i));break;default:ah(i)}}function X2(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Af(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];hi=h,Z2(h,i)}X2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J2(i),i=i.sibling}function J2(i){switch(i.tag){case 0:case 11:case 15:Af(i),i.flags&2048&&du(9,i,i.return);break;case 3:Af(i);break;case 12:Af(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,np(i)):Af(i);break;default:Af(i)}}function np(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];hi=h,Z2(h,i)}X2(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:du(8,s,s.return),np(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,np(s));break;default:np(s)}i=i.sibling}}function Z2(i,s){for(;hi!==null;){var l=hi;switch(l.tag){case 0:case 11:case 15:du(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:sc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,hi=h;else e:for(l=i;hi!==null;){h=hi;var g=h.sibling,b=h.return;if(H2(h),h===l){hi=null;break e}if(g!==null){g.return=b,hi=g;break e}hi=b}}}var zE={getCacheForType:function(i){var s=Lr(Pr),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},HE=typeof WeakMap=="function"?WeakMap:Map,On=0,Yn=null,an=null,mn=0,Dn=0,qa=null,gu=!1,sh=!1,Ig=!1,xl=0,wr=0,vu=0,_c=0,Cg=0,gs=0,oh=0,Ef=null,ya=null,Rg=!1,Lg=0,rp=1/0,ip=null,yu=null,wi=0,bu=null,lh=null,uh=0,Pg=0,Og=null,ey=null,Tf=0,Dg=null;function za(){if((On&2)!==0&&mn!==0)return mn&-mn;if(te.T!==null){var i=gl;return i!==0?i:Bg()}return Kr()}function ty(){gs===0&&(gs=(mn&536870912)===0||vn?Aa():536870912);var i=ms.current;return i!==null&&(i.flags|=32),gs}function Ha(i,s,l){(i===Yn&&(Dn===2||Dn===9)||i.cancelPendingCommit!==null)&&(ch(i,0),_u(i,mn,gs,!1)),Yr(i,l),((On&2)===0||i!==Yn)&&(i===Yn&&((On&2)===0&&(_c|=l),wr===4&&_u(i,mn,gs,!1)),Uo(i))}function ny(i,s,l){if((On&6)!==0)throw Error(r(327));var h=!l&&(s&124)===0&&(s&i.expiredLanes)===0||ri(i,s),g=h?WE(i,s):Mg(i,s,!0),b=h;do{if(g===0){sh&&!h&&_u(i,s,0,!1);break}else{if(l=i.current.alternate,b&&!GE(l)){g=Mg(i,s,!1),b=!1;continue}if(g===2){if(b=s,i.errorRecoveryDisabledLanes&b)var F=0;else F=i.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){s=F;e:{var Q=i;g=Ef;var ue=Q.current.memoizedState.isDehydrated;if(ue&&(ch(Q,F).flags|=256),F=Mg(Q,F,!1),F!==2){if(Ig&&!ue){Q.errorRecoveryDisabledLanes|=b,_c|=b,g=4;break e}b=ya,ya=g,b!==null&&(ya===null?ya=b:ya.push.apply(ya,b))}g=F}if(b=!1,g!==2)continue}}if(g===1){ch(i,0),_u(i,s,0,!0);break}e:{switch(h=i,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:_u(h,s,gs,!gu);break e;case 2:ya=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Lg+300-At(),10<g)){if(_u(h,s,gs,!gu),Tn(h,0,!0)!==0)break e;h.timeoutHandle=Ly(ry.bind(null,h,l,ya,ip,Rg,s,gs,_c,oh,gu,b,2,-0,0),g);break e}ry(h,l,ya,ip,Rg,s,gs,_c,oh,gu,b,0,-0,0)}}break}while(!0);Uo(i)}function ry(i,s,l,h,g,b,F,Q,ue,De,Be,$e,ke,je){if(i.timeoutHandle=-1,$e=s.subtreeFlags,($e&8192||($e&16785408)===16785408)&&(Pf={stylesheets:null,count:0,unsuspend:x4},Q2(s),$e=I4(),$e!==null)){i.cancelPendingCommit=$e(cy.bind(null,i,s,b,l,h,g,F,Q,ue,Be,1,ke,je)),_u(i,b,F,!De);return}cy(i,s,b,l,h,g,F,Q,ue)}function GE(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],b=g.getSnapshot;g=g.value;try{if(!Br(b(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _u(i,s,l,h){s&=~Cg,s&=~_c,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var b=31-pt(g),F=1<<b;h[b]=-1,g&=~F}l!==0&&Et(i,l,s)}function ap(){return(On&6)===0?(xf(0),!1):!0}function kg(){if(an!==null){if(Dn===0)var i=an.return;else i=an,Us=zr=null,Qc(i),nh=null,gf=0,i=an;for(;i!==null;)j2(i.alternate,i),i=i.return;an=null}}function ch(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,u4(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),kg(),Yn=i,an=l=us(i.current,null),mn=s,Dn=0,qa=null,gu=!1,sh=ri(i,s),Ig=!1,oh=gs=Cg=_c=vu=wr=0,ya=Ef=null,Rg=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-pt(h),b=1<<g;s|=i[g],h&=~b}return xl=s,da(),l}function iy(i,s){Tt=null,te.H=$d,s===H||s===Y?(s=Ae(),Dn=3):s===$?(s=Ae(),Dn=4):Dn=s===S2?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,qa=s,an===null&&(wr=1,Xd(i,Xt(s,i.current)))}function ay(){var i=te.H;return te.H=$d,i===null?$d:i}function sy(){var i=te.A;return te.A=zE,i}function jg(){wr=4,gu||(mn&4194048)!==mn&&ms.current!==null||(sh=!0),(vu&134217727)===0&&(_c&134217727)===0||Yn===null||_u(Yn,mn,gs,!1)}function Mg(i,s,l){var h=On;On|=2;var g=ay(),b=sy();(Yn!==i||mn!==s)&&(ip=null,ch(i,s)),s=!1;var F=wr;e:do try{if(Dn!==0&&an!==null){var Q=an,ue=qa;switch(Dn){case 8:kg(),F=6;break e;case 3:case 2:case 9:case 6:ms.current===null&&(s=!0);var De=Dn;if(Dn=0,qa=null,hh(i,Q,ue,De),l&&sh){F=0;break e}break;default:De=Dn,Dn=0,qa=null,hh(i,Q,ue,De)}}$E(),F=wr;break}catch(Be){iy(i,Be)}while(!0);return s&&i.shellSuspendCounter++,Us=zr=null,On=h,te.H=g,te.A=b,an===null&&(Yn=null,mn=0,da()),F}function $E(){for(;an!==null;)oy(an)}function WE(i,s){var l=On;On|=2;var h=ay(),g=sy();Yn!==i||mn!==s?(ip=null,rp=At()+500,ch(i,s)):sh=ri(i,s);e:do try{if(Dn!==0&&an!==null){s=an;var b=qa;t:switch(Dn){case 1:Dn=0,qa=null,hh(i,s,b,1);break;case 2:case 9:if(ne(b)){Dn=0,qa=null,ly(s);break}s=function(){Dn!==2&&Dn!==9||Yn!==i||(Dn=7),Uo(i)},b.then(s,s);break e;case 3:Dn=7;break e;case 4:Dn=5;break e;case 7:ne(b)?(Dn=0,qa=null,ly(s)):(Dn=0,qa=null,hh(i,s,b,7));break;case 5:var F=null;switch(an.tag){case 26:F=an.memoizedState;case 5:case 27:var Q=an;if(!F||zy(F)){Dn=0,qa=null;var ue=Q.sibling;if(ue!==null)an=ue;else{var De=Q.return;De!==null?(an=De,sp(De)):an=null}break t}}Dn=0,qa=null,hh(i,s,b,5);break;case 6:Dn=0,qa=null,hh(i,s,b,6);break;case 8:kg(),wr=6;break e;default:throw Error(r(462))}}YE();break}catch(Be){iy(i,Be)}while(!0);return Us=zr=null,te.H=h,te.A=g,On=l,an!==null?0:(Yn=null,mn=0,da(),wr)}function YE(){for(;an!==null&&!Ue();)oy(an)}function oy(i){var s=D2(i.alternate,i,xl);i.memoizedProps=i.pendingProps,s===null?sp(i):an=s}function ly(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=I2(l,s,s.pendingProps,s.type,void 0,mn);break;case 11:s=I2(l,s,s.pendingProps,s.type.render,s.ref,mn);break;case 5:Qc(s);default:j2(l,s),s=an=nc(s,xl),s=D2(l,s,xl)}i.memoizedProps=i.pendingProps,s===null?sp(i):an=s}function hh(i,s,l,h){Us=zr=null,Qc(s),nh=null,gf=0;var g=s.return;try{if(ME(i,g,s,l,mn)){wr=1,Xd(i,Xt(l,i.current)),an=null;return}}catch(b){if(g!==null)throw an=g,b;wr=1,Xd(i,Xt(l,i.current)),an=null;return}s.flags&32768?(vn||h===1?i=!0:sh||(mn&536870912)!==0?i=!1:(gu=i=!0,(h===2||h===9||h===3||h===6)&&(h=ms.current,h!==null&&h.tag===13&&(h.flags|=16384))),uy(s,i)):sp(s)}function sp(i){var s=i;do{if((s.flags&32768)!==0){uy(s,gu);return}i=s.return;var l=UE(s.alternate,s,xl);if(l!==null){an=l;return}if(s=s.sibling,s!==null){an=s;return}an=s=i}while(s!==null);wr===0&&(wr=5)}function uy(i,s){do{var l=VE(i.alternate,i);if(l!==null){l.flags&=32767,an=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){an=i;return}an=i=l}while(i!==null);wr=6,an=null}function cy(i,s,l,h,g,b,F,Q,ue){i.cancelPendingCommit=null;do op();while(wi!==0);if((On&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=ur,Fn(i,l,b,F,Q,ue),i===Yn&&(an=Yn=null,mn=0),lh=s,bu=i,uh=l,Pg=b,Og=g,ey=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,JE(st,function(){return my(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=te.T,te.T=null,g=fe.p,fe.p=2,F=On,On|=4;try{BE(i,s,l)}finally{On=F,fe.p=g,te.T=h}}wi=1,hy(),fy(),dy()}}function hy(){if(wi===1){wi=0;var i=bu,s=lh,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var h=fe.p;fe.p=2;var g=On;On|=4;try{W2(s,i);var b=Kg,F=vi(i.containerInfo),Q=b.focusedElem,ue=b.selectionRange;if(F!==Q&&Q&&Q.ownerDocument&&_o(Q.ownerDocument.documentElement,Q)){if(ue!==null&&Zr(Q)){var De=ue.start,Be=ue.end;if(Be===void 0&&(Be=De),"selectionStart"in Q)Q.selectionStart=De,Q.selectionEnd=Math.min(Be,Q.value.length);else{var $e=Q.ownerDocument||document,ke=$e&&$e.defaultView||window;if(ke.getSelection){var je=ke.getSelection(),Mt=Q.textContent.length,Ct=Math.min(ue.start,Mt),zn=ue.end===void 0?Ct:Math.min(ue.end,Mt);!je.extend&&Ct>zn&&(F=zn,zn=Ct,Ct=F);var xe=Ls(Q,Ct),ve=Ls(Q,zn);if(xe&&ve&&(je.rangeCount!==1||je.anchorNode!==xe.node||je.anchorOffset!==xe.offset||je.focusNode!==ve.node||je.focusOffset!==ve.offset)){var Le=$e.createRange();Le.setStart(xe.node,xe.offset),je.removeAllRanges(),Ct>zn?(je.addRange(Le),je.extend(ve.node,ve.offset)):(Le.setEnd(ve.node,ve.offset),je.addRange(Le))}}}}for($e=[],je=Q;je=je.parentNode;)je.nodeType===1&&$e.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<$e.length;Q++){var ze=$e[Q];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}bp=!!Yg,Kg=Yg=null}finally{On=g,fe.p=h,te.T=l}}i.current=s,wi=2}}function fy(){if(wi===2){wi=0;var i=bu,s=lh,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var h=fe.p;fe.p=2;var g=On;On|=4;try{z2(i,s.alternate,s)}finally{On=g,fe.p=h,te.T=l}}wi=3}}function dy(){if(wi===4||wi===3){wi=0,oe();var i=bu,s=lh,l=uh,h=ey;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wi=5:(wi=0,lh=bu=null,py(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(yu=null),tr(l),s=s.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(bt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=te.T,g=fe.p,fe.p=2,te.T=null;try{for(var b=i.onRecoverableError,F=0;F<h.length;F++){var Q=h[F];b(Q.value,{componentStack:Q.stack})}}finally{te.T=s,fe.p=g}}(uh&3)!==0&&op(),Uo(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Dg?Tf++:(Tf=0,Dg=i):Tf=0,xf(0)}}function py(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,sc(s)))}function op(i){return hy(),fy(),dy(),my()}function my(){if(wi!==5)return!1;var i=bu,s=Pg;Pg=0;var l=tr(uh),h=te.T,g=fe.p;try{fe.p=32>l?32:l,te.T=null,l=Og,Og=null;var b=bu,F=uh;if(wi=0,lh=bu=null,uh=0,(On&6)!==0)throw Error(r(331));var Q=On;if(On|=4,J2(b.current),K2(b,b.current,F,l),On=Q,xf(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(bt,b)}catch{}return!0}finally{fe.p=g,te.T=h,py(i,s)}}function gy(i,s,l){s=Xt(l,s),s=fg(i.stateNode,s,2),i=Ge(i,s,2),i!==null&&(Yr(i,2),Uo(i))}function Gn(i,s,l){if(i.tag===3)gy(i,i,l);else for(;s!==null;){if(s.tag===3){gy(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(yu===null||!yu.has(h))){i=Xt(l,i),l=_2(2),h=Ge(s,l,2),h!==null&&(w2(l,h,s,i),Yr(h,2),Uo(h));break}}s=s.return}}function Fg(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new HE;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(Ig=!0,g.add(l),i=KE.bind(null,i,s,l),s.then(i,i))}function KE(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Yn===i&&(mn&l)===l&&(wr===4||wr===3&&(mn&62914560)===mn&&300>At()-Lg?(On&2)===0&&ch(i,0):Cg|=l,oh===mn&&(oh=0)),Uo(i)}function vy(i,s){s===0&&(s=Mn()),i=Os(i,s),i!==null&&(Yr(i,s),Uo(i))}function QE(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),vy(i,l)}function XE(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),vy(i,l)}function JE(i,s){return nt(i,s)}var lp=null,fh=null,Ug=!1,up=!1,Vg=!1,wc=0;function Uo(i){i!==fh&&i.next===null&&(fh===null?lp=fh=i:fh=fh.next=i),up=!0,Ug||(Ug=!0,e4())}function xf(i,s){if(!Vg&&up){Vg=!0;do for(var l=!1,h=lp;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var b=0;else{var F=h.suspendedLanes,Q=h.pingedLanes;b=(1<<31-pt(42|i)+1)-1,b&=g&~(F&~Q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,wy(h,b))}else b=mn,b=Tn(h,h===Yn?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||ri(h,b)||(l=!0,wy(h,b));h=h.next}while(l);Vg=!1}}function ZE(){yy()}function yy(){up=Ug=!1;var i=0;wc!==0&&(l4()&&(i=wc),wc=0);for(var s=At(),l=null,h=lp;h!==null;){var g=h.next,b=by(h,s);b===0?(h.next=null,l===null?lp=g:l.next=g,g===null&&(fh=l)):(l=h,(i!==0||(b&3)!==0)&&(up=!0)),h=g}xf(i)}function by(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var F=31-pt(b),Q=1<<F,ue=g[F];ue===-1?((Q&l)===0||(Q&h)!==0)&&(g[F]=on(Q,s)):ue<=s&&(i.expiredLanes|=Q),b&=~Q}if(s=Yn,l=mn,l=Tn(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(Dn===2||Dn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&wt(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ri(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&wt(h),tr(l)){case 2:case 8:l=et;break;case 32:l=st;break;case 268435456:l=yt;break;default:l=st}return h=_y.bind(null,i),l=nt(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&wt(h),i.callbackPriority=2,i.callbackNode=null,2}function _y(i,s){if(wi!==0&&wi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(op()&&i.callbackNode!==l)return null;var h=mn;return h=Tn(i,i===Yn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(ny(i,h,s),by(i,At()),i.callbackNode!=null&&i.callbackNode===l?_y.bind(null,i):null)}function wy(i,s){if(op())return null;ny(i,s,!0)}function e4(){c4(function(){(On&6)!==0?nt(Ze,ZE):yy()})}function Bg(){return wc===0&&(wc=Aa()),wc}function Sy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ra(""+i)}function Ay(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function t4(i,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var b=Sy((g[Nn]||null).action),F=h.submitter;F&&(s=(s=F[Nn]||null)?Sy(s.formAction):F.getAttribute("formAction"),s!==null&&(b=s,F=null));var Q=new es("action","action",null,h,g);i.push({event:Q,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wc!==0){var ue=F?Ay(g,F):new FormData(g);ps(l,{pending:!0,data:ue,method:g.method,action:b},null,ue)}}else typeof b=="function"&&(Q.preventDefault(),ue=F?Ay(g,F):new FormData(g),ps(l,{pending:!0,data:ue,method:g.method,action:b},b,ue))},currentTarget:g}]})}}for(var qg=0;qg<cl.length;qg++){var zg=cl[qg],n4=zg.toLowerCase(),r4=zg[0].toUpperCase()+zg.slice(1);ir(n4,"on"+r4)}ir(eu,"onAnimationEnd"),ir(So,"onAnimationIteration"),ir(Ao,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(Eo,"onTransitionRun"),ir(ul,"onTransitionStart"),ir(tu,"onTransitionCancel"),ir(To,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nf));function Ey(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var b=void 0;if(s)for(var F=h.length-1;0<=F;F--){var Q=h[F],ue=Q.instance,De=Q.currentTarget;if(Q=Q.listener,ue!==b&&g.isPropagationStopped())break e;b=Q,g.currentTarget=De;try{b(g)}catch(Be){Qd(Be)}g.currentTarget=null,b=ue}else for(F=0;F<h.length;F++){if(Q=h[F],ue=Q.instance,De=Q.currentTarget,Q=Q.listener,ue!==b&&g.isPropagationStopped())break e;b=Q,g.currentTarget=De;try{b(g)}catch(Be){Qd(Be)}g.currentTarget=null,b=ue}}}}function sn(i,s){var l=s[Kn];l===void 0&&(l=s[Kn]=new Set);var h=i+"__bubble";l.has(h)||(Ty(s,i,2,!1),l.add(h))}function Hg(i,s,l){var h=0;s&&(h|=4),Ty(l,i,h,s)}var cp="_reactListening"+Math.random().toString(36).slice(2);function Gg(i){if(!i[cp]){i[cp]=!0,Ea.forEach(function(l){l!=="selectionchange"&&(i4.has(l)||Hg(l,!1,i),Hg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[cp]||(s[cp]=!0,Hg("selectionchange",!1,s))}}function Ty(i,s,l,h){switch(Ky(s)){case 2:var g=L4;break;case 8:g=P4;break;default:g=a0}l=g.bind(null,s,l,i),g=void 0,!gi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function $g(i,s,l,h,g){var b=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var F=h.tag;if(F===3||F===4){var Q=h.stateNode.containerInfo;if(Q===g)break;if(F===4)for(F=h.return;F!==null;){var ue=F.tag;if((ue===3||ue===4)&&F.stateNode.containerInfo===g)return;F=F.return}for(;Q!==null;){if(F=xr(Q),F===null)return;if(ue=F.tag,ue===5||ue===6||ue===26||ue===27){h=b=F;continue e}Q=Q.parentNode}}h=h.return}Kl(function(){var De=b,Be=Ln(l),$e=[];e:{var ke=Ps.get(i);if(ke!==void 0){var je=es,Mt=i;switch(i){case"keypress":if(Li(l)===0)break e;case"keydown":case"keyup":je=Da;break;case"focusin":Mt="focus",je=ns;break;case"focusout":Mt="blur",je=ns;break;case"beforeblur":case"afterblur":je=ns;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=ts;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=go;break;case eu:case So:case Ao:je=fo;break;case To:je=q;break;case"scroll":case"scrollend":je=rl;break;case"wheel":je=de;break;case"copy":case"cut":case"paste":je=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Rs;break;case"toggle":case"beforetoggle":je=Fe}var Ct=(s&4)!==0,zn=!Ct&&(i==="scroll"||i==="scrollend"),xe=Ct?ke!==null?ke+"Capture":null:ke;Ct=[];for(var ve=De,Le;ve!==null;){var ze=ve;if(Le=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Le===null||xe===null||(ze=ai(ve,xe),ze!=null&&Ct.push(If(ve,ze,Le))),zn)break;ve=ve.return}0<Ct.length&&(ke=new je(ke,Mt,null,l,Be),$e.push({event:ke,listeners:Ct}))}}if((s&7)===0){e:{if(ke=i==="mouseover"||i==="pointerover",je=i==="mouseout"||i==="pointerout",ke&&l!==aa&&(Mt=l.relatedTarget||l.fromElement)&&(xr(Mt)||Mt[Hn]))break e;if((je||ke)&&(ke=Be.window===Be?Be:(ke=Be.ownerDocument)?ke.defaultView||ke.parentWindow:window,je?(Mt=l.relatedTarget||l.toElement,je=De,Mt=Mt?xr(Mt):null,Mt!==null&&(zn=o(Mt),Ct=Mt.tag,Mt!==zn||Ct!==5&&Ct!==27&&Ct!==6)&&(Mt=null)):(je=null,Mt=De),je!==Mt)){if(Ct=vr,ze="onMouseLeave",xe="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(Ct=Rs,ze="onPointerLeave",xe="onPointerEnter",ve="pointer"),zn=je==null?ke:Nr(je),Le=Mt==null?ke:Nr(Mt),ke=new Ct(ze,ve+"leave",je,l,Be),ke.target=zn,ke.relatedTarget=Le,ze=null,xr(Be)===De&&(Ct=new Ct(xe,ve+"enter",Mt,l,Be),Ct.target=Le,Ct.relatedTarget=zn,ze=Ct),zn=ze,je&&Mt)t:{for(Ct=je,xe=Mt,ve=0,Le=Ct;Le;Le=dh(Le))ve++;for(Le=0,ze=xe;ze;ze=dh(ze))Le++;for(;0<ve-Le;)Ct=dh(Ct),ve--;for(;0<Le-ve;)xe=dh(xe),Le--;for(;ve--;){if(Ct===xe||xe!==null&&Ct===xe.alternate)break t;Ct=dh(Ct),xe=dh(xe)}Ct=null}else Ct=null;je!==null&&xy($e,ke,je,Ct,!1),Mt!==null&&zn!==null&&xy($e,zn,Mt,Ct,!0)}}e:{if(ke=De?Nr(De):window,je=ke.nodeName&&ke.nodeName.toLowerCase(),je==="select"||je==="input"&&ke.type==="file")var mt=Jl;else if(In(ke))if(al)mt=qc;else{mt=Zh;var rn=Oi}else je=ke.nodeName,!je||je.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?De&&tl(De.elementType)&&(mt=Jl):mt=ec;if(mt&&(mt=mt(i,De))){ha($e,mt,l,Be);break e}rn&&rn(i,ke,De),i==="focusout"&&De&&ke.type==="number"&&De.memoizedProps.value!=null&&Xa(ke,"number",ke.value)}switch(rn=De?Nr(De):window,i){case"focusin":(In(rn)||rn.contentEditable==="true")&&(Di=rn,ka=De,os=null);break;case"focusout":os=ka=Di=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,rr($e,l,Be);break;case"selectionchange":if(wo)break;case"keydown":case"keyup":rr($e,l,Be)}var St;if(it)e:{switch(i){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else It?Oe(i,l)&&(Lt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(R&&l.locale!=="ko"&&(It||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&It&&(St=nl()):(Ri=Be,Za="value"in Ri?Ri.value:Ri.textContent,It=!0)),rn=hp(De,Lt),0<rn.length&&(Lt=new Ns(Lt,i,null,l,Be),$e.push({event:Lt,listeners:rn}),St?Lt.data=St:(St=Xe(l),St!==null&&(Lt.data=St)))),(St=x?nn(i,l):Ut(i,l))&&(Lt=hp(De,"onBeforeInput"),0<Lt.length&&(rn=new Ns("onBeforeInput","beforeinput",null,l,Be),$e.push({event:rn,listeners:Lt}),rn.data=St)),t4($e,i,De,l,Be)}Ey($e,s)})}function If(i,s,l){return{instance:i,listener:s,currentTarget:l}}function hp(i,s){for(var l=s+"Capture",h=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=ai(i,l),g!=null&&h.unshift(If(i,g,b)),g=ai(i,s),g!=null&&h.push(If(i,g,b))),i.tag===3)return h;i=i.return}return[]}function dh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function xy(i,s,l,h,g){for(var b=s._reactName,F=[];l!==null&&l!==h;){var Q=l,ue=Q.alternate,De=Q.stateNode;if(Q=Q.tag,ue!==null&&ue===h)break;Q!==5&&Q!==26&&Q!==27||De===null||(ue=De,g?(De=ai(l,b),De!=null&&F.unshift(If(l,De,ue))):g||(De=ai(l,b),De!=null&&F.push(If(l,De,ue)))),l=l.return}F.length!==0&&i.push({event:s,listeners:F})}var a4=/\r\n?/g,s4=/\u0000|\uFFFD/g;function Ny(i){return(typeof i=="string"?i:""+i).replace(a4,`
`).replace(s4,"")}function Iy(i,s){return s=Ny(s),Ny(i)===s}function fp(){}function qn(i,s,l,h,g,b){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Ii(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Ii(i,""+h);break;case"className":Qi(i,"class",h);break;case"tabIndex":Qi(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(i,l,h);break;case"style":el(i,h,b);break;case"data":if(s!=="object"){Qi(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ra(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&qn(i,s,"name",g.name,g,null),qn(i,s,"formEncType",g.formEncType,g,null),qn(i,s,"formMethod",g.formMethod,g,null),qn(i,s,"formTarget",g.formTarget,g,null)):(qn(i,s,"encType",g.encType,g,null),qn(i,s,"method",g.method,g,null),qn(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ra(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=fp);break;case"onScroll":h!=null&&sn("scroll",i);break;case"onScrollEnd":h!=null&&sn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Ra(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":sn("beforetoggle",i),sn("toggle",i),Ki(i,"popover",h);break;case"xlinkActuate":Ir(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ir(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ir(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ir(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ir(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ir(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ir(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ki(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ca.get(l)||l,Ki(i,l,h))}}function Wg(i,s,l,h,g,b){switch(l){case"style":el(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Ii(i,h):(typeof h=="number"||typeof h=="bigint")&&Ii(i,""+h);break;case"onScroll":h!=null&&sn("scroll",i);break;case"onScrollEnd":h!=null&&sn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=fp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),b=i[Nn]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(s,b,g),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Ki(i,l,h)}}}function Si(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",i),sn("load",i);var h=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var F=l[b];if(F!=null)switch(b){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:qn(i,s,b,F,l,null)}}g&&qn(i,s,"srcSet",l.srcSet,l,null),h&&qn(i,s,"src",l.src,l,null);return;case"input":sn("invalid",i);var Q=b=F=g=null,ue=null,De=null;for(h in l)if(l.hasOwnProperty(h)){var Be=l[h];if(Be!=null)switch(h){case"name":g=Be;break;case"type":F=Be;break;case"checked":ue=Be;break;case"defaultChecked":De=Be;break;case"value":b=Be;break;case"defaultValue":Q=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,s));break;default:qn(i,s,h,Be,l,null)}}Qa(i,b,Q,ue,De,F,g,!1),Ka(i);return;case"select":sn("invalid",i),h=F=b=null;for(g in l)if(l.hasOwnProperty(g)&&(Q=l[g],Q!=null))switch(g){case"value":b=Q;break;case"defaultValue":F=Q;break;case"multiple":h=Q;default:qn(i,s,g,Q,l,null)}s=b,l=F,i.multiple=!!h,s!=null?ia(i,!!h,s,!1):l!=null&&ia(i,!!h,l,!0);return;case"textarea":sn("invalid",i),b=g=h=null;for(F in l)if(l.hasOwnProperty(F)&&(Q=l[F],Q!=null))switch(F){case"value":h=Q;break;case"defaultValue":g=Q;break;case"children":b=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:qn(i,s,F,Q,l,null)}Ja(i,h,g,b),Ka(i);return;case"option":for(ue in l)if(l.hasOwnProperty(ue)&&(h=l[ue],h!=null))switch(ue){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:qn(i,s,ue,h,l,null)}return;case"dialog":sn("beforetoggle",i),sn("toggle",i),sn("cancel",i),sn("close",i);break;case"iframe":case"object":sn("load",i);break;case"video":case"audio":for(h=0;h<Nf.length;h++)sn(Nf[h],i);break;case"image":sn("error",i),sn("load",i);break;case"details":sn("toggle",i);break;case"embed":case"source":case"link":sn("error",i),sn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in l)if(l.hasOwnProperty(De)&&(h=l[De],h!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:qn(i,s,De,h,l,null)}return;default:if(tl(s)){for(Be in l)l.hasOwnProperty(Be)&&(h=l[Be],h!==void 0&&Wg(i,s,Be,h,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(h=l[Q],h!=null&&qn(i,s,Q,h,l,null))}function o4(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,F=null,Q=null,ue=null,De=null,Be=null;for(je in l){var $e=l[je];if(l.hasOwnProperty(je)&&$e!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ue=$e;default:h.hasOwnProperty(je)||qn(i,s,je,null,h,$e)}}for(var ke in h){var je=h[ke];if($e=l[ke],h.hasOwnProperty(ke)&&(je!=null||$e!=null))switch(ke){case"type":b=je;break;case"name":g=je;break;case"checked":De=je;break;case"defaultChecked":Be=je;break;case"value":F=je;break;case"defaultValue":Q=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,s));break;default:je!==$e&&qn(i,s,ke,je,h,$e)}}Xr(i,F,Q,ue,De,Be,b,g);return;case"select":je=F=Q=ke=null;for(b in l)if(ue=l[b],l.hasOwnProperty(b)&&ue!=null)switch(b){case"value":break;case"multiple":je=ue;default:h.hasOwnProperty(b)||qn(i,s,b,null,h,ue)}for(g in h)if(b=h[g],ue=l[g],h.hasOwnProperty(g)&&(b!=null||ue!=null))switch(g){case"value":ke=b;break;case"defaultValue":Q=b;break;case"multiple":F=b;default:b!==ue&&qn(i,s,g,b,h,ue)}s=Q,l=F,h=je,ke!=null?ia(i,!!l,ke,!1):!!h!=!!l&&(s!=null?ia(i,!!l,s,!0):ia(i,!!l,l?[]:"",!1));return;case"textarea":je=ke=null;for(Q in l)if(g=l[Q],l.hasOwnProperty(Q)&&g!=null&&!h.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:qn(i,s,Q,null,h,g)}for(F in h)if(g=h[F],b=l[F],h.hasOwnProperty(F)&&(g!=null||b!=null))switch(F){case"value":ke=g;break;case"defaultValue":je=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&qn(i,s,F,g,h,b)}bn(i,ke,je);return;case"option":for(var Mt in l)if(ke=l[Mt],l.hasOwnProperty(Mt)&&ke!=null&&!h.hasOwnProperty(Mt))switch(Mt){case"selected":i.selected=!1;break;default:qn(i,s,Mt,null,h,ke)}for(ue in h)if(ke=h[ue],je=l[ue],h.hasOwnProperty(ue)&&ke!==je&&(ke!=null||je!=null))switch(ue){case"selected":i.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:qn(i,s,ue,ke,h,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in l)ke=l[Ct],l.hasOwnProperty(Ct)&&ke!=null&&!h.hasOwnProperty(Ct)&&qn(i,s,Ct,null,h,ke);for(De in h)if(ke=h[De],je=l[De],h.hasOwnProperty(De)&&ke!==je&&(ke!=null||je!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,s));break;default:qn(i,s,De,ke,h,je)}return;default:if(tl(s)){for(var zn in l)ke=l[zn],l.hasOwnProperty(zn)&&ke!==void 0&&!h.hasOwnProperty(zn)&&Wg(i,s,zn,void 0,h,ke);for(Be in h)ke=h[Be],je=l[Be],!h.hasOwnProperty(Be)||ke===je||ke===void 0&&je===void 0||Wg(i,s,Be,ke,h,je);return}}for(var xe in l)ke=l[xe],l.hasOwnProperty(xe)&&ke!=null&&!h.hasOwnProperty(xe)&&qn(i,s,xe,null,h,ke);for($e in h)ke=h[$e],je=l[$e],!h.hasOwnProperty($e)||ke===je||ke==null&&je==null||qn(i,s,$e,ke,h,je)}var Yg=null,Kg=null;function dp(i){return i.nodeType===9?i:i.ownerDocument}function Cy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Qg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xg=null;function l4(){var i=window.event;return i&&i.type==="popstate"?i===Xg?!1:(Xg=i,!0):(Xg=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,u4=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(i){return Py.resolve(null).then(i).catch(h4)}:Ly;function h4(i){setTimeout(function(){throw i})}function wu(i){return i==="head"}function Oy(i,s){var l=s,h=0,g=0;do{var b=l.nextSibling;if(i.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<h&&8>h){l=h;var F=i.ownerDocument;if(l&1&&Cf(F.documentElement),l&2&&Cf(F.body),l&4)for(l=F.head,Cf(l),F=l.firstChild;F;){var Q=F.nextSibling,ue=F.nodeName;F[mi]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&F.rel.toLowerCase()==="stylesheet"||l.removeChild(F),F=Q}}if(g===0){i.removeChild(b),Mf(s);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=b}while(l);Mf(s)}function Jg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jg(l),Ur(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function f4(i,s,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[mi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=$s(i.nextSibling),i===null)break}return null}function d4(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=$s(i.nextSibling),i===null))return null;return i}function Zg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function p4(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function $s(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var e0=null;function Dy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function ky(i,s,l){switch(s=dp(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Cf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ur(i)}var vs=new Map,jy=new Set;function pp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Nl=fe.d;fe.d={f:m4,r:g4,D:v4,C:y4,L:b4,m:_4,X:S4,S:w4,M:A4};function m4(){var i=Nl.f(),s=ap();return i||s}function g4(i){var s=mr(i);s!==null&&s.tag===5&&s.type==="form"?gc(s):Nl.r(i)}var ph=typeof document>"u"?null:document;function My(i,s,l){var h=ph;if(h&&typeof s=="string"&&s){var g=hn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),jy.has(g)||(jy.add(g),i={rel:i,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Si(s,"link",i),yn(s),h.head.appendChild(s)))}}function v4(i){Nl.D(i),My("dns-prefetch",i,null)}function y4(i,s){Nl.C(i,s),My("preconnect",i,s)}function b4(i,s,l){Nl.L(i,s,l);var h=ph;if(h&&i&&s){var g='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+hn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+hn(l.imageSizes)+'"]')):g+='[href="'+hn(i)+'"]';var b=g;switch(s){case"style":b=mh(i);break;case"script":b=gh(i)}vs.has(b)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),vs.set(b,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(Rf(b))||s==="script"&&h.querySelector(Lf(b))||(s=h.createElement("link"),Si(s,"link",i),yn(s),h.head.appendChild(s)))}}function _4(i,s){Nl.m(i,s);var l=ph;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+hn(h)+'"][href="'+hn(i)+'"]',b=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=gh(i)}if(!vs.has(b)&&(i=y({rel:"modulepreload",href:i},s),vs.set(b,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Lf(b)))return}h=l.createElement("link"),Si(h,"link",i),yn(h),l.head.appendChild(h)}}}function w4(i,s,l){Nl.S(i,s,l);var h=ph;if(h&&i){var g=Un(h).hoistableStyles,b=mh(i);s=s||"default";var F=g.get(b);if(!F){var Q={loading:0,preload:null};if(F=h.querySelector(Rf(b)))Q.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=vs.get(b))&&t0(i,l);var ue=F=h.createElement("link");yn(ue),Si(ue,"link",i),ue._p=new Promise(function(De,Be){ue.onload=De,ue.onerror=Be}),ue.addEventListener("load",function(){Q.loading|=1}),ue.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,mp(F,s,h)}F={type:"stylesheet",instance:F,count:1,state:Q},g.set(b,F)}}}function S4(i,s){Nl.X(i,s);var l=ph;if(l&&i){var h=Un(l).hoistableScripts,g=gh(i),b=h.get(g);b||(b=l.querySelector(Lf(g)),b||(i=y({src:i,async:!0},s),(s=vs.get(g))&&n0(i,s),b=l.createElement("script"),yn(b),Si(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function A4(i,s){Nl.M(i,s);var l=ph;if(l&&i){var h=Un(l).hoistableScripts,g=gh(i),b=h.get(g);b||(b=l.querySelector(Lf(g)),b||(i=y({src:i,async:!0,type:"module"},s),(s=vs.get(g))&&n0(i,s),b=l.createElement("script"),yn(b),Si(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function Fy(i,s,l,h){var g=(g=ae.current)?pp(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=mh(l.href),l=Un(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=mh(l.href);var b=Un(g).hoistableStyles,F=b.get(i);if(F||(g=g.ownerDocument||g,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,F),(b=g.querySelector(Rf(i)))&&!b._p&&(F.instance=b,F.state.loading=5),vs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vs.set(i,l),b||E4(g,i,l,F.state))),s&&h===null)throw Error(r(528,""));return F}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=gh(l),l=Un(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function mh(i){return'href="'+hn(i)+'"'}function Rf(i){return'link[rel="stylesheet"]['+i+"]"}function Uy(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function E4(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Si(s,"link",l),yn(s),i.head.appendChild(s))}function gh(i){return'[src="'+hn(i)+'"]'}function Lf(i){return"script[async]"+i}function Vy(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+hn(l.href)+'"]');if(h)return s.instance=h,yn(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),yn(h),Si(h,"style",g),mp(h,l.precedence,i),s.instance=h;case"stylesheet":g=mh(l.href);var b=i.querySelector(Rf(g));if(b)return s.state.loading|=4,s.instance=b,yn(b),b;h=Uy(l),(g=vs.get(g))&&t0(h,g),b=(i.ownerDocument||i).createElement("link"),yn(b);var F=b;return F._p=new Promise(function(Q,ue){F.onload=Q,F.onerror=ue}),Si(b,"link",h),s.state.loading|=4,mp(b,l.precedence,i),s.instance=b;case"script":return b=gh(l.src),(g=i.querySelector(Lf(b)))?(s.instance=g,yn(g),g):(h=l,(g=vs.get(b))&&(h=y({},l),n0(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),yn(g),Si(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,mp(h,l.precedence,i));return s.instance}function mp(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,b=g,F=0;F<h.length;F++){var Q=h[F];if(Q.dataset.precedence===s)b=Q;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function t0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function n0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var gp=null;function By(i,s,l){if(gp===null){var h=new Map,g=gp=new Map;g.set(l,h)}else g=gp,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var b=l[g];if(!(b[mi]||b[xn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var F=b.getAttribute(s)||"";F=i+F;var Q=h.get(F);Q?Q.push(b):h.set(F,[b])}}return h}function qy(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function T4(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function zy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Pf=null;function x4(){}function N4(i,s,l){if(Pf===null)throw Error(r(475));var h=Pf;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=mh(l.href),b=i.querySelector(Rf(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=vp.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=b,yn(b);return}b=i.ownerDocument||i,l=Uy(l),(g=vs.get(g))&&t0(l,g),b=b.createElement("link"),yn(b);var F=b;F._p=new Promise(function(Q,ue){F.onload=Q,F.onerror=ue}),Si(b,"link",l),s.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=vp.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function I4(){if(Pf===null)throw Error(r(475));var i=Pf;return i.stylesheets&&i.count===0&&r0(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&r0(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function vp(){if(this.count--,this.count===0){if(this.stylesheets)r0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yp=null;function r0(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yp=new Map,s.forEach(C4,i),yp=null,vp.call(i))}function C4(i,s){if(!(s.state.loading&4)){var l=yp.get(i);if(l)var h=l.get(null);else{l=new Map,yp.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var F=g[b];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(l.set(F.dataset.precedence,F),h=F)}h&&l.set(null,h)}g=s.instance,F=g.getAttribute("data-precedence"),b=l.get(F)||h,b===h&&l.set(null,g),l.set(F,g),this.count++,h=vp.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Of={$$typeof:ee,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function R4(i,s,l,h,g,b,F,Q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function Hy(i,s,l,h,g,b,F,Q,ue,De,Be,$e){return i=new R4(i,s,l,F,Q,ue,De,$e),s=1,b===!0&&(s|=24),b=ui(3,null,null,s),i.current=b,b.stateNode=i,s=tf(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:s},ge(b),i}function Gy(i){return i?(i=qr,i):qr}function $y(i,s,l,h,g,b){g=Gy(g),h.context===null?h.context=g:h.pendingContext=g,h=Ve(s),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=Ge(i,h,s),l!==null&&(Ha(l,i,s),qe(l,i,s))}function Wy(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function i0(i,s){Wy(i,s),(i=i.alternate)&&Wy(i,s)}function Yy(i){if(i.tag===13){var s=Os(i,67108864);s!==null&&Ha(s,i,67108864),i0(i,67108864)}}var bp=!0;function L4(i,s,l,h){var g=te.T;te.T=null;var b=fe.p;try{fe.p=2,a0(i,s,l,h)}finally{fe.p=b,te.T=g}}function P4(i,s,l,h){var g=te.T;te.T=null;var b=fe.p;try{fe.p=8,a0(i,s,l,h)}finally{fe.p=b,te.T=g}}function a0(i,s,l,h){if(bp){var g=s0(h);if(g===null)$g(i,s,h,_p,l),Qy(i,h);else if(D4(g,i,s,l,h))h.stopPropagation();else if(Qy(i,h),s&4&&-1<O4.indexOf(i)){for(;g!==null;){var b=mr(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var F=Qt(b.pendingLanes);if(F!==0){var Q=b;for(Q.pendingLanes|=2,Q.entangledLanes|=2;F;){var ue=1<<31-pt(F);Q.entanglements[1]|=ue,F&=~ue}Uo(b),(On&6)===0&&(rp=At()+500,xf(0))}}break;case 13:Q=Os(b,2),Q!==null&&Ha(Q,b,2),ap(),i0(b,2)}if(b=s0(h),b===null&&$g(i,s,h,_p,l),b===g)break;g=b}g!==null&&h.stopPropagation()}else $g(i,s,h,null,l)}}function s0(i){return i=Ln(i),o0(i)}var _p=null;function o0(i){if(_p=null,i=xr(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return _p=i,null}function Ky(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case Ze:return 2;case et:return 8;case st:case ot:return 32;case yt:return 268435456;default:return 32}default:return 32}}var l0=!1,Su=null,Au=null,Eu=null,Df=new Map,kf=new Map,Tu=[],O4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(i,s){switch(i){case"focusin":case"focusout":Su=null;break;case"dragenter":case"dragleave":Au=null;break;case"mouseover":case"mouseout":Eu=null;break;case"pointerover":case"pointerout":Df.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(s.pointerId)}}function jf(i,s,l,h,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},s!==null&&(s=mr(s),s!==null&&Yy(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function D4(i,s,l,h,g){switch(s){case"focusin":return Su=jf(Su,i,s,l,h,g),!0;case"dragenter":return Au=jf(Au,i,s,l,h,g),!0;case"mouseover":return Eu=jf(Eu,i,s,l,h,g),!0;case"pointerover":var b=g.pointerId;return Df.set(b,jf(Df.get(b)||null,i,s,l,h,g)),!0;case"gotpointercapture":return b=g.pointerId,kf.set(b,jf(kf.get(b)||null,i,s,l,h,g)),!0}return!1}function Xy(i){var s=xr(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,Yi(i.priority,function(){if(l.tag===13){var h=za();h=xi(h);var g=Os(l,h);g!==null&&Ha(g,l,h),i0(l,h)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=s0(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);aa=h,l.target.dispatchEvent(h),aa=null}else return s=mr(l),s!==null&&Yy(s),i.blockedOn=l,!1;s.shift()}return!0}function Jy(i,s,l){wp(i)&&l.delete(s)}function k4(){l0=!1,Su!==null&&wp(Su)&&(Su=null),Au!==null&&wp(Au)&&(Au=null),Eu!==null&&wp(Eu)&&(Eu=null),Df.forEach(Jy),kf.forEach(Jy)}function Sp(i,s){i.blockedOn===s&&(i.blockedOn=null,l0||(l0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,k4)))}var Ap=null;function Zy(i){Ap!==i&&(Ap=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ap===i&&(Ap=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(o0(h||l)===null)continue;break}var b=mr(l);b!==null&&(i.splice(s,3),s-=3,ps(b,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Mf(i){function s(ue){return Sp(ue,i)}Su!==null&&Sp(Su,i),Au!==null&&Sp(Au,i),Eu!==null&&Sp(Eu,i),Df.forEach(s),kf.forEach(s);for(var l=0;l<Tu.length;l++){var h=Tu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Tu.length&&(l=Tu[0],l.blockedOn===null);)Xy(l),l.blockedOn===null&&Tu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],b=l[h+1],F=g[Nn]||null;if(typeof b=="function")F||Zy(l);else if(F){var Q=null;if(b&&b.hasAttribute("formAction")){if(g=b,F=b[Nn]||null)Q=F.formAction;else if(o0(g)!==null)continue}else Q=F.action;typeof Q=="function"?l[h+1]=Q:(l.splice(h,3),h-=3),Zy(l)}}}function u0(i){this._internalRoot=i}Ep.prototype.render=u0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=za();$y(l,h,i,s,null,null)},Ep.prototype.unmount=u0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;$y(i.current,2,null,i,null,null),ap(),s[Hn]=null}};function Ep(i){this._internalRoot=i}Ep.prototype.unstable_scheduleHydration=function(i){if(i){var s=Kr();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Tu.length&&s!==0&&s<Tu[l].priority;l++);Tu.splice(l,0,i),l===0&&Xy(i)}};var e5=e.version;if(e5!=="19.1.0")throw Error(r(527,e5,"19.1.0"));fe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var j4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{bt=Tp.inject(j4),vt=Tp}catch{}}return Uf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",g=g2,b=v2,F=y2,Q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(F=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Q=s.unstable_transitionCallbacks)),s=Hy(i,1,!1,null,null,l,h,g,b,F,Q,null),i[Hn]=s.current,Gg(i),new u0(s)},Uf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,g="",b=g2,F=v2,Q=y2,ue=null,De=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(F=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ue=l.unstable_transitionCallbacks),l.formState!==void 0&&(De=l.formState)),s=Hy(i,1,!0,s,l??null,h,g,b,F,Q,ue,De),s.context=Gy(null),l=s.current,h=za(),h=xi(h),g=Ve(h),g.callback=null,Ge(l,g,h),l=h,s.current.lanes=l,Yr(s,l),Uo(s),i[Hn]=s.current,Gg(i),new Ep(s)},Uf.version="19.1.0",Uf}var c5;function W4(){if(c5)return f0.exports;c5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),f0.exports=$4(),f0.exports}var Y4=W4();const K4=D_(Y4);var Vf={},h5;function Q4(){if(h5)return Vf;h5=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.parse=u,Vf.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,S){const L=new o,D=E.length;if(D<2)return L;const V=(S==null?void 0:S.decode)||y;let k=0;do{const W=E.indexOf("=",k);if(W===-1)break;const ee=E.indexOf(";",k),le=ee===-1?D:ee;if(W>le){k=E.lastIndexOf(";",W-1)+1;continue}const ce=c(E,k,W),Ne=f(E,W,ce),U=E.slice(ce,Ne);if(L[U]===void 0){let N=c(E,W+1,le),j=f(E,le,N);const G=V(E.slice(N,j));L[U]=G}k=le+1}while(k<D);return L}function c(E,S,L){do{const D=E.charCodeAt(S);if(D!==32&&D!==9)return S}while(++S<L);return L}function f(E,S,L){for(;S>L;){const D=E.charCodeAt(--S);if(D!==32&&D!==9)return S+1}return L}function d(E,S,L){const D=(L==null?void 0:L.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const V=D(S);if(!e.test(V))throw new TypeError(`argument val is invalid: ${S}`);let k=E+"="+V;if(!L)return k;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);k+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);k+="; Domain="+L.domain}if(L.path){if(!r.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);k+="; Path="+L.path}if(L.expires){if(!w(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);k+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(k+="; HttpOnly"),L.secure&&(k+="; Secure"),L.partitioned&&(k+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return k}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return a.call(E)==="[object Date]"}return Vf}Q4();var f5="popstate";function X4(n={}){function e(r,a){let{pathname:o,search:u,hash:c}=r.location;return W0("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:ad(a)}return Z4(e,t,null,n)}function or(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Js(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J4(){return Math.random().toString(36).substring(2,10)}function d5(n,e){return{usr:n.state,key:n.key,idx:e}}function W0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zh(e):e,state:t,key:e&&e.key||r||J4()}}function ad({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Z4(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,c="POP",f=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function w(){c="POP";let V=y(),k=V==null?null:V-d;d=V,f&&f({action:c,location:D.location,delta:k})}function E(V,k){c="PUSH";let W=W0(D.location,V,k);d=y()+1;let ee=d5(W,d),le=D.createHref(W);try{u.pushState(ee,"",le)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(le)}o&&f&&f({action:c,location:D.location,delta:1})}function S(V,k){c="REPLACE";let W=W0(D.location,V,k);d=y();let ee=d5(W,d),le=D.createHref(W);u.replaceState(ee,"",le),o&&f&&f({action:c,location:D.location,delta:0})}function L(V){let k=a.location.origin!=="null"?a.location.origin:a.location.href,W=typeof V=="string"?V:ad(V);return W=W.replace(/ $/,"%20"),or(k,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,k)}let D={get action(){return c},get location(){return n(a,u)},listen(V){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(f5,w),f=V,()=>{a.removeEventListener(f5,w),f=null}},createHref(V){return e(a,V)},createURL:L,encodeLocation(V){let k=L(V);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:S,go(V){return u.go(V)}};return D}function k_(n,e,t="/"){return e3(n,e,t,!1)}function e3(n,e,t,r){let a=typeof e=="string"?zh(e):e,o=jl(a.pathname||"/",t);if(o==null)return null;let u=j_(n);t3(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let d=f3(o);c=c3(u[f],d,r)}return c}function j_(n,e=[],t=[],r=""){let a=(o,u,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(or(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Ol([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(or(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),j_(o.children,e,y,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:l3(d,o.index),routesMeta:y})};return n.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,u);else for(let f of M_(o.path))a(o,u,f)}),e}function M_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=M_(r.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function t3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:u3(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var n3=/^:[\w-]+$/,r3=3,i3=2,a3=1,s3=10,o3=-2,p5=n=>n==="*";function l3(n,e){let t=n.split("/"),r=t.length;return t.some(p5)&&(r+=o3),e&&(r+=i3),t.filter(a=>!p5(a)).reduce((a,o)=>a+(n3.test(o)?r3:o===""?a3:s3),r)}function u3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function c3(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",w=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},y),E=f.route;if(!w&&d&&t&&!r[r.length-1].route.index&&(w=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:Ol([o,w.pathname]),pathnameBase:g3(Ol([o,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(o=Ol([o,w.pathnameBase]))}return u}function Zp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=h3(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,{paramName:y,isOptional:w},E)=>{if(y==="*"){let L=c[E]||"";u=o.slice(0,o.length-L.length).replace(/(.)\/+$/,"$1")}const S=c[E];return w&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function h3(n,e=!1,t=!0){Js(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function f3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Js(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function jl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function d3(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?zh(n):n;return{pathname:t?t.startsWith("/")?t:p3(t,e):e,search:v3(r),hash:y3(a)}}function p3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function g0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function U1(n){let e=m3(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function V1(n,e,t,r=!1){let a;typeof n=="string"?a=zh(n):(a={...n},or(!a.pathname||!a.pathname.includes("?"),g0("?","pathname","search",a)),or(!a.pathname||!a.pathname.includes("#"),g0("#","pathname","hash",a)),or(!a.search||!a.search.includes("#"),g0("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,c;if(u==null)c=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;a.pathname=E.join("/")}c=w>=0?e[w]:"/"}let f=d3(a,c),d=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||y)&&(f.pathname+="/"),f}var Ol=n=>n.join("/").replace(/\/\/+/g,"/"),g3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),v3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,y3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function b3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var F_=["POST","PUT","PATCH","DELETE"];new Set(F_);var _3=["GET",...F_];new Set(_3);var Hh=be.createContext(null);Hh.displayName="DataRouter";var Im=be.createContext(null);Im.displayName="DataRouterState";var U_=be.createContext({isTransitioning:!1});U_.displayName="ViewTransition";var w3=be.createContext(new Map);w3.displayName="Fetchers";var S3=be.createContext(null);S3.displayName="Await";var no=be.createContext(null);no.displayName="Navigation";var vd=be.createContext(null);vd.displayName="Location";var ro=be.createContext({outlet:null,matches:[],isDataRoute:!1});ro.displayName="Route";var B1=be.createContext(null);B1.displayName="RouteError";function A3(n,{relative:e}={}){or(Gh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=be.useContext(no),{hash:a,pathname:o,search:u}=yd(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Ol([t,o])),r.createHref({pathname:c,search:u,hash:a})}function Gh(){return be.useContext(vd)!=null}function zl(){return or(Gh(),"useLocation() may be used only in the context of a <Router> component."),be.useContext(vd).location}var V_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B_(n){be.useContext(no).static||be.useLayoutEffect(n)}function io(){let{isDataRoute:n}=be.useContext(ro);return n?j3():E3()}function E3(){or(Gh(),"useNavigate() may be used only in the context of a <Router> component.");let n=be.useContext(Hh),{basename:e,navigator:t}=be.useContext(no),{matches:r}=be.useContext(ro),{pathname:a}=zl(),o=JSON.stringify(U1(r)),u=be.useRef(!1);return B_(()=>{u.current=!0}),be.useCallback((f,d={})=>{if(Js(u.current,V_),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=V1(f,JSON.parse(o),a,d.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ol([e,y.pathname])),(d.replace?t.replace:t.push)(y,d.state,d)},[e,t,o,a,n])}be.createContext(null);function q_(){let{matches:n}=be.useContext(ro),e=n[n.length-1];return e?e.params:{}}function yd(n,{relative:e}={}){let{matches:t}=be.useContext(ro),{pathname:r}=zl(),a=JSON.stringify(U1(t));return be.useMemo(()=>V1(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function T3(n,e){return z_(n,e)}function z_(n,e,t,r){var W;or(Gh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=be.useContext(no),{matches:u}=be.useContext(ro),c=u[u.length-1],f=c?c.params:{},d=c?c.pathname:"/",y=c?c.pathnameBase:"/",w=c&&c.route;{let ee=w&&w.path||"";H_(d,!w||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let E=zl(),S;if(e){let ee=typeof e=="string"?zh(e):e;or(y==="/"||((W=ee.pathname)==null?void 0:W.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),S=ee}else S=E;let L=S.pathname||"/",D=L;if(y!=="/"){let ee=y.replace(/^\//,"").split("/");D="/"+L.replace(/^\//,"").split("/").slice(ee.length).join("/")}let V=!o&&t&&t.matches&&t.matches.length>0?t.matches:k_(n,{pathname:D});Js(w||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Js(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=R3(V&&V.map(ee=>Object.assign({},ee,{params:Object.assign({},f,ee.params),pathname:Ol([y,a.encodeLocation?a.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?y:Ol([y,a.encodeLocation?a.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),u,t,r);return e&&k?be.createElement(vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function x3(){let n=k3(),e=b3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=be.createElement(be.Fragment,null,be.createElement("p",null," Hey developer "),be.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",be.createElement("code",{style:o},"ErrorBoundary")," or"," ",be.createElement("code",{style:o},"errorElement")," prop on your route.")),be.createElement(be.Fragment,null,be.createElement("h2",null,"Unexpected Application Error!"),be.createElement("h3",{style:{fontStyle:"italic"}},e),t?be.createElement("pre",{style:a},t):null,u)}var N3=be.createElement(x3,null),I3=class extends be.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?be.createElement(ro.Provider,{value:this.props.routeContext},be.createElement(B1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C3({routeContext:n,match:e,children:t}){let r=be.useContext(Hh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),be.createElement(ro.Provider,{value:n},t)}function R3(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);or(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(t)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:y,errors:w}=t,E=d.route.loader&&!y.hasOwnProperty(d.route.id)&&(!w||w[d.route.id]===void 0);if(d.route.lazy||E){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,y)=>{let w,E=!1,S=null,L=null;t&&(w=o&&d.route.id?o[d.route.id]:void 0,S=d.route.errorElement||N3,u&&(c<0&&y===0?(H_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,L=null):c===y&&(E=!0,L=d.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),V=()=>{let k;return w?k=S:E?k=L:d.route.Component?k=be.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=f,be.createElement(C3,{match:d,routeContext:{outlet:f,matches:D,isDataRoute:t!=null},children:k})};return t&&(d.route.ErrorBoundary||d.route.errorElement||y===0)?be.createElement(I3,{location:t.location,revalidation:t.revalidation,component:S,error:w,children:V(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):V()},null)}function q1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L3(n){let e=be.useContext(Hh);return or(e,q1(n)),e}function P3(n){let e=be.useContext(Im);return or(e,q1(n)),e}function O3(n){let e=be.useContext(ro);return or(e,q1(n)),e}function z1(n){let e=O3(n),t=e.matches[e.matches.length-1];return or(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function D3(){return z1("useRouteId")}function k3(){var r;let n=be.useContext(B1),e=P3("useRouteError"),t=z1("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function j3(){let{router:n}=L3("useNavigate"),e=z1("useNavigate"),t=be.useRef(!1);return B_(()=>{t.current=!0}),be.useCallback(async(a,o={})=>{Js(t.current,V_),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var m5={};function H_(n,e,t){!e&&!m5[n]&&(m5[n]=!0,Js(!1,t))}be.memo(M3);function M3({routes:n,future:e,state:t}){return z_(n,void 0,t,e)}function g5({to:n,replace:e,state:t,relative:r}){or(Gh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=be.useContext(no);Js(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=be.useContext(ro),{pathname:u}=zl(),c=io(),f=V1(n,U1(o),u,r==="path"),d=JSON.stringify(f);return be.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:r})},[c,d,r,e,t]),null}function ta(n){or(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F3({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){or(!Gh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=be.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=zh(t));let{pathname:f="/",search:d="",hash:y="",state:w=null,key:E="default"}=t,S=be.useMemo(()=>{let L=jl(f,u);return L==null?null:{location:{pathname:L,search:d,hash:y,state:w,key:E},navigationType:r}},[u,f,d,y,w,E,r]);return Js(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:be.createElement(no.Provider,{value:c},be.createElement(vd.Provider,{children:e,value:S}))}function U3({children:n,location:e}){return T3(Y0(n),e)}function Y0(n,e=[]){let t=[];return be.Children.forEach(n,(r,a)=>{if(!be.isValidElement(r))return;let o=[...e,a];if(r.type===be.Fragment){t.push.apply(t,Y0(r.props.children,o));return}or(r.type===ta,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),or(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Y0(r.props.children,o)),t.push(u)}),t}var Mp="get",Fp="application/x-www-form-urlencoded";function Cm(n){return n!=null&&typeof n.tagName=="string"}function V3(n){return Cm(n)&&n.tagName.toLowerCase()==="button"}function B3(n){return Cm(n)&&n.tagName.toLowerCase()==="form"}function q3(n){return Cm(n)&&n.tagName.toLowerCase()==="input"}function z3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function H3(n,e){return n.button===0&&(!e||e==="_self")&&!z3(n)}var xp=null;function G3(){if(xp===null)try{new FormData(document.createElement("form"),0),xp=!1}catch{xp=!0}return xp}var $3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v0(n){return n!=null&&!$3.has(n)?(Js(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fp}"`),null):n}function W3(n,e){let t,r,a,o,u;if(B3(n)){let c=n.getAttribute("action");r=c?jl(c,e):null,t=n.getAttribute("method")||Mp,a=v0(n.getAttribute("enctype"))||Fp,o=new FormData(n)}else if(V3(n)||q3(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?jl(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Mp,a=v0(n.getAttribute("formenctype"))||v0(c.getAttribute("enctype"))||Fp,o=new FormData(c,n),!G3()){let{name:d,type:y,value:w}=n;if(y==="image"){let E=d?`${d}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else d&&o.append(d,w)}}else{if(Cm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mp,r=null,a=Fp,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function H1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Y3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Q3(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await Y3(o,t);return u.links?u.links():[]}return[]}));return eT(r.flat(1).filter(K3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function v5(n,e,t,r,a,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>{var y;return t[d].pathname!==f.pathname||((y=t[d].route.path)==null?void 0:y.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{var w;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function X3(n,e,{includeHydrateFallback:t}={}){return J3(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function J3(n){return[...new Set(n)]}function Z3(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function eT(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(Z3(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var tT=new Set([100,101,204,205]);function nT(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&jl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function G_(){let n=be.useContext(Hh);return H1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rT(){let n=be.useContext(Im);return H1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var G1=be.createContext(void 0);G1.displayName="FrameworkContext";function $_(){let n=be.useContext(G1);return H1(n,"You must render this element inside a <HydratedRouter> element"),n}function iT(n,e){let t=be.useContext(G1),[r,a]=be.useState(!1),[o,u]=be.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:y,onTouchStart:w}=e,E=be.useRef(null);be.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=k=>{k.forEach(W=>{u(W.isIntersecting)})},V=new IntersectionObserver(D,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[n]),be.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let S=()=>{a(!0)},L=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Bf(c,S),onBlur:Bf(f,L),onMouseEnter:Bf(d,S),onMouseLeave:Bf(y,L),onTouchStart:Bf(w,S)}]:[!1,E,{}]}function Bf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function aT({page:n,...e}){let{router:t}=G_(),r=be.useMemo(()=>k_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?be.createElement(oT,{page:n,matches:r,...e}):null}function sT(n){let{manifest:e,routeModules:t}=$_(),[r,a]=be.useState([]);return be.useEffect(()=>{let o=!1;return Q3(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function oT({page:n,matches:e,...t}){let r=zl(),{manifest:a,routeModules:o}=$_(),{basename:u}=G_(),{loaderData:c,matches:f}=rT(),d=be.useMemo(()=>v5(n,e,f,a,r,"data"),[n,e,f,a,r]),y=be.useMemo(()=>v5(n,e,f,a,r,"assets"),[n,e,f,a,r]),w=be.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let L=new Set,D=!1;if(e.forEach(k=>{var ee;let W=a.routes[k.route.id];!W||!W.hasLoader||(!d.some(le=>le.route.id===k.route.id)&&k.route.id in c&&((ee=o[k.route.id])!=null&&ee.shouldRevalidate)||W.hasClientLoader?D=!0:L.add(k.route.id))}),L.size===0)return[];let V=nT(n,u);return D&&L.size>0&&V.searchParams.set("_routes",e.filter(k=>L.has(k.route.id)).map(k=>k.route.id).join(",")),[V.pathname+V.search]},[u,c,r,a,d,e,n,o]),E=be.useMemo(()=>X3(y,a),[y,a]),S=sT(y);return be.createElement(be.Fragment,null,w.map(L=>be.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),E.map(L=>be.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),S.map(({key:L,link:D})=>be.createElement("link",{key:L,...D})))}function lT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.5.3")}catch{}function uT({basename:n,children:e,window:t}){let r=be.useRef();r.current==null&&(r.current=X4({window:t,v5Compat:!0}));let a=r.current,[o,u]=be.useState({action:a.action,location:a.location}),c=be.useCallback(f=>{be.startTransition(()=>u(f))},[u]);return be.useLayoutEffect(()=>a.listen(c),[a,c]),be.createElement(F3,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var Y_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=be.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:c,target:f,to:d,preventScrollReset:y,viewTransition:w,...E},S){let{basename:L}=be.useContext(no),D=typeof d=="string"&&Y_.test(d),V,k=!1;if(typeof d=="string"&&D&&(V=d,W_))try{let j=new URL(window.location.href),G=d.startsWith("//")?new URL(j.protocol+d):new URL(d),C=jl(G.pathname,L);G.origin===j.origin&&C!=null?d=C+G.search+G.hash:k=!0}catch{Js(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=A3(d,{relative:a}),[ee,le,ce]=iT(r,E),Ne=dT(d,{replace:u,state:c,target:f,preventScrollReset:y,relative:a,viewTransition:w});function U(j){e&&e(j),j.defaultPrevented||Ne(j)}let N=be.createElement("a",{...E,...ce,href:V||W,onClick:k||o?e:U,ref:lT(S,le),target:f,"data-discover":!D&&t==="render"?"true":void 0});return ee&&!D?be.createElement(be.Fragment,null,N,be.createElement(aT,{page:W})):N});Zt.displayName="Link";var cT=be.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:c,children:f,...d},y){let w=yd(u,{relative:d.relative}),E=zl(),S=be.useContext(Im),{navigator:L,basename:D}=be.useContext(no),V=S!=null&&yT(w)&&c===!0,k=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,W=E.pathname,ee=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(W=W.toLowerCase(),ee=ee?ee.toLowerCase():null,k=k.toLowerCase()),ee&&D&&(ee=jl(ee,D)||ee);const le=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ce=W===k||!a&&W.startsWith(k)&&W.charAt(le)==="/",Ne=ee!=null&&(ee===k||!a&&ee.startsWith(k)&&ee.charAt(k.length)==="/"),U={isActive:ce,isPending:Ne,isTransitioning:V},N=ce?e:void 0,j;typeof r=="function"?j=r(U):j=[r,ce?"active":null,Ne?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(U):o;return be.createElement(Zt,{...d,"aria-current":N,className:j,ref:y,style:G,to:u,viewTransition:c},typeof f=="function"?f(U):f)});cT.displayName="NavLink";var hT=be.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=Mp,action:c,onSubmit:f,relative:d,preventScrollReset:y,viewTransition:w,...E},S)=>{let L=gT(),D=vT(c,{relative:d}),V=u.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&Y_.test(c),W=ee=>{if(f&&f(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,ce=(le==null?void 0:le.getAttribute("formmethod"))||u;L(le||ee.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:a,state:o,relative:d,preventScrollReset:y,viewTransition:w})};return be.createElement("form",{ref:S,method:V,action:D,onSubmit:r?f:W,...E,"data-discover":!k&&n==="render"?"true":void 0})});hT.displayName="Form";function fT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K_(n){let e=be.useContext(Hh);return or(e,fT(n)),e}function dT(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let c=io(),f=zl(),d=yd(n,{relative:o});return be.useCallback(y=>{if(H3(y,e)){y.preventDefault();let w=t!==void 0?t:ad(f)===ad(d);c(n,{replace:w,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,c,d,t,r,e,n,a,o,u])}var pT=0,mT=()=>`__${String(++pT)}__`;function gT(){let{router:n}=K_("useSubmit"),{basename:e}=be.useContext(no),t=D3();return be.useCallback(async(r,a={})=>{let{action:o,method:u,encType:c,formData:f,body:d}=W3(r,e);if(a.navigate===!1){let y=a.fetcherKey||mT();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function vT(n,{relative:e}={}){let{basename:t}=be.useContext(no),r=be.useContext(ro);or(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...yd(n||".",{relative:e})},u=zl();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(y=>y==="")){c.delete("index"),f.filter(w=>w).forEach(w=>c.append("index",w));let y=c.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ol([t,o.pathname])),ad(o)}function yT(n,e={}){let t=be.useContext(U_);or(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=K_("useViewTransitionState"),a=yd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=jl(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=jl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zp(a.pathname,u)!=null||Zp(a.pathname,o)!=null}new TextEncoder;[...tT];const bT=()=>{};var y5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},_T=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],c=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},X_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,c=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,y=o>>2,w=(o&3)<<4|c>>4;let E=(c&15)<<2|d>>6,S=d&63;f||(S=64,u||(E=64)),r.push(t[y],t[w],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_T(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],c=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||c==null||d==null||w==null)throw new wT;const E=o<<2|c>>4;if(r.push(E),d!==64){const S=c<<4&240|d>>2;if(r.push(S),w!==64){const L=d<<6&192|w;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ST=function(n){const e=Q_(n);return X_.encodeByteArray(e,!0)},em=function(n){return ST(n).replace(/\./g,"")},J_=function(n){try{return X_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=()=>AT().__FIREBASE_DEFAULTS__,TT=()=>{if(typeof process>"u"||typeof y5>"u")return;const n=y5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&J_(n[1]);return e&&JSON.parse(e)},Rm=()=>{try{return bT()||ET()||TT()||xT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Z_=n=>{var e,t;return(t=(e=Rm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NT=n=>{const e=Z_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ew=()=>{var n;return(n=Rm())===null||n===void 0?void 0:n.config},tw=n=>{var e;return(e=Rm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[em(JSON.stringify(t)),em(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wi())}function LT(){var n;const e=(n=Rm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function OT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DT(){const n=Wi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kT(){return!LT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function Y1(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function nw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="FirebaseError";class ao extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=jT,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?MT(o,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new ao(a,c,r)}}function MT(n,e){return n.replace(FT,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const FT=/\{\$([^}]+)}/g;function UT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(b5(o)&&b5(u)){if(!Uu(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function b5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Gf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VT(n,e){const t=new BT(n,e);return t.subscribe.bind(t)}class BT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");qT(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=y0),a.error===void 0&&(a.error=y0),a.complete===void 0&&(a.complete=y0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function y0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=1e3,HT=2,GT=4*60*60*1e3,$T=.5;function _5(n,e=zT,t=HT){const r=e*Math.pow(t,n),a=Math.round($T*r*(Math.random()-.5)*2);return Math.min(GT,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n){return n&&n._delegate?n._delegate:n}class Zs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new IT;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KT(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YT(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YT(n){return n===Sc?void 0:n}function KT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(un||(un={}));const XT={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},JT=un.INFO,ZT={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},ex=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=ZT[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=JT,this._logHandler=ex,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...e),this._logHandler(this,un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...e),this._logHandler(this,un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,un.INFO,...e),this._logHandler(this,un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,un.WARN,...e),this._logHandler(this,un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,un.ERROR,...e),this._logHandler(this,un.ERROR,...e)}}const tx=(n,e)=>e.some(t=>n instanceof t);let w5,S5;function nx(){return w5||(w5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rx(){return S5||(S5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rw=new WeakMap,K0=new WeakMap,iw=new WeakMap,b0=new WeakMap,K1=new WeakMap;function ix(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(ku(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&rw.set(t,n)}).catch(()=>{}),K1.set(e,n),e}function ax(n){if(K0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});K0.set(n,e)}let Q0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return K0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ku(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sx(n){Q0=n(Q0)}function ox(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(_0(this),e,...t);return iw.set(r,e.sort?e.sort():[e]),ku(r)}:rx().includes(n)?function(...e){return n.apply(_0(this),e),ku(rw.get(this))}:function(...e){return ku(n.apply(_0(this),e))}}function lx(n){return typeof n=="function"?ox(n):(n instanceof IDBTransaction&&ax(n),tx(n,nx())?new Proxy(n,Q0):n)}function ku(n){if(n instanceof IDBRequest)return ix(n);if(b0.has(n))return b0.get(n);const e=lx(n);return e!==n&&(b0.set(n,e),K1.set(e,n)),e}const _0=n=>K1.get(n);function aw(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),c=ku(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ku(u.result),f.oldVersion,f.newVersion,ku(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const ux=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],w0=new Map;function A5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w0.get(e))return w0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=cx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ux.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),a&&f.done]))[0]};return w0.set(e,o),o}sx(n=>({...n,get:(e,t,r)=>A5(e,t)||n.get(e,t,r),has:(e,t)=>!!A5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fx(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function fx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const X0="@firebase/app",E5="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Lm("@firebase/app"),dx="@firebase/app-compat",px="@firebase/analytics-compat",mx="@firebase/analytics",gx="@firebase/app-check-compat",vx="@firebase/app-check",yx="@firebase/auth",bx="@firebase/auth-compat",_x="@firebase/database",wx="@firebase/data-connect",Sx="@firebase/database-compat",Ax="@firebase/functions",Ex="@firebase/functions-compat",Tx="@firebase/installations",xx="@firebase/installations-compat",Nx="@firebase/messaging",Ix="@firebase/messaging-compat",Cx="@firebase/performance",Rx="@firebase/performance-compat",Lx="@firebase/remote-config",Px="@firebase/remote-config-compat",Ox="@firebase/storage",Dx="@firebase/storage-compat",kx="@firebase/firestore",jx="@firebase/vertexai",Mx="@firebase/firestore-compat",Fx="firebase",Ux="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="[DEFAULT]",Vx={[X0]:"fire-core",[dx]:"fire-core-compat",[mx]:"fire-analytics",[px]:"fire-analytics-compat",[vx]:"fire-app-check",[gx]:"fire-app-check-compat",[yx]:"fire-auth",[bx]:"fire-auth-compat",[_x]:"fire-rtdb",[wx]:"fire-data-connect",[Sx]:"fire-rtdb-compat",[Ax]:"fire-fn",[Ex]:"fire-fn-compat",[Tx]:"fire-iid",[xx]:"fire-iid-compat",[Nx]:"fire-fcm",[Ix]:"fire-fcm-compat",[Cx]:"fire-perf",[Rx]:"fire-perf-compat",[Lx]:"fire-rc",[Px]:"fire-rc-compat",[Ox]:"fire-gcs",[Dx]:"fire-gcs-compat",[kx]:"fire-fst",[Mx]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[Fx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map,Bx=new Map,Z0=new Map;function T5(n,e){try{n.container.addComponent(e)}catch(t){Ml.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yo(n){const e=n.name;if(Z0.has(e))return Ml.debug(`There were multiple attempts to register component ${e}.`),!1;Z0.set(e,n);for(const t of tm.values())T5(t,n);for(const t of Bx.values())T5(t,n);return!0}function Mc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ga(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ju=new jc("app","Firebase",qx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ju.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=Ux;function sw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:J0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw ju.create("bad-app-name",{appName:String(a)});if(t||(t=ew()),!t)throw ju.create("no-options");const o=tm.get(a);if(o){if(Uu(t,o.options)&&Uu(r,o.config))return o;throw ju.create("duplicate-app",{appName:a})}const u=new QT(a);for(const f of Z0.values())u.addComponent(f);const c=new zx(t,r,u);return tm.set(a,c),c}function Q1(n=J0){const e=tm.get(n);if(!e&&n===J0&&ew())return sw();if(!e)throw ju.create("no-app",{appName:n});return e}function ys(n,e,t){var r;let a=(r=Vx[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ml.warn(c.join(" "));return}Yo(new Zs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firebase-heartbeat-database",Gx=1,sd="firebase-heartbeat-store";let S0=null;function ow(){return S0||(S0=aw(Hx,Gx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ju.create("idb-open",{originalErrorMessage:n.message})})),S0}async function $x(n){try{const t=(await ow()).transaction(sd),r=await t.objectStore(sd).get(lw(n));return await t.done,r}catch(e){if(e instanceof ao)Ml.warn(e.message);else{const t=ju.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ml.warn(t.message)}}}async function x5(n,e){try{const r=(await ow()).transaction(sd,"readwrite");await r.objectStore(sd).put(e,lw(n)),await r.done}catch(t){if(t instanceof ao)Ml.warn(t.message);else{const r=ju.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ml.warn(r.message)}}}function lw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=1024,Yx=30;class Kx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=N5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>Yx){const u=Jx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ml.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=N5(),{heartbeatsToSend:r,unsentEntries:a}=Qx(this._heartbeatsCache.heartbeats),o=em(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ml.warn(t),""}}}function N5(){return new Date().toISOString().substring(0,10)}function Qx(n,e=Wx){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),I5(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),I5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Xx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?Y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $x(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return x5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return x5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function I5(n){return em(JSON.stringify({version:2,heartbeats:n})).length}function Jx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n){Yo(new Zs("platform-logger",e=>new hx(e),"PRIVATE")),Yo(new Zs("heartbeat",e=>new Kx(e),"PRIVATE")),ys(X0,E5,n),ys(X0,E5,"esm2017"),ys("fire-js","")}Zx("");function X1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function uw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eN=uw,cw=new jc("auth","Firebase",uw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Lm("@firebase/auth");function tN(n,...e){nm.logLevel<=un.WARN&&nm.warn(`Auth (${$h}): ${n}`,...e)}function Up(n,...e){nm.logLevel<=un.ERROR&&nm.error(`Auth (${$h}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,...e){throw Z1(n,...e)}function Xs(n,...e){return Z1(n,...e)}function J1(n,e,t){const r=Object.assign(Object.assign({},eN()),{[e]:t});return new jc("auth","Firebase",r).create(e,{appName:n.name})}function Dl(n){return J1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&_s(n,"argument-error"),J1(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return cw.create(n,...e)}function kt(n,e,...t){if(!n)throw Z1(e,...t)}function Rl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Up(e),new Error(e)}function Fl(n,e){n||Rl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rN(){return C5()==="http:"||C5()==="https:"}function C5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rN()||$1()||"connection"in navigator)?navigator.onLine:!0}function aN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fl(t>e,"Short delay should be less than long delay!"),this.isMobile=RT()||OT()}get(){return iN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n,e){Fl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lN=new _d(3e4,6e4);function Yu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Hl(n,e,t,r,a={}){return fw(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=bd(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return PT()||(d.referrerPolicy="no-referrer"),hw.fetch()(await dw(n,n.config.apiHost,t,c),d)})}async function fw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sN),e);try{const a=new cN(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Np(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Np(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Np(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Np(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw J1(n,y,d);_s(n,y)}}catch(a){if(a instanceof ao)throw a;_s(n,"network-request-failed",{message:String(a)})}}async function wd(n,e,t,r,a={}){const o=await Hl(n,e,t,r,a);return"mfaPendingCredential"in o&&_s(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function dw(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?ev(n.config,a):`${n.config.apiScheme}://${a}`;return oN.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function uN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xs(this.auth,"network-request-failed")),lN.get())})}}function Np(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Xs(n,e,r);return a.customData._tokenResponse=t,a}function R5(n){return n!==void 0&&n.enterprise!==void 0}class hN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fN(n,e){return Hl(n,"GET","/v2/recaptchaConfig",Yu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,e){return Hl(n,"POST","/v1/accounts:delete",e)}async function rm(n,e){return Hl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pN(n,e=!1){const t=Er(n),r=await t.getIdToken(e),a=tv(r);kt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Xf(A0(a.auth_time)),issuedAtTime:Xf(A0(a.iat)),expirationTime:Xf(A0(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function A0(n){return Number(n)*1e3}function tv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Up("JWT malformed, contained fewer than 3 sections"),null;try{const a=J_(t);return a?JSON.parse(a):(Up("Failed to decode base64 JWT payload"),null)}catch(a){return Up("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function L5(n){const e=tv(n);return kt(e,"internal-error"),kt(typeof e.exp<"u","internal-error"),kt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ao&&mN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function mN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(n){var e;const t=n.auth,r=await n.getIdToken(),a=await kh(n,rm(t,{idToken:r}));kt(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?pw(o.providerUserInfo):[],c=yN(n.providerData,u),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),y=f?d:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new t1(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function vN(n){const e=Er(n);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yN(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function pw(n){return n.map(e=>{var{providerId:t}=e,r=X1(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(n,e){const t=await fw(n,{},async()=>{const r=bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await dw(n,a,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",hw.fetch()(u,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _N(n,e){return Hl(n,"POST","/v2/accounts:revokeToken",Yu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){kt(e.idToken,"internal-error"),kt(typeof e.idToken<"u","internal-error"),kt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){kt(e.length!==0,"internal-error");const t=L5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(kt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await bN(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new xh;return r&&(kt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(kt(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(kt(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xh,this.toJSON())}_performRefresh(){return Rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n,e){kt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qs{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=X1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new t1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await kh(this,this.stsTokenManager.getToken(this.auth,e));return kt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pN(this,e)}reload(){return vN(this)}_assign(e){this!==e&&(kt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await im(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ga(this.auth.app))return Promise.reject(Dl(this.auth));const e=await this.getIdToken();return await kh(this,dN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,c,f,d,y;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,L=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(c=t.tenantId)!==null&&c!==void 0?c:void 0,V=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,k=(d=t.createdAt)!==null&&d!==void 0?d:void 0,W=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ee,emailVerified:le,isAnonymous:ce,providerData:Ne,stsTokenManager:U}=t;kt(ee&&U,e,"internal-error");const N=xh.fromJSON(this.name,U);kt(typeof ee=="string",e,"internal-error"),Nu(w,e.name),Nu(E,e.name),kt(typeof le=="boolean",e,"internal-error"),kt(typeof ce=="boolean",e,"internal-error"),Nu(S,e.name),Nu(L,e.name),Nu(D,e.name),Nu(V,e.name),Nu(k,e.name),Nu(W,e.name);const j=new Qs({uid:ee,auth:e,email:E,emailVerified:le,displayName:w,isAnonymous:ce,photoURL:L,phoneNumber:S,tenantId:D,stsTokenManager:N,createdAt:k,lastLoginAt:W});return Ne&&Array.isArray(Ne)&&(j.providerData=Ne.map(G=>Object.assign({},G))),V&&(j._redirectEventId=V),j}static async _fromIdTokenResponse(e,t,r=!1){const a=new xh;a.updateFromServerResponse(t);const o=new Qs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await im(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];kt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?pw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),c=new xh;c.updateFromIdToken(r);const f=new Qs({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new t1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new Map;function Ll(n){Fl(n instanceof Function,"Expected a class definition");let e=P5.get(n);return e?(Fl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,P5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mw.type="NONE";const O5=mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n,e,t){return`firebase:${n}:${e}:${t}`}class Nh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Vp(this.userKey,a.apiKey,o),this.fullPersistenceKey=Vp("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rm(this.auth,{idToken:e}).catch(()=>{});return t?Qs._fromGetAccountInfoResponse(this.auth,t,e):null}return Qs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Nh(Ll(O5),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Ll(O5);const u=Vp(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const y=await d._get(u);if(y){let w;if(typeof y=="string"){const E=await rm(e,{idToken:y}).catch(()=>{});if(!E)break;w=await Qs._fromGetAccountInfoResponse(e,E,y)}else w=Qs._fromJSON(e,y);d!==o&&(c=w),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Nh(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Nh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ww(e))return"Blackberry";if(Sw(e))return"Webos";if(vw(e))return"Safari";if((e.includes("chrome/")||yw(e))&&!e.includes("edge/"))return"Chrome";if(_w(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gw(n=Wi()){return/firefox\//i.test(n)}function vw(n=Wi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yw(n=Wi()){return/crios\//i.test(n)}function bw(n=Wi()){return/iemobile/i.test(n)}function _w(n=Wi()){return/android/i.test(n)}function ww(n=Wi()){return/blackberry/i.test(n)}function Sw(n=Wi()){return/webos/i.test(n)}function nv(n=Wi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wN(n=Wi()){var e;return nv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SN(){return DT()&&document.documentMode===10}function Aw(n=Wi()){return nv(n)||_w(n)||Sw(n)||ww(n)||/windows phone/i.test(n)||bw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e=[]){let t;switch(n){case"Browser":t=D5(Wi());break;case"Worker":t=`${D5(Wi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$h}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e={}){return Hl(n,"GET","/v2/passwordPolicy",Yu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=6;class xN{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:TN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k5(this),this.idTokenSubscription=new k5(this),this.beforeStateQueue=new AN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ll(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Nh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rm(this,{idToken:e}),r=await Qs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ga(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ga(this.app))return Promise.reject(Dl(this));const t=e?Er(e):null;return t&&kt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&kt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ga(this.app)?Promise.reject(Dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ga(this.app)?Promise.reject(Dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ll(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EN(this),t=new xN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await _N(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ll(e)||this._popupRedirectResolver;kt(t,this,"argument-error"),this.redirectPersistenceManager=await Nh.create(this,[Ll(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(kt(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Ga(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ku(n){return Er(n)}class k5{constructor(e){this.auth=e,this.observer=null,this.addObserver=VT(t=>this.observer=t)}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IN(n){Pm=n}function Tw(n){return Pm.loadJS(n)}function CN(){return Pm.recaptchaEnterpriseScript}function RN(){return Pm.gapiScript}function LN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class PN{constructor(){this.enterprise=new ON}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ON{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DN="recaptcha-enterprise",xw="NO_RECAPTCHA";class kN{constructor(e){this.type=DN,this.auth=Ku(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{fN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new hN(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function a(o,u,c){const f=window.grecaptcha;R5(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(xw)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&R5(window.grecaptcha))a(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=CN();f.length!==0&&(f+=c),Tw(f).then(()=>{a(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function j5(n,e,t,r=!1,a=!1){const o=new kN(n);let u;if(a)u=xw;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function n1(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await j5(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await j5(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e){const t=Mc(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Uu(o,e??{}))return a;_s(a,"already-initialized")}return t.initialize({options:e})}function MN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ll);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FN(n,e,t){const r=Ku(n);kt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=Nw(e),{host:u,port:c}=UN(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){kt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),kt(Uu(d,r.config.emulator)&&Uu(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,VN()}function Nw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UN(n){const e=Nw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:M5(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:M5(u)}}}function M5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function VN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rl("not implemented")}_getIdTokenResponse(e){return Rl("not implemented")}_linkToIdToken(e,t){return Rl("not implemented")}_getReauthenticationResolver(e){return Rl("not implemented")}}async function BN(n,e){return Hl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(n,e){return wd(n,"POST","/v1/accounts:signInWithPassword",Yu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(n,e){return wd(n,"POST","/v1/accounts:signInWithEmailLink",Yu(n,e))}async function HN(n,e){return wd(n,"POST","/v1/accounts:signInWithEmailLink",Yu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends rv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new od(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new od(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(e,t,"signInWithPassword",qN);case"emailLink":return zN(e,{email:this._email,oobCode:this._password});default:_s(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(e,r,"signUpPassword",BN);case"emailLink":return HN(e,{idToken:t,email:this._email,oobCode:this._password});default:_s(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n,e){return wd(n,"POST","/v1/accounts:signInWithIdp",Yu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="http://localhost";class Rc extends rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_s("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=X1(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Rc(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ih(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ih(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ih(e,t)}buildRequest(){const e={requestUri:GN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WN(n){const e=Hf(Gf(n)).link,t=e?Hf(Gf(e)).deep_link_id:null,r=Hf(Gf(n)).deep_link_id;return(r?Hf(Gf(r)).link:null)||r||t||e||n}class iv{constructor(e){var t,r,a,o,u,c;const f=Hf(Gf(e)),d=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,w=$N((a=f.mode)!==null&&a!==void 0?a:null);kt(d&&y&&w,"argument-error"),this.apiKey=d,this.operation=w,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=WN(e);try{return new iv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.providerId=Wh.PROVIDER_ID}static credential(e,t){return od._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=iv.parseLink(t);return kt(r,"argument-error"),od._fromEmailAndCode(e,r.code,r.tenantId)}}Wh.PROVIDER_ID="password";Wh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends av{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Sd{constructor(){super("facebook.com")}static credential(e){return Rc._fromParams({providerId:Ru.PROVIDER_ID,signInMethod:Ru.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ru.credentialFromTaggedObject(e)}static credentialFromError(e){return Ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ru.credential(e.oauthAccessToken)}catch{return null}}}Ru.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ru.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rc._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Cl.credential(t,r)}catch{return null}}}Cl.GOOGLE_SIGN_IN_METHOD="google.com";Cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Sd{constructor(){super("github.com")}static credential(e){return Rc._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lu.credentialFromTaggedObject(e)}static credentialFromError(e){return Lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lu.credential(e.oauthAccessToken)}catch{return null}}}Lu.GITHUB_SIGN_IN_METHOD="github.com";Lu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Sd{constructor(){super("twitter.com")}static credential(e,t){return Rc._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Pu.credential(t,r)}catch{return null}}}Pu.TWITTER_SIGN_IN_METHOD="twitter.com";Pu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e){return wd(n,"POST","/v1/accounts:signUp",Yu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Qs._fromIdTokenResponse(e,r,a),u=F5(r);return new Lc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=F5(r);return new Lc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function F5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends ao{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new am(e,t,r,a)}}function Iw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(n,o,e,r):o})}async function KN(n,e,t=!1){const r=await kh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(n,e,t=!1){const{auth:r}=n;if(Ga(r.app))return Promise.reject(Dl(r));const a="reauthenticate";try{const o=await kh(n,Iw(r,a,e,n),t);kt(o.idToken,r,"internal-error");const u=tv(o.idToken);kt(u,r,"internal-error");const{sub:c}=u;return kt(n.uid===c,r,"user-mismatch"),Lc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_s(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(n,e,t=!1){if(Ga(n.app))return Promise.reject(Dl(n));const r="signIn",a=await Iw(n,r,e),o=await Lc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function XN(n,e){return Cw(Ku(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(n){const e=Ku(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JN(n,e,t){if(Ga(n.app))return Promise.reject(Dl(n));const r=Ku(n),u=await n1(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Rw(n),f}),c=await Lc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function ZN(n,e,t){return Ga(n.app)?Promise.reject(Dl(n)):XN(Er(n),Wh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Rw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(n,e){return Hl(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Er(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await kh(r,e6(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n,e){return Er(n).setPersistence(e)}function r6(n,e,t,r){return Er(n).onIdTokenChanged(e,t,r)}function i6(n,e,t){return Er(n).beforeAuthStateChanged(e,t)}function Qu(n,e,t,r){return Er(n).onAuthStateChanged(e,t,r)}function a6(n){return Er(n).signOut()}const sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=1e3,o6=10;class Pw extends Lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);SN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,o6):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},s6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pw.type="LOCAL";const Ow=Pw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Dw.type="SESSION";const kw=Dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await l6(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=sv("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(w){const E=w;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return window}function c6(n){Ho().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){return typeof Ho().WorkerGlobalScope<"u"&&typeof Ho().importScripts=="function"}async function h6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function d6(){return jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firebaseLocalStorageDb",p6=1,om="firebaseLocalStorage",Fw="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dm(n,e){return n.transaction([om],e?"readwrite":"readonly").objectStore(om)}function m6(){const n=indexedDB.deleteDatabase(Mw);return new Ad(n).toPromise()}function r1(){const n=indexedDB.open(Mw,p6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(om,{keyPath:Fw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(om)?e(r):(r.close(),await m6(),e(await r1()))})})}async function U5(n,e,t){const r=Dm(n,!0).put({[Fw]:e,value:t});return new Ad(r).toPromise()}async function g6(n,e){const t=Dm(n,!1).get(e),r=await new Ad(t).toPromise();return r===void 0?null:r.value}function V5(n,e){const t=Dm(n,!0).delete(e);return new Ad(t).toPromise()}const v6=800,y6=3;class Uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>y6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(d6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await h6(),!this.activeServiceWorker)return;this.sender=new u6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r1();return await U5(e,sm,"1"),await V5(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>U5(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>g6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>V5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Dm(a,!1).getAll();return new Ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uw.type="LOCAL";const b6=Uw;new _d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,e){return e?Ll(e):(kt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ih(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ih(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ih(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _6(n){return Cw(n.auth,new ov(n),n.bypassAuthState)}function w6(n){const{auth:e,user:t}=n;return kt(t,e,"internal-error"),QN(t,new ov(n),n.bypassAuthState)}async function S6(n){const{auth:e,user:t}=n;return kt(t,e,"internal-error"),KN(t,new ov(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _6;case"linkViaPopup":case"linkViaRedirect":return S6;case"reauthViaPopup":case"reauthViaRedirect":return w6;default:_s(this.auth,"internal-error")}}resolve(e){Fl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new _d(2e3,1e4);async function E6(n,e,t){if(Ga(n.app))return Promise.reject(Xs(n,"operation-not-supported-in-this-environment"));const r=Ku(n);nN(n,e,av);const a=Vw(r,t);return new Tc(r,"signInViaPopup",e,a).executeNotNull()}class Tc extends Bw{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Tc.currentPopupAction&&Tc.currentPopupAction.cancel(),Tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return kt(e,this.auth,"internal-error"),e}async onExecution(){Fl(this.filter.length===1,"Popup operations only handle one event");const e=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A6.get())};e()}}Tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="pendingRedirect",Bp=new Map;class x6 extends Bw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bp.get(this.auth._key());if(!e){try{const r=await N6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bp.set(this.auth._key(),e)}return this.bypassAuthState||Bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N6(n,e){const t=R6(e),r=C6(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function I6(n,e){Bp.set(n._key(),e)}function C6(n){return Ll(n._redirectPersistence)}function R6(n){return Vp(T6,n.config.apiKey,n.name)}async function L6(n,e,t=!1){if(Ga(n.app))return Promise.reject(Dl(n));const r=Ku(n),a=Vw(r,e),u=await new x6(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=10*60*1e3;class O6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!qw(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Xs(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P6&&this.cachedEventUids.clear(),this.cachedEventUids.has(B5(e))}saveEventToCache(e){this.cachedEventUids.add(B5(e)),this.lastProcessedEventTime=Date.now()}}function B5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(n,e={}){return Hl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M6=/^https?/;async function F6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await k6(n);for(const t of e)try{if(U6(t))return}catch{}_s(n,"unauthorized-domain")}function U6(n){const e=e1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!M6.test(t))return!1;if(j6.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new _d(3e4,6e4);function q5(){const n=Ho().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function B6(n){return new Promise((e,t)=>{var r,a,o;function u(){q5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q5(),t(Xs(n,"network-request-failed"))},timeout:V6.get()})}if(!((a=(r=Ho().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Ho().gapi)===null||o===void 0)&&o.load)u();else{const c=LN("iframefcb");return Ho()[c]=()=>{gapi.load?u():t(Xs(n,"network-request-failed"))},Tw(`${RN()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw qp=null,e})}let qp=null;function q6(n){return qp=qp||B6(n),qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new _d(5e3,15e3),H6="__/auth/iframe",G6="emulator/auth/iframe",$6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y6(n){const e=n.config;kt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ev(e,G6):`https://${n.config.authDomain}/${H6}`,r={apiKey:e.apiKey,appName:n.name,v:$h},a=W6.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${bd(r).slice(1)}`}async function K6(n){const e=await q6(n),t=Ho().gapi;return kt(t,n,"internal-error"),e.open({where:document.body,url:Y6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$6,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Xs(n,"network-request-failed"),c=Ho().setTimeout(()=>{o(u)},z6.get());function f(){Ho().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X6=500,J6=600,Z6="_blank",eI="http://localhost";class z5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tI(n,e,t,r=X6,a=J6){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},Q6),{width:r.toString(),height:a.toString(),top:o,left:u}),d=Wi().toLowerCase();t&&(c=yw(d)?Z6:t),gw(d)&&(e=e||eI,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[S,L])=>`${E}${S}=${L},`,"");if(wN(d)&&c!=="_self")return nI(e||"",c),new z5(null);const w=window.open(e||"",c,y);kt(w,n,"popup-blocked");try{w.focus()}catch{}return new z5(w)}function nI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="__/auth/handler",iI="emulator/auth/handler",aI=encodeURIComponent("fac");async function H5(n,e,t,r,a,o){kt(n.config.authDomain,n,"auth-domain-config-required"),kt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$h,eventId:a};if(e instanceof av){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",UT(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof Sd){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const f=await n._getAppCheckToken(),d=f?`#${aI}=${encodeURIComponent(f)}`:"";return`${sI(n)}?${bd(c).slice(1)}${d}`}function sI({config:n}){return n.emulator?ev(n,iI):`https://${n.authDomain}/${rI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="webStorageSupport";class oI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kw,this._completeRedirectFn=L6,this._overrideRedirectResult=I6}async _openPopup(e,t,r,a){var o;Fl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await H5(e,t,r,e1(),a);return tI(e,u,sv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await H5(e,t,r,e1(),a);return c6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Fl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await K6(e),r=new O6(e);return t.register("authEvent",a=>(kt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(E0,{type:E0},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[E0];u!==void 0&&t(!!u),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Aw()||vw()||nv()}}const lI=oI;var G5="@firebase/auth",$5="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hI(n){Yo(new Zs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;kt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ew(n)},d=new NN(r,a,o,f);return MN(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Zs("auth-internal",e=>{const t=Ku(e.getProvider("auth").getImmediate());return(r=>new uI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(G5,$5,cI(n)),ys(G5,$5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=5*60,dI=tw("authIdTokenMaxAge")||fI;let W5=null;const pI=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>dI)return;const a=t==null?void 0:t.token;W5!==a&&(W5=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mI(n=Q1()){const e=Mc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jN(n,{popupRedirectResolver:lI,persistence:[b6,Ow,kw]}),r=tw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=pI(o.toString());i6(t,u,()=>u(t.currentUser)),r6(t,c=>u(c))}}const a=Z_("auth");return a&&FN(t,`http://${a}`),t}function gI(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}IN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Xs("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",gI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hI("Browser");var vI="firebase",yI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(vI,yI,"app");var Y5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mu,zw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,N){function j(){}j.prototype=N.prototype,U.D=N.prototype,U.prototype=new j,U.prototype.constructor=U,U.C=function(G,C,P){for(var M=Array(arguments.length-2),se=2;se<arguments.length;se++)M[se-2]=arguments[se];return N.prototype[C].apply(G,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(U,N,j){j||(j=0);var G=Array(16);if(typeof N=="string")for(var C=0;16>C;++C)G[C]=N.charCodeAt(j++)|N.charCodeAt(j++)<<8|N.charCodeAt(j++)<<16|N.charCodeAt(j++)<<24;else for(C=0;16>C;++C)G[C]=N[j++]|N[j++]<<8|N[j++]<<16|N[j++]<<24;N=U.g[0],j=U.g[1],C=U.g[2];var P=U.g[3],M=N+(P^j&(C^P))+G[0]+3614090360&4294967295;N=j+(M<<7&4294967295|M>>>25),M=P+(C^N&(j^C))+G[1]+3905402710&4294967295,P=N+(M<<12&4294967295|M>>>20),M=C+(j^P&(N^j))+G[2]+606105819&4294967295,C=P+(M<<17&4294967295|M>>>15),M=j+(N^C&(P^N))+G[3]+3250441966&4294967295,j=C+(M<<22&4294967295|M>>>10),M=N+(P^j&(C^P))+G[4]+4118548399&4294967295,N=j+(M<<7&4294967295|M>>>25),M=P+(C^N&(j^C))+G[5]+1200080426&4294967295,P=N+(M<<12&4294967295|M>>>20),M=C+(j^P&(N^j))+G[6]+2821735955&4294967295,C=P+(M<<17&4294967295|M>>>15),M=j+(N^C&(P^N))+G[7]+4249261313&4294967295,j=C+(M<<22&4294967295|M>>>10),M=N+(P^j&(C^P))+G[8]+1770035416&4294967295,N=j+(M<<7&4294967295|M>>>25),M=P+(C^N&(j^C))+G[9]+2336552879&4294967295,P=N+(M<<12&4294967295|M>>>20),M=C+(j^P&(N^j))+G[10]+4294925233&4294967295,C=P+(M<<17&4294967295|M>>>15),M=j+(N^C&(P^N))+G[11]+2304563134&4294967295,j=C+(M<<22&4294967295|M>>>10),M=N+(P^j&(C^P))+G[12]+1804603682&4294967295,N=j+(M<<7&4294967295|M>>>25),M=P+(C^N&(j^C))+G[13]+4254626195&4294967295,P=N+(M<<12&4294967295|M>>>20),M=C+(j^P&(N^j))+G[14]+2792965006&4294967295,C=P+(M<<17&4294967295|M>>>15),M=j+(N^C&(P^N))+G[15]+1236535329&4294967295,j=C+(M<<22&4294967295|M>>>10),M=N+(C^P&(j^C))+G[1]+4129170786&4294967295,N=j+(M<<5&4294967295|M>>>27),M=P+(j^C&(N^j))+G[6]+3225465664&4294967295,P=N+(M<<9&4294967295|M>>>23),M=C+(N^j&(P^N))+G[11]+643717713&4294967295,C=P+(M<<14&4294967295|M>>>18),M=j+(P^N&(C^P))+G[0]+3921069994&4294967295,j=C+(M<<20&4294967295|M>>>12),M=N+(C^P&(j^C))+G[5]+3593408605&4294967295,N=j+(M<<5&4294967295|M>>>27),M=P+(j^C&(N^j))+G[10]+38016083&4294967295,P=N+(M<<9&4294967295|M>>>23),M=C+(N^j&(P^N))+G[15]+3634488961&4294967295,C=P+(M<<14&4294967295|M>>>18),M=j+(P^N&(C^P))+G[4]+3889429448&4294967295,j=C+(M<<20&4294967295|M>>>12),M=N+(C^P&(j^C))+G[9]+568446438&4294967295,N=j+(M<<5&4294967295|M>>>27),M=P+(j^C&(N^j))+G[14]+3275163606&4294967295,P=N+(M<<9&4294967295|M>>>23),M=C+(N^j&(P^N))+G[3]+4107603335&4294967295,C=P+(M<<14&4294967295|M>>>18),M=j+(P^N&(C^P))+G[8]+1163531501&4294967295,j=C+(M<<20&4294967295|M>>>12),M=N+(C^P&(j^C))+G[13]+2850285829&4294967295,N=j+(M<<5&4294967295|M>>>27),M=P+(j^C&(N^j))+G[2]+4243563512&4294967295,P=N+(M<<9&4294967295|M>>>23),M=C+(N^j&(P^N))+G[7]+1735328473&4294967295,C=P+(M<<14&4294967295|M>>>18),M=j+(P^N&(C^P))+G[12]+2368359562&4294967295,j=C+(M<<20&4294967295|M>>>12),M=N+(j^C^P)+G[5]+4294588738&4294967295,N=j+(M<<4&4294967295|M>>>28),M=P+(N^j^C)+G[8]+2272392833&4294967295,P=N+(M<<11&4294967295|M>>>21),M=C+(P^N^j)+G[11]+1839030562&4294967295,C=P+(M<<16&4294967295|M>>>16),M=j+(C^P^N)+G[14]+4259657740&4294967295,j=C+(M<<23&4294967295|M>>>9),M=N+(j^C^P)+G[1]+2763975236&4294967295,N=j+(M<<4&4294967295|M>>>28),M=P+(N^j^C)+G[4]+1272893353&4294967295,P=N+(M<<11&4294967295|M>>>21),M=C+(P^N^j)+G[7]+4139469664&4294967295,C=P+(M<<16&4294967295|M>>>16),M=j+(C^P^N)+G[10]+3200236656&4294967295,j=C+(M<<23&4294967295|M>>>9),M=N+(j^C^P)+G[13]+681279174&4294967295,N=j+(M<<4&4294967295|M>>>28),M=P+(N^j^C)+G[0]+3936430074&4294967295,P=N+(M<<11&4294967295|M>>>21),M=C+(P^N^j)+G[3]+3572445317&4294967295,C=P+(M<<16&4294967295|M>>>16),M=j+(C^P^N)+G[6]+76029189&4294967295,j=C+(M<<23&4294967295|M>>>9),M=N+(j^C^P)+G[9]+3654602809&4294967295,N=j+(M<<4&4294967295|M>>>28),M=P+(N^j^C)+G[12]+3873151461&4294967295,P=N+(M<<11&4294967295|M>>>21),M=C+(P^N^j)+G[15]+530742520&4294967295,C=P+(M<<16&4294967295|M>>>16),M=j+(C^P^N)+G[2]+3299628645&4294967295,j=C+(M<<23&4294967295|M>>>9),M=N+(C^(j|~P))+G[0]+4096336452&4294967295,N=j+(M<<6&4294967295|M>>>26),M=P+(j^(N|~C))+G[7]+1126891415&4294967295,P=N+(M<<10&4294967295|M>>>22),M=C+(N^(P|~j))+G[14]+2878612391&4294967295,C=P+(M<<15&4294967295|M>>>17),M=j+(P^(C|~N))+G[5]+4237533241&4294967295,j=C+(M<<21&4294967295|M>>>11),M=N+(C^(j|~P))+G[12]+1700485571&4294967295,N=j+(M<<6&4294967295|M>>>26),M=P+(j^(N|~C))+G[3]+2399980690&4294967295,P=N+(M<<10&4294967295|M>>>22),M=C+(N^(P|~j))+G[10]+4293915773&4294967295,C=P+(M<<15&4294967295|M>>>17),M=j+(P^(C|~N))+G[1]+2240044497&4294967295,j=C+(M<<21&4294967295|M>>>11),M=N+(C^(j|~P))+G[8]+1873313359&4294967295,N=j+(M<<6&4294967295|M>>>26),M=P+(j^(N|~C))+G[15]+4264355552&4294967295,P=N+(M<<10&4294967295|M>>>22),M=C+(N^(P|~j))+G[6]+2734768916&4294967295,C=P+(M<<15&4294967295|M>>>17),M=j+(P^(C|~N))+G[13]+1309151649&4294967295,j=C+(M<<21&4294967295|M>>>11),M=N+(C^(j|~P))+G[4]+4149444226&4294967295,N=j+(M<<6&4294967295|M>>>26),M=P+(j^(N|~C))+G[11]+3174756917&4294967295,P=N+(M<<10&4294967295|M>>>22),M=C+(N^(P|~j))+G[2]+718787259&4294967295,C=P+(M<<15&4294967295|M>>>17),M=j+(P^(C|~N))+G[9]+3951481745&4294967295,U.g[0]=U.g[0]+N&4294967295,U.g[1]=U.g[1]+(C+(M<<21&4294967295|M>>>11))&4294967295,U.g[2]=U.g[2]+C&4294967295,U.g[3]=U.g[3]+P&4294967295}r.prototype.u=function(U,N){N===void 0&&(N=U.length);for(var j=N-this.blockSize,G=this.B,C=this.h,P=0;P<N;){if(C==0)for(;P<=j;)a(this,U,P),P+=this.blockSize;if(typeof U=="string"){for(;P<N;)if(G[C++]=U.charCodeAt(P++),C==this.blockSize){a(this,G),C=0;break}}else for(;P<N;)if(G[C++]=U[P++],C==this.blockSize){a(this,G),C=0;break}}this.h=C,this.o+=N},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var N=1;N<U.length-8;++N)U[N]=0;var j=8*this.o;for(N=U.length-8;N<U.length;++N)U[N]=j&255,j/=256;for(this.u(U),U=Array(16),N=j=0;4>N;++N)for(var G=0;32>G;G+=8)U[j++]=this.g[N]>>>G&255;return U};function o(U,N){var j=c;return Object.prototype.hasOwnProperty.call(j,U)?j[U]:j[U]=N(U)}function u(U,N){this.h=N;for(var j=[],G=!0,C=U.length-1;0<=C;C--){var P=U[C]|0;G&&P==N||(j[C]=P,G=!1)}this.g=j}var c={};function f(U){return-128<=U&&128>U?o(U,function(N){return new u([N|0],0>N?-1:0)}):new u([U|0],0>U?-1:0)}function d(U){if(isNaN(U)||!isFinite(U))return w;if(0>U)return V(d(-U));for(var N=[],j=1,G=0;U>=j;G++)N[G]=U/j|0,j*=4294967296;return new u(N,0)}function y(U,N){if(U.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U.charAt(0)=="-")return V(y(U.substring(1),N));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=d(Math.pow(N,8)),G=w,C=0;C<U.length;C+=8){var P=Math.min(8,U.length-C),M=parseInt(U.substring(C,C+P),N);8>P?(P=d(Math.pow(N,P)),G=G.j(P).add(d(M))):(G=G.j(j),G=G.add(d(M)))}return G}var w=f(0),E=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(D(this))return-V(this).m();for(var U=0,N=1,j=0;j<this.g.length;j++){var G=this.i(j);U+=(0<=G?G:4294967296+G)*N,N*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(L(this))return"0";if(D(this))return"-"+V(this).toString(U);for(var N=d(Math.pow(U,6)),j=this,G="";;){var C=le(j,N).g;j=k(j,C.j(N));var P=((0<j.g.length?j.g[0]:j.h)>>>0).toString(U);if(j=C,L(j))return P+G;for(;6>P.length;)P="0"+P;G=P+G}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function L(U){if(U.h!=0)return!1;for(var N=0;N<U.g.length;N++)if(U.g[N]!=0)return!1;return!0}function D(U){return U.h==-1}n.l=function(U){return U=k(this,U),D(U)?-1:L(U)?0:1};function V(U){for(var N=U.g.length,j=[],G=0;G<N;G++)j[G]=~U.g[G];return new u(j,~U.h).add(E)}n.abs=function(){return D(this)?V(this):this},n.add=function(U){for(var N=Math.max(this.g.length,U.g.length),j=[],G=0,C=0;C<=N;C++){var P=G+(this.i(C)&65535)+(U.i(C)&65535),M=(P>>>16)+(this.i(C)>>>16)+(U.i(C)>>>16);G=M>>>16,P&=65535,M&=65535,j[C]=M<<16|P}return new u(j,j[j.length-1]&-2147483648?-1:0)};function k(U,N){return U.add(V(N))}n.j=function(U){if(L(this)||L(U))return w;if(D(this))return D(U)?V(this).j(V(U)):V(V(this).j(U));if(D(U))return V(this.j(V(U)));if(0>this.l(S)&&0>U.l(S))return d(this.m()*U.m());for(var N=this.g.length+U.g.length,j=[],G=0;G<2*N;G++)j[G]=0;for(G=0;G<this.g.length;G++)for(var C=0;C<U.g.length;C++){var P=this.i(G)>>>16,M=this.i(G)&65535,se=U.i(C)>>>16,Ie=U.i(C)&65535;j[2*G+2*C]+=M*Ie,W(j,2*G+2*C),j[2*G+2*C+1]+=P*Ie,W(j,2*G+2*C+1),j[2*G+2*C+1]+=M*se,W(j,2*G+2*C+1),j[2*G+2*C+2]+=P*se,W(j,2*G+2*C+2)}for(G=0;G<N;G++)j[G]=j[2*G+1]<<16|j[2*G];for(G=N;G<2*N;G++)j[G]=0;return new u(j,0)};function W(U,N){for(;(U[N]&65535)!=U[N];)U[N+1]+=U[N]>>>16,U[N]&=65535,N++}function ee(U,N){this.g=U,this.h=N}function le(U,N){if(L(N))throw Error("division by zero");if(L(U))return new ee(w,w);if(D(U))return N=le(V(U),N),new ee(V(N.g),V(N.h));if(D(N))return N=le(U,V(N)),new ee(V(N.g),N.h);if(30<U.g.length){if(D(U)||D(N))throw Error("slowDivide_ only works with positive integers.");for(var j=E,G=N;0>=G.l(U);)j=ce(j),G=ce(G);var C=Ne(j,1),P=Ne(G,1);for(G=Ne(G,2),j=Ne(j,2);!L(G);){var M=P.add(G);0>=M.l(U)&&(C=C.add(j),P=M),G=Ne(G,1),j=Ne(j,1)}return N=k(U,C.j(N)),new ee(C,N)}for(C=w;0<=U.l(N);){for(j=Math.max(1,Math.floor(U.m()/N.m())),G=Math.ceil(Math.log(j)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),P=d(j),M=P.j(N);D(M)||0<M.l(U);)j-=G,P=d(j),M=P.j(N);L(P)&&(P=E),C=C.add(P),U=k(U,M)}return new ee(C,U)}n.A=function(U){return le(this,U).h},n.and=function(U){for(var N=Math.max(this.g.length,U.g.length),j=[],G=0;G<N;G++)j[G]=this.i(G)&U.i(G);return new u(j,this.h&U.h)},n.or=function(U){for(var N=Math.max(this.g.length,U.g.length),j=[],G=0;G<N;G++)j[G]=this.i(G)|U.i(G);return new u(j,this.h|U.h)},n.xor=function(U){for(var N=Math.max(this.g.length,U.g.length),j=[],G=0;G<N;G++)j[G]=this.i(G)^U.i(G);return new u(j,this.h^U.h)};function ce(U){for(var N=U.g.length+1,j=[],G=0;G<N;G++)j[G]=U.i(G)<<1|U.i(G-1)>>>31;return new u(j,U.h)}function Ne(U,N){var j=N>>5;N%=32;for(var G=U.g.length-j,C=[],P=0;P<G;P++)C[P]=0<N?U.i(P+j)>>>N|U.i(P+j+1)<<32-N:U.i(P+j);return new u(C,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Mu=u}).apply(typeof Y5<"u"?Y5:typeof self<"u"?self:typeof window<"u"?window:{});var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hw,$f,Gw,zp,i1,$w,Ww,Yw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,R){return m==Array.prototype||m==Object.prototype||(m[x]=R.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ip=="object"&&Ip];for(var x=0;x<m.length;++x){var R=m[x];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=t(this);function a(m,x){if(x)e:{var R=r;m=m.split(".");for(var K=0;K<m.length-1;K++){var we=m[K];if(!(we in R))break e;R=R[we]}m=m[m.length-1],K=R[m],x=x(K),x!=K&&x!=null&&e(R,m,{configurable:!0,writable:!0,value:x})}}function o(m,x){m instanceof String&&(m+="");var R=0,K=!1,we={next:function(){if(!K&&R<m.length){var Oe=R++;return{value:x(Oe,m[Oe]),done:!1}}return K=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}a("Array.prototype.values",function(m){return m||function(){return o(this,function(x,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function d(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function y(m,x,R){return m.call.apply(m.bind,arguments)}function w(m,x,R){if(!m)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,K),m.apply(x,we)}}return function(){return m.apply(x,arguments)}}function E(m,x,R){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,E.apply(null,arguments)}function S(m,x){var R=Array.prototype.slice.call(arguments,1);return function(){var K=R.slice();return K.push.apply(K,arguments),m.apply(this,K)}}function L(m,x){function R(){}R.prototype=x.prototype,m.aa=x.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function(K,we,Oe){for(var Xe=Array(arguments.length-2),It=2;It<arguments.length;It++)Xe[It-2]=arguments[It];return x.prototype[we].apply(K,Xe)}}function D(m){const x=m.length;if(0<x){const R=Array(x);for(let K=0;K<x;K++)R[K]=m[K];return R}return[]}function V(m,x){for(let R=1;R<arguments.length;R++){const K=arguments[R];if(f(K)){const we=m.length||0,Oe=K.length||0;m.length=we+Oe;for(let Xe=0;Xe<Oe;Xe++)m[we+Xe]=K[Xe]}else m.push(K)}}class k{constructor(x,R){this.i=x,this.j=R,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function W(m){return/^[\s\xa0]*$/.test(m)}function ee(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function le(m){return le[" "](m),m}le[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Ne(m,x,R){for(const K in m)x.call(R,m[K],K,m)}function U(m,x){for(const R in m)x.call(void 0,m[R],R,m)}function N(m){const x={};for(const R in m)x[R]=m[R];return x}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(m,x){let R,K;for(let we=1;we<arguments.length;we++){K=arguments[we];for(R in K)m[R]=K[R];for(let Oe=0;Oe<j.length;Oe++)R=j[Oe],Object.prototype.hasOwnProperty.call(K,R)&&(m[R]=K[R])}}function C(m){var x=1;m=m.split(":");const R=[];for(;0<x&&m.length;)R.push(m.shift()),x--;return m.length&&R.push(m.join(":")),R}function P(m){c.setTimeout(()=>{throw m},0)}function M(){var m=Ce;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class se{constructor(){this.h=this.g=null}add(x,R){const K=Ie.get();K.set(x,R),this.h?this.h.next=K:this.g=K,this.h=K}}var Ie=new k(()=>new te,m=>m.reset());class te{constructor(){this.next=this.g=this.h=null}set(x,R){this.h=x,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,he=!1,Ce=new se,J=()=>{const m=c.Promise.resolve(void 0);fe=()=>{m.then(Te)}};var Te=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(R){P(R)}var x=Ie;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}he=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};c.addEventListener("test",R,x),c.removeEventListener("test",R,x)}catch{}return m}();function ie(m,x){if(z.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,K=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(ce){e:{try{le(x.nodeName);var we=!0;break e}catch{}we=!1}we||(x=null)}}else R=="mouseover"?x=m.fromElement:R=="mouseout"&&(x=m.toElement);this.relatedTarget=x,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ae[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ie.aa.h.call(this)}}L(ie,z);var ae={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),pe=0;function Ee(m,x,R,K,we){this.listener=m,this.proxy=null,this.src=x,this.type=R,this.capture=!!K,this.ha=we,this.key=++pe,this.da=this.fa=!1}function Je(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ke(m){this.src=m,this.g={},this.h=0}Ke.prototype.add=function(m,x,R,K,we){var Oe=m.toString();m=this.g[Oe],m||(m=this.g[Oe]=[],this.h++);var Xe=nt(m,x,K,we);return-1<Xe?(x=m[Xe],R||(x.fa=!1)):(x=new Ee(x,this.src,Oe,!!K,we),x.fa=R,m.push(x)),x};function tt(m,x){var R=x.type;if(R in m.g){var K=m.g[R],we=Array.prototype.indexOf.call(K,x,void 0),Oe;(Oe=0<=we)&&Array.prototype.splice.call(K,we,1),Oe&&(Je(x),m.g[R].length==0&&(delete m.g[R],m.h--))}}function nt(m,x,R,K){for(var we=0;we<m.length;++we){var Oe=m[we];if(!Oe.da&&Oe.listener==x&&Oe.capture==!!R&&Oe.ha==K)return we}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),Ue={};function oe(m,x,R,K,we){if(Array.isArray(x)){for(var Oe=0;Oe<x.length;Oe++)oe(m,x[Oe],R,K,we);return null}return R=Ft(R),m&&m[_e]?m.K(x,R,d(K)?!!K.capture:!1,we):At(m,x,R,!1,K,we)}function At(m,x,R,K,we,Oe){if(!x)throw Error("Invalid event type");var Xe=d(we)?!!we.capture:!!we,It=yt(m);if(It||(m[wt]=It=new Ke(m)),R=It.add(x,R,K,Xe,Oe),R.proxy)return R;if(K=dt(),R.proxy=K,K.src=m,K.listener=R,m.addEventListener)X||(we=Xe),we===void 0&&(we=!1),m.addEventListener(x.toString(),K,we);else if(m.attachEvent)m.attachEvent(st(x.toString()),K);else if(m.addListener&&m.removeListener)m.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return R}function dt(){function m(R){return x.call(m.src,m.listener,R)}const x=ot;return m}function Ze(m,x,R,K,we){if(Array.isArray(x))for(var Oe=0;Oe<x.length;Oe++)Ze(m,x[Oe],R,K,we);else K=d(K)?!!K.capture:!!K,R=Ft(R),m&&m[_e]?(m=m.i,x=String(x).toString(),x in m.g&&(Oe=m.g[x],R=nt(Oe,R,K,we),-1<R&&(Je(Oe[R]),Array.prototype.splice.call(Oe,R,1),Oe.length==0&&(delete m.g[x],m.h--)))):m&&(m=yt(m))&&(x=m.g[x.toString()],m=-1,x&&(m=nt(x,R,K,we)),(R=-1<m?x[m]:null)&&et(R))}function et(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[_e])tt(x.i,m);else{var R=m.type,K=m.proxy;x.removeEventListener?x.removeEventListener(R,K,m.capture):x.detachEvent?x.detachEvent(st(R),K):x.addListener&&x.removeListener&&x.removeListener(K),(R=yt(x))?(tt(R,m),R.h==0&&(R.src=null,x[wt]=null)):Je(m)}}}function st(m){return m in Ue?Ue[m]:Ue[m]="on"+m}function ot(m,x){if(m.da)m=!0;else{x=new ie(x,this);var R=m.listener,K=m.ha||m.src;m.fa&&et(m),m=R.call(K,x)}return m}function yt(m){return m=m[wt],m instanceof Ke?m:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ft(m){return typeof m=="function"?m:(m[Rt]||(m[Rt]=function(x){return m.handleEvent(x)}),m[Rt])}function bt(){O.call(this),this.i=new Ke(this),this.M=this,this.F=null}L(bt,O),bt.prototype[_e]=!0,bt.prototype.removeEventListener=function(m,x,R,K){Ze(this,m,x,R,K)};function vt(m,x){var R,K=m.F;if(K)for(R=[];K;K=K.F)R.push(K);if(m=m.M,K=x.type||x,typeof x=="string")x=new z(x,m);else if(x instanceof z)x.target=x.target||m;else{var we=x;x=new z(K,m),G(x,we)}if(we=!0,R)for(var Oe=R.length-1;0<=Oe;Oe--){var Xe=x.g=R[Oe];we=Ht(Xe,K,!0,x)&&we}if(Xe=x.g=m,we=Ht(Xe,K,!0,x)&&we,we=Ht(Xe,K,!1,x)&&we,R)for(Oe=0;Oe<R.length;Oe++)Xe=x.g=R[Oe],we=Ht(Xe,K,!1,x)&&we}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var R=m.g[x],K=0;K<R.length;K++)Je(R[K]);delete m.g[x],m.h--}}this.F=null},bt.prototype.K=function(m,x,R,K){return this.i.add(String(m),x,!1,R,K)},bt.prototype.L=function(m,x,R,K){return this.i.add(String(m),x,!0,R,K)};function Ht(m,x,R,K){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var we=!0,Oe=0;Oe<x.length;++Oe){var Xe=x[Oe];if(Xe&&!Xe.da&&Xe.capture==R){var It=Xe.listener,nn=Xe.ha||Xe.src;Xe.fa&&tt(m.i,Xe),we=It.call(nn,K)!==!1&&we}}return we&&!K.defaultPrevented}function pt(m,x,R){if(typeof m=="function")R&&(m=E(m,R));else if(m&&typeof m.handleEvent=="function")m=E(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(m,x||0)}function Gt(m){m.g=pt(()=>{m.g=null,m.i&&(m.i=!1,Gt(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class lt extends O{constructor(x,R){super(),this.m=x,this.l=R,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(m){O.call(this),this.h=m,this.g={}}L(er,O);var Yt=[];function Wr(m){Ne(m.g,function(x,R){this.g.hasOwnProperty(R)&&et(x)},m),m.g={}}er.prototype.N=function(){er.aa.N.call(this),Wr(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=c.JSON.stringify,Tn=c.JSON.parse,ri=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function on(){}on.prototype.h=null;function Aa(m){return m.h||(m.h=m.i())}function Mn(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yr(){z.call(this,"d")}L(Yr,z);function Fn(){z.call(this,"c")}L(Fn,z);var Et={},ln=null;function xi(){return ln=ln||new bt}Et.La="serverreachability";function tr(m){z.call(this,Et.La,m)}L(tr,z);function Kr(m){const x=xi();vt(x,new tr(x))}Et.STAT_EVENT="statevent";function Yi(m,x){z.call(this,Et.STAT_EVENT,m),this.stat=x}L(Yi,z);function ut(m){const x=xi();vt(x,new Yi(x,m))}Et.Ma="timingevent";function xn(m,x){z.call(this,Et.Ma,m),this.size=x}L(xn,z);function Nn(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},x)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Kn(m,x,R,K,we,Oe){m.info(function(){if(m.g)if(Oe)for(var Xe="",It=Oe.split("&"),nn=0;nn<It.length;nn++){var Ut=It[nn].split("=");if(1<Ut.length){var _n=Ut[0];Ut=Ut[1];var In=_n.split("_");Xe=2<=In.length&&In[1]=="type"?Xe+(_n+"="+Ut+"&"):Xe+(_n+"=redacted&")}}else Xe=null;else Xe=Oe;return"XMLHTTP REQ ("+K+") [attempt "+we+"]: "+x+`
`+R+`
`+Xe})}function nr(m,x,R,K,we,Oe,Xe){m.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+we+"]: "+x+`
`+R+`
`+Oe+" "+Xe})}function pr(m,x,R,K){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+mi(m,R)+(K?" "+K:"")})}function ws(m,x){m.info(function(){return"TIMEOUT: "+x})}Hn.prototype.info=function(){};function mi(m,x){if(!m.g)return x;if(!x)return null;try{var R=JSON.parse(x);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var K=R[m];if(!(2>K.length)){var we=K[1];if(Array.isArray(we)&&!(1>we.length)){var Oe=we[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var Xe=1;Xe<we.length;Xe++)we[Xe]=""}}}}return Qt(R)}catch{return x}}var Ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mr;function Nr(){}L(Nr,on),Nr.prototype.g=function(){return new XMLHttpRequest},Nr.prototype.i=function(){return{}},mr=new Nr;function Un(m,x,R,K){this.j=m,this.i=x,this.l=R,this.R=K||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yn}function yn(){this.i=null,this.g="",this.h=!1}var Ea={},Ta={};function ii(m,x,R){m.L=1,m.v=Ja(Xr(x)),m.m=R,m.P=!0,Ni(m,null)}function Ni(m,x){m.F=Date.now(),As(m),m.A=Xr(m.v);var R=m.A,K=m.R;Array.isArray(K)||(K=[String(K)]),Nt(R.i,"t",K),m.C=0,R=m.j.J,m.h=new yn,m.g=q(m.j,R?x:null,!m.m),0<m.O&&(m.M=new lt(E(m.Y,m,m.g),m.O)),x=m.U,R=m.g,K=m.ca;var we="readystatechange";Array.isArray(we)||(we&&(Yt[0]=we.toString()),we=Yt);for(var Oe=0;Oe<we.length;Oe++){var Xe=oe(R,we[Oe],K||x.handleEvent,!1,x.h||x);if(!Xe)break;x.g[Xe.key]=Xe}x=m.H?N(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),Kr(),Kn(m.i,m.u,m.A,m.l,m.R,m.m)}Un.prototype.ca=function(m){m=m.target;const x=this.M;x&&vr(m)==3?x.j():this.Y(m)},Un.prototype.Y=function(m){try{if(m==this.g)e:{const In=vr(this.g);var x=this.g.Ba();const ha=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||In!=4||x==7||(x==8||0>=ha?Kr(3):Kr(2)),Ki(this);var R=this.g.Z();this.X=R;t:if(Ss(this)){var K=Ql(this.g);m="";var we=K.length,Oe=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),Qi(this);var Xe="";break t}this.h.i=new c.TextDecoder}for(x=0;x<we;x++)this.h.h=!0,m+=this.h.i.decode(K[x],{stream:!(Oe&&x==we-1)});K.length=0,this.h.g+=m,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=R==200,nr(this.i,this.u,this.A,this.l,this.R,In,R),this.o){if(this.T&&!this.K){t:{if(this.g){var It,nn=this.g;if((It=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(It)){var Ut=It;break t}}Ut=null}if(R=Ut)pr(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xa(this,R);else{this.o=!1,this.s=3,ut(12),Ir(this),Qi(this);break e}}if(this.P){R=!0;let lr;for(;!this.J&&this.C<Xe.length;)if(lr=Xo(this,Xe),lr==Ta){In==4&&(this.s=4,ut(14),R=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==Ea){this.s=4,ut(15),pr(this.i,this.l,Xe,"[Invalid Chunk]"),R=!1;break}else pr(this.i,this.l,lr,null),xa(this,lr);if(Ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Xe.length!=0||this.h.h||(this.s=1,ut(16),R=!1),this.o=this.o&&R,!R)pr(this.i,this.l,Xe,"[Invalid Chunked Response]"),Ir(this),Qi(this);else if(0<Xe.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),is(_n),_n.M=!0,ut(11))}}else pr(this.i,this.l,Xe,null),xa(this,Xe);In==4&&Ir(this),this.o&&!this.J&&(In==4?as(this.j,this):(this.o=!1,As(this)))}else ts(this.g),R==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Ir(this),Qi(this)}}}catch{}finally{}};function Ss(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Xo(m,x){var R=m.C,K=x.indexOf(`
`,R);return K==-1?Ta:(R=Number(x.substring(R,K)),isNaN(R)?Ea:(K+=1,K+R>x.length?Ta:(x=x.slice(K,K+R),m.C=K+R,x)))}Un.prototype.cancel=function(){this.J=!0,Ir(this)};function As(m){m.S=Date.now()+m.I,Gl(m,m.I)}function Gl(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Nn(E(m.ba,m),x)}function Ki(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Un.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ws(this.i,this.A),this.L!=2&&(Kr(),ut(17)),Ir(this),this.s=2,Qi(this)):Gl(this,this.S-m)};function Qi(m){m.j.G==0||m.J||as(m.j,m)}function Ir(m){Ki(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,Wr(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function xa(m,x){try{var R=m.j;if(R.G!=0&&(R.g==m||Jo(R.h,m))){if(!m.K&&Jo(R.h,m)&&R.G==3){try{var K=R.Da.g.parse(x)}catch{K=null}if(Array.isArray(K)&&K.length==3){var we=K;if(we[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)Da(R),fo(R);else break e;Cs(R),ut(18)}}else R.za=we[1],0<R.za-R.T&&37500>we[2]&&R.F&&R.v==0&&!R.C&&(R.C=Nn(E(R.Za,R),6e3));if(1>=Na(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else li(R,11)}else if((m.K||R.g==m)&&Da(R),!W(x))for(we=R.Da.g.parse(x),x=0;x<we.length;x++){let Ut=we[x];if(R.T=Ut[0],Ut=Ut[1],R.G==2)if(Ut[0]=="c"){R.K=Ut[1],R.ia=Ut[2];const _n=Ut[3];_n!=null&&(R.la=_n,R.j.info("VER="+R.la));const In=Ut[4];In!=null&&(R.Aa=In,R.j.info("SVER="+R.Aa));const ha=Ut[5];ha!=null&&typeof ha=="number"&&0<ha&&(K=1.5*ha,R.L=K,R.j.info("backChannelRequestTimeoutMs_="+K)),K=R;const lr=m.g;if(lr){const Pi=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pi){var Oe=K.h;Oe.g||Pi.indexOf("spdy")==-1&&Pi.indexOf("quic")==-1&&Pi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Vn(Oe,Oe.h),Oe.h=null))}if(K.D){const ss=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(K.ya=ss,bn(K.I,K.D,ss))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),K=R;var Xe=m;if(K.qa=_(K,K.J?K.ia:null,K.W),Xe.K){Vr(K.h,Xe);var It=Xe,nn=K.L;nn&&(It.I=nn),It.B&&(Ki(It),As(It)),K.g=Xe}else mo(K);0<R.i.length&&po(R)}else Ut[0]!="stop"&&Ut[0]!="close"||li(R,7);else R.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?li(R,7):Oa(R):Ut[0]!="noop"&&R.l&&R.l.ta(Ut),R.v=0)}}Kr(4)}catch{}}var $l=class{constructor(m,x){this.g=m,this.map=x}};function ra(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Na(m){return m.h?1:m.g?m.g.size:0}function Jo(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function Vn(m,x){m.g?m.g.add(x):m.h=x}function Vr(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}ra.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function uo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const R of m.g.values())x=x.concat(R.D);return x}return D(m.i)}function Wl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var x=[],R=m.length,K=0;K<R;K++)x.push(m[K]);return x}x=[],R=0;for(K in m)x[R++]=m[K];return x}function Ka(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var x=[];m=m.length;for(var R=0;R<m;R++)x.push(R);return x}x=[],R=0;for(const K in m)x[R++]=K;return x}}}function Zo(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var R=Ka(m),K=Wl(m),we=K.length,Oe=0;Oe<we;Oe++)x.call(void 0,K[Oe],R&&R[Oe],m)}var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(m,x){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var K=m[R].indexOf("="),we=null;if(0<=K){var Oe=m[R].substring(0,K);we=m[R].substring(K+1)}else Oe=m[R];x(Oe,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function hn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof hn){this.h=m.h,Qa(this,m.j),this.o=m.o,this.g=m.g,Xa(this,m.s),this.l=m.l;var x=m.i,R=new aa;R.i=x.i,x.g&&(R.g=new Map(x.g),R.h=x.h),ia(this,R),this.m=m.m}else m&&(x=String(m).match(Qr))?(this.h=!1,Qa(this,x[1]||"",!0),this.o=Ii(x[2]||""),this.g=Ii(x[3]||"",!0),Xa(this,x[4]),this.l=Ii(x[5]||"",!0),ia(this,x[6]||"",!0),this.m=Ii(x[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}hn.prototype.toString=function(){var m=[],x=this.j;x&&m.push(Ia(x,el,!0),":");var R=this.g;return(R||x=="file")&&(m.push("//"),(x=this.o)&&m.push(Ia(x,el,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(Ia(R,R.charAt(0)=="/"?Ca:tl,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",Ia(R,Ra)),m.join("")};function Xr(m){return new hn(m)}function Qa(m,x,R){m.j=R?Ii(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Xa(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function ia(m,x,R){x instanceof aa?(m.i=x,Kl(m.i,m.h)):(R||(x=Ia(x,ho)),m.i=new aa(x,m.h))}function bn(m,x,R){m.i.set(x,R)}function Ja(m){return bn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ii(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ia(m,x,R){return typeof m=="string"?(m=encodeURI(m).replace(x,Yl),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Yl(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,Ca=/[#\?]/g,ho=/[#\?@]/g,Ra=/#/g;function aa(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function Ln(m){m.g||(m.g=new Map,m.h=0,m.i&&co(m.i,function(x,R){m.add(decodeURIComponent(x.replace(/\+/g," ")),R)}))}n=aa.prototype,n.add=function(m,x){Ln(this),this.i=null,m=oa(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(x),this.h+=1,this};function La(m,x){Ln(m),x=oa(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function sa(m,x){return Ln(m),x=oa(m,x),m.g.has(x)}n.forEach=function(m,x){Ln(this),this.g.forEach(function(R,K){R.forEach(function(we){m.call(x,we,K,this)},this)},this)},n.na=function(){Ln(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),R=[];for(let K=0;K<x.length;K++){const we=m[K];for(let Oe=0;Oe<we.length;Oe++)R.push(x[K])}return R},n.V=function(m){Ln(this);let x=[];if(typeof m=="string")sa(this,m)&&(x=x.concat(this.g.get(oa(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)x=x.concat(m[R])}return x},n.set=function(m,x){return Ln(this),this.i=null,m=oa(this,m),sa(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function Nt(m,x,R){La(m,x),0<R.length&&(m.i=null,m.g.set(oa(m,x),D(R)),m.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var R=0;R<x.length;R++){var K=x[R];const Oe=encodeURIComponent(String(K)),Xe=this.V(K);for(K=0;K<Xe.length;K++){var we=Oe;Xe[K]!==""&&(we+="="+encodeURIComponent(String(Xe[K]))),m.push(we)}}return this.i=m.join("&")};function oa(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Kl(m,x){x&&!m.j&&(Ln(m),m.i=null,m.g.forEach(function(R,K){var we=K.toLowerCase();K!=we&&(La(this,K),Nt(this,we,R))},m)),m.j=x}function ai(m,x){const R=new Hn;if(c.Image){const K=new Image;K.onload=S(gi,R,"TestLoadImage: loaded",!0,x,K),K.onerror=S(gi,R,"TestLoadImage: error",!1,x,K),K.onabort=S(gi,R,"TestLoadImage: abort",!1,x,K),K.ontimeout=S(gi,R,"TestLoadImage: timeout",!1,x,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=m}else x(!1)}function Ci(m,x){const R=new Hn,K=new AbortController,we=setTimeout(()=>{K.abort(),gi(R,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:K.signal}).then(Oe=>{clearTimeout(we),Oe.ok?gi(R,"TestPingServer: ok",!0,x):gi(R,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(we),gi(R,"TestPingServer: error",!1,x)})}function gi(m,x,R,K,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),K(R)}catch{}}function la(){this.g=new ri}function Ri(m,x,R){const K=R||"";try{Zo(m,function(we,Oe){let Xe=we;d(we)&&(Xe=Qt(we)),x.push(K+Oe+"="+encodeURIComponent(Xe))})}catch(we){throw x.push(K+"type="+encodeURIComponent("_badmap")),we}}function Za(m){this.l=m.Ub||null,this.j=m.eb||!1}L(Za,on),Za.prototype.g=function(){return new Pa(this.l,this.j)},Za.prototype.i=function(m){return function(){return m}}({});function Pa(m,x){bt.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Pa,bt),n=Pa.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,si(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Li(this):si(this),this.readyState==3&&nl(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Li(this))},n.Qa=function(m){this.g&&(this.response=m,Li(this))},n.ga=function(){this.g&&Li(this)};function Li(m){m.readyState=4,m.l=null,m.j=null,m.v=null,si(m)}n.setRequestHeader=function(m,x){this.u.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var R=x.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=x.next();return m.join(`\r
`)};function si(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ua(m){let x="";return Ne(m,function(R,K){x+=K,x+=":",x+=R,x+=`\r
`}),x}function gr(m,x,R){e:{for(K in R){var K=!1;break e}K=!0}K||(R=ua(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):bn(m,x,R))}function tn(m){bt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(tn,bt);var es=/^https?$/i,ca=["POST","PUT"];n=tn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,x,R,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mr.g(),this.v=this.o?Aa(this.o):Aa(mr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(Oe){rl(this,Oe);return}if(m=R||"",R=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var we in K)R.set(we,K[we]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Oe of K.keys())R.set(Oe,K.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(R.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),we=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ca,x,void 0))||K||we||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Xe]of R)this.g.setRequestHeader(Oe,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oi(this),this.u=!0,this.g.send(m),this.u=!1}catch(Oe){rl(this,Oe)}};function rl(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,Es(m),Xi(m)}function Es(m){m.A||(m.A=!0,vt(m,"complete"),vt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,vt(this,"complete"),vt(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),tn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ts(this):this.bb())},n.bb=function(){Ts(this)};function Ts(m){if(m.h&&typeof u<"u"&&(!m.v[1]||vr(m)!=4||m.Z()!=2)){if(m.u&&vr(m)==4)pt(m.Ea,0,m);else if(vt(m,"readystatechange"),vr(m)==4){m.h=!1;try{const Xe=m.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var R;if(!(R=x)){var K;if(K=Xe===0){var we=String(m.D).match(Qr)[1]||null;!we&&c.self&&c.self.location&&(we=c.self.location.protocol.slice(0,-1)),K=!es.test(we?we.toLowerCase():"")}R=K}if(R)vt(m,"complete"),vt(m,"success");else{m.m=6;try{var Oe=2<vr(m)?m.g.statusText:""}catch{Oe=""}m.l=Oe+" ["+m.Z()+"]",Es(m)}}finally{Xi(m)}}}}function Xi(m,x){if(m.g){oi(m);const R=m.g,K=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||vt(m,"ready");try{R.onreadystatechange=K}catch{}}}function oi(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function vr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),Tn(x)}};function Ql(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(m){const x={};m=(m.g&&2<=vr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<m.length;K++){if(W(m[K]))continue;var R=C(m[K]);const we=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const Oe=x[we]||[];x[we]=Oe,Oe.push(R)}U(x,function(K){return K.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(m,x,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||x}function ns(m){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,m),this.cb=Jr("retryDelaySeedMs",1e4,m),this.Wa=Jr("forwardChannelMaxRetries",2,m),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ra(m&&m.concurrentRequestLimit),this.Da=new la,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ns.prototype,n.la=8,n.G=1,n.connect=function(m,x,R,K){ut(0),this.W=m,this.H=x||{},R&&K!==void 0&&(this.H.OSID=R,this.H.OAID=K),this.F=this.X,this.I=_(this,null,this.W),po(this)};function Oa(m){if(xs(m),m.G==3){var x=m.U++,R=Xr(m.I);if(bn(R,"SID",m.K),bn(R,"RID",x),bn(R,"TYPE","terminate"),rs(m,R),x=new Un(m,m.j,x),x.L=2,x.v=Ja(Xr(R)),R=!1,c.navigator&&c.navigator.sendBeacon)try{R=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!R&&c.Image&&(new Image().src=x.v,R=!0),R||(x.g=q(x.j,null),x.g.ea(x.v)),x.F=Date.now(),As(x)}go(m)}function fo(m){m.g&&(is(m),m.g.cancel(),m.g=null)}function xs(m){fo(m),m.u&&(c.clearTimeout(m.u),m.u=null),Da(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function po(m){if(!lo(m.h)&&!m.s){m.s=!0;var x=m.Ga;fe||J(),he||(fe(),he=!0),Ce.add(x,m),m.B=0}}function il(m,x){return Na(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Nn(E(m.Ga,m,x),Rs(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const we=new Un(this,this.j,m);let Oe=this.o;if(this.S&&(Oe?(Oe=N(Oe),G(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(we.H=Oe,Oe=null),this.P)e:{for(var x=0,R=0;R<this.i.length;R++){t:{var K=this.i[R];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(x+=K,4096<x){x=R;break e}if(x===4096||R===this.i.length-1){x=R+1;break e}}x=1e3}else x=1e3;x=Is(this,we,x),R=Xr(this.I),bn(R,"RID",m),bn(R,"CVER",22),this.D&&bn(R,"X-HTTP-Session-Id",this.D),rs(this,R),Oe&&(this.O?x="headers="+encodeURIComponent(String(ua(Oe)))+"&"+x:this.m&&gr(R,this.m,Oe)),Vn(this.h,we),this.Ua&&bn(R,"TYPE","init"),this.P?(bn(R,"$req",x),bn(R,"SID","null"),we.T=!0,ii(we,R,null)):ii(we,R,x),this.G=2}}else this.G==3&&(m?Ns(this,m):this.i.length==0||lo(this.h)||Ns(this))};function Ns(m,x){var R;x?R=x.l:R=m.U++;const K=Xr(m.I);bn(K,"SID",m.K),bn(K,"RID",R),bn(K,"AID",m.T),rs(m,K),m.m&&m.o&&gr(K,m.m,m.o),R=new Un(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),x&&(m.i=x.D.concat(m.i)),x=Is(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Vn(m.h,R),ii(R,K,x)}function rs(m,x){m.H&&Ne(m.H,function(R,K){bn(x,K,R)}),m.l&&Zo({},function(R,K){bn(x,K,R)})}function Is(m,x,R){R=Math.min(m.i.length,R);var K=m.l?E(m.l.Na,m.l,m):null;e:{var we=m.i;let Oe=-1;for(;;){const Xe=["count="+R];Oe==-1?0<R?(Oe=we[0].g,Xe.push("ofs="+Oe)):Oe=0:Xe.push("ofs="+Oe);let It=!0;for(let nn=0;nn<R;nn++){let Ut=we[nn].g;const _n=we[nn].map;if(Ut-=Oe,0>Ut)Oe=Math.max(0,we[nn].g-100),It=!1;else try{Ri(_n,Xe,"req"+Ut+"_")}catch{K&&K(_n)}}if(It){K=Xe.join("&");break e}}}return m=m.i.splice(0,R),x.D=m,K}function mo(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;fe||J(),he||(fe(),he=!0),Ce.add(x,m),m.v=0}}function Cs(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Nn(E(m.Fa,m),Rs(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Nn(E(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),fo(this),Xl(this))};function is(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Xl(m){m.g=new Un(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=Xr(m.qa);bn(x,"RID","rpc"),bn(x,"SID",m.K),bn(x,"AID",m.T),bn(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&bn(x,"TO",m.ja),bn(x,"TYPE","xmlhttp"),rs(m,x),m.m&&m.o&&gr(x,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=Ja(Xr(x)),R.m=null,R.P=!0,Ni(R,m)}n.Za=function(){this.C!=null&&(this.C=null,fo(this),Cs(this),ut(19))};function Da(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function as(m,x){var R=null;if(m.g==x){Da(m),is(m),m.g=null;var K=2}else if(Jo(m.h,x))R=x.D,Vr(m.h,x),K=1;else return;if(m.G!=0){if(x.o)if(K==1){R=x.m?x.m.length:0,x=Date.now()-x.F;var we=m.B;K=xi(),vt(K,new xn(K,R)),po(m)}else mo(m);else if(we=x.s,we==3||we==0&&0<x.X||!(K==1&&il(m,x)||K==2&&Cs(m)))switch(R&&0<R.length&&(x=m.h,x.i=x.i.concat(R)),we){case 1:li(m,5);break;case 4:li(m,10);break;case 3:li(m,6);break;default:li(m,2)}}}function Rs(m,x){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*x}function li(m,x){if(m.j.info("Error code "+x),x==2){var R=E(m.fb,m),K=m.Xa;const we=!K;K=new hn(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qa(K,"https"),Ja(K),we?ai(K.toString(),R):Ci(K.toString(),R)}else ut(2);m.G=0,m.l&&m.l.sa(x),go(m),xs(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function go(m){if(m.G=0,m.ka=[],m.l){const x=uo(m.h);(x.length!=0||m.i.length!=0)&&(V(m.ka,x),V(m.ka,m.i),m.h.i.length=0,D(m.i),m.i.length=0),m.l.ra()}}function _(m,x,R){var K=R instanceof hn?Xr(R):new hn(R);if(K.g!="")x&&(K.g=x+"."+K.g),Xa(K,K.s);else{var we=c.location;K=we.protocol,x=x?x+"."+we.hostname:we.hostname,we=+we.port;var Oe=new hn(null);K&&Qa(Oe,K),x&&(Oe.g=x),we&&Xa(Oe,we),R&&(Oe.l=R),K=Oe}return R=m.D,x=m.ya,R&&x&&bn(K,R,x),bn(K,"VER",m.la),rs(m,K),K}function q(m,x,R){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new tn(new Za({eb:R})):new tn(m.pa),x.Ha(m.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function re(){}n=re.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function de(){}de.prototype.g=function(m,x){return new Se(m,x)};function Se(m,x){bt.call(this),this.g=new ns(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!W(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!W(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new it(this)}L(Se,bt),Se.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Se.prototype.close=function(){Oa(this.g)},Se.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=Qt(m),m=R);x.i.push(new $l(x.Ya++,m)),x.G==3&&po(x)},Se.prototype.N=function(){this.g.l=null,delete this.j,Oa(this.g),delete this.g,Se.aa.N.call(this)};function Fe(m){Yr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const R in x){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}L(Fe,Yr);function Qe(){Fn.call(this),this.status=1}L(Qe,Fn);function it(m){this.g=m}L(it,re),it.prototype.ua=function(){vt(this.g,"a")},it.prototype.ta=function(m){vt(this.g,new Fe(m))},it.prototype.sa=function(m){vt(this.g,new Qe)},it.prototype.ra=function(){vt(this.g,"b")},de.prototype.createWebChannel=de.prototype.g,Se.prototype.send=Se.prototype.o,Se.prototype.open=Se.prototype.m,Se.prototype.close=Se.prototype.close,Yw=function(){return new de},Ww=function(){return xi()},$w=Et,i1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,zp=Ur,xr.COMPLETE="complete",Gw=xr,Mn.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,$f=Mn,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,Hw=tn}).apply(typeof Ip<"u"?Ip:typeof self<"u"?self:typeof window<"u"?window:{});const K5="@firebase/firestore",Q5="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Lm("@firebase/firestore");function bh(){return Pc.logLevel}function ht(n,...e){if(Pc.logLevel<=un.DEBUG){const t=e.map(lv);Pc.debug(`Firestore (${Yh}): ${n}`,...t)}}function Ul(n,...e){if(Pc.logLevel<=un.ERROR){const t=e.map(lv);Pc.error(`Firestore (${Yh}): ${n}`,...t)}}function jh(n,...e){if(Pc.logLevel<=un.WARN){const t=e.map(lv);Pc.warn(`Firestore (${Yh}): ${n}`,...t)}}function lv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Kw(n,r,t)}function Kw(n,e,t){let r=`FIRESTORE (${Yh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ul(r),new Error(r)}function Rn(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||Kw(e,a,r)}function zt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ao{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hi.UNAUTHENTICATED))}shutdown(){}}class _I{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wI{constructor(e){this.t=e,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rn(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new kl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kl,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},c=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kl)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rn(typeof r.accessToken=="string",31837,{l:r}),new Qw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rn(e===null||typeof e=="string",2055,{h:e}),new Hi(e)}}class SI{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AI{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new SI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ga(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rn(this.o===void 0,3512);const r=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new X5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new X5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=TI(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function en(n,e){return n<e?-1:n>e?1:0}function a1(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return en(r,a);{const o=Xw(),u=xI(o.encode(J5(n,t)),o.encode(J5(e,t)));return u!==0?u:en(r,a)}}t+=r>65535?2:1}return en(n.length,e.length)}function J5(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function xI(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return en(n[t],e[t]);return en(n.length,e.length)}function Mh(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=-62135596800,eb=1e6;class ti{static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*eb);return new ti(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ft(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ft(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Z5)throw new ft(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eb}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Z5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new ti(0,0))}static max(){return new Bt(new ti(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__name__";class qo{constructor(e,t,r){t===void 0?t=0:t>e.length&&jt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&jt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return qo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=qo.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return en(e.length,t.length)}static compareSegments(e,t){const r=qo.isNumericId(e),a=qo.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?qo.extractNumericId(e).compare(qo.extractNumericId(t)):a1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mu.fromString(e.substring(4,e.length-2))}}class Xn extends qo{construct(e,t,r){return new Xn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ft(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Xn(t)}static emptyPath(){return new Xn([])}}const NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends qo{construct(e,t,r){return new Ei(e,t,r)}static isValidIdentifier(e){return NI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tb}static keyField(){return new Ei([tb])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ft(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new ft(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ft(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(o(),a++)}if(o(),u)throw new ft(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ei(t)}static emptyPath(){return new Ei([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.path=e}static fromPath(e){return new xt(Xn.fromString(e))}static fromName(e){return new xt(Xn.fromString(e).popFirst(5))}static empty(){return new xt(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xt(new Xn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function II(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Bt.fromTimestamp(r===1e9?new ti(t+1,0):new ti(t,r));return new Vu(a,xt.empty(),e)}function CI(n){return new Vu(n.readTime,n.key,ld)}class Vu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vu(Bt.min(),xt.empty(),ld)}static max(){return new Vu(Bt.max(),xt.empty(),ld)}}function RI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xt.comparator(n.documentKey,e.documentKey),t!==0?t:en(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n){if(n.code!==We.FAILED_PRECONDITION||n.message!==LI)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ye((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ye?t:Ye.resolve(t)}catch(t){return Ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.reject(t)}static resolve(e){return new Ye((t,r)=>{t(e)})}static reject(e){return new Ye((t,r)=>{r(e)})}static waitFor(e){return new Ye((t,r)=>{let a=0,o=0,u=!1;e.forEach(c=>{++a,c.next(()=>{++o,u&&o===a&&t()},f=>r(f))}),u=!0,o===a&&t()})}static or(e){let t=Ye.resolve(!1);for(const r of e)t=t.next(a=>a?Ye.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new Ye((r,a)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next(y=>{u[d]=y,++c,c===o&&r(u)},y=>a(y))}})}static doWhile(e,t){return new Ye((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function OI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}km.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-1;function jm(n){return n==null}function lm(n){return n===0&&1/n==-1/0}function DI(n){return typeof n=="number"&&Number.isInteger(n)&&!lm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="";function kI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nb(e)),e=jI(n.get(t),e);return nb(e)}function jI(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case Zw:t+="";break;default:t+=o}}return t}function nb(n){return n+Zw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t){this.comparator=e,this.root=t||Ai.EMPTY}insert(e,t){return new dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Ai.RED,this.left=a??Ai.EMPTY,this.right=o??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Ai(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ai.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw jt(27949);return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1;Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.comparator=e,this.data=new dr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ib(this.data.getIterator())}getIteratorFrom(e){return new ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ni(this.comparator);return t.data=e,t}}class ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.fields=e,e.sort(Ei.comparator)}static empty(){return new $a([])}unionWith(e){let t=new ni(Ei.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $a(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tS("Invalid base64 string: "+o):o}}(e);return new Ti(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const MI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bu(n){if(Rn(!!n,39018),typeof n=="string"){let e=0;const t=MI.exec(n);if(Rn(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kr(n.seconds),nanos:kr(n.nanos)}}function kr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qu(n){return typeof n=="string"?Ti.fromBase64String(n):Ti.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="server_timestamp",rS="__type__",iS="__previous_value__",aS="__local_write_time__";function cv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rS])===null||t===void 0?void 0:t.stringValue)===nS}function Mm(n){const e=n.mapValue.fields[iS];return cv(e)?Mm(e):e}function ud(n){const e=Bu(n.mapValue.fields[aS].timestampValue);return new ti(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t,r,a,o,u,c,f,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d}}const um="(default)";class cd{constructor(e,t){this.projectId=e,this.database=t||um}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===um}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="__type__",UI="__max__",Rp={mapValue:{}},oS="__vector__",cm="value";function zu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cv(n)?4:BI(n)?9007199254740991:VI(n)?10:11:jt(28295,{value:n})}function Ko(n,e){if(n===e)return!0;const t=zu(n);if(t!==zu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ud(n).isEqual(ud(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Bu(a.timestampValue),c=Bu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return qu(a.bytesValue).isEqual(qu(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return kr(a.geoPointValue.latitude)===kr(o.geoPointValue.latitude)&&kr(a.geoPointValue.longitude)===kr(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return kr(a.integerValue)===kr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=kr(a.doubleValue),c=kr(o.doubleValue);return u===c?lm(u)===lm(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Mh(n.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},c=o.mapValue.fields||{};if(rb(u)!==rb(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Ko(u[f],c[f])))return!1;return!0}(n,e);default:return jt(52216,{left:n})}}function hd(n,e){return(n.values||[]).find(t=>Ko(t,e))!==void 0}function Fh(n,e){if(n===e)return 0;const t=zu(n),r=zu(e);if(t!==r)return en(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return function(o,u){const c=kr(o.integerValue||o.doubleValue),f=kr(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return ab(n.timestampValue,e.timestampValue);case 4:return ab(ud(n),ud(e));case 5:return a1(n.stringValue,e.stringValue);case 6:return function(o,u){const c=qu(o),f=qu(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const y=en(c[d],f[d]);if(y!==0)return y}return en(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const c=en(kr(o.latitude),kr(u.latitude));return c!==0?c:en(kr(o.longitude),kr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sb(n.arrayValue,e.arrayValue);case 10:return function(o,u){var c,f,d,y;const w=o.fields||{},E=u.fields||{},S=(c=w[cm])===null||c===void 0?void 0:c.arrayValue,L=(f=E[cm])===null||f===void 0?void 0:f.arrayValue,D=en(((d=S==null?void 0:S.values)===null||d===void 0?void 0:d.length)||0,((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:sb(S,L)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Rp.mapValue&&u===Rp.mapValue)return 0;if(o===Rp.mapValue)return 1;if(u===Rp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const E=a1(f[w],y[w]);if(E!==0)return E;const S=Fh(c[f[w]],d[y[w]]);if(S!==0)return S}return en(f.length,y.length)}(n.mapValue,e.mapValue);default:throw jt(23264,{Pe:t})}}function ab(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return en(n,e);const t=Bu(n),r=Bu(e),a=en(t.seconds,r.seconds);return a!==0?a:en(t.nanos,r.nanos)}function sb(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Fh(t[a],r[a]);if(o)return o}return en(t.length,r.length)}function Uh(n){return s1(n)}function s1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Bu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return xt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=s1(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${s1(t.fields[u])}`;return a+"}"}(n.mapValue):jt(61005,{value:n})}function Hp(n){switch(zu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mm(n);return e?16+Hp(e):16;case 5:return 2*n.stringValue.length;case 6:return qu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Hp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Xu(r.fields,(o,u)=>{a+=o.length+Hp(u)}),a}(n.mapValue);default:throw jt(13486,{value:n})}}function ob(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function o1(n){return!!n&&"integerValue"in n}function hv(n){return!!n&&"arrayValue"in n}function lb(n){return!!n&&"nullValue"in n}function ub(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gp(n){return!!n&&"mapValue"in n}function VI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sS])===null||t===void 0?void 0:t.stringValue)===oS}function Jf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.value=e}static empty(){return new _a({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jf(t)}setAll(e){let t=Ei.emptyPath(),r={},a=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=c.popLast()}u?r[c.lastSegment()]=Jf(u):a.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Gp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Gp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Xu(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new _a(Jf(this.value))}}function lS(n){const e=[];return Xu(n.fields,(t,r)=>{const a=new Ei([t]);if(Gp(r)){const o=lS(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new $a(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,r,a,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Gi(e,0,Bt.min(),Bt.min(),Bt.min(),_a.empty(),0)}static newFoundDocument(e,t,r,a){return new Gi(e,1,t,Bt.min(),r,a,0)}static newNoDocument(e,t){return new Gi(e,2,t,Bt.min(),Bt.min(),_a.empty(),0)}static newUnknownDocument(e,t){return new Gi(e,3,t,Bt.min(),Bt.min(),_a.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_a.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_a.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.position=e,this.inclusive=t}}function cb(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=xt.comparator(xt.fromName(u.referenceValue),t.key):r=Fh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ko(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function qI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{}class $r extends uS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new HI(e,t,r):t==="array-contains"?new WI(e,r):t==="in"?new YI(e,r):t==="not-in"?new KI(e,r):t==="array-contains-any"?new QI(e,r):new $r(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new GI(e,r):new $I(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fh(t,this.value)):t!==null&&zu(this.value)===zu(t)&&this.matchesComparison(Fh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class eo extends uS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new eo(e,t)}matches(e){return cS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cS(n){return n.op==="and"}function hS(n){return zI(n)&&cS(n)}function zI(n){for(const e of n.filters)if(e instanceof eo)return!1;return!0}function l1(n){if(n instanceof $r)return n.field.canonicalString()+n.op.toString()+Uh(n.value);if(hS(n))return n.filters.map(e=>l1(e)).join(",");{const e=n.filters.map(t=>l1(t)).join(",");return`${n.op}(${e})`}}function fS(n,e){return n instanceof $r?function(r,a){return a instanceof $r&&r.op===a.op&&r.field.isEqual(a.field)&&Ko(r.value,a.value)}(n,e):n instanceof eo?function(r,a){return a instanceof eo&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,c)=>o&&fS(u,a.filters[c]),!0):!1}(n,e):void jt(19439)}function dS(n){return n instanceof $r?function(t){return`${t.field.canonicalString()} ${t.op} ${Uh(t.value)}`}(n):n instanceof eo?function(t){return t.op.toString()+" {"+t.getFilters().map(dS).join(" ,")+"}"}(n):"Filter"}class HI extends $r{constructor(e,t,r){super(e,t,r),this.key=xt.fromName(r.referenceValue)}matches(e){const t=xt.comparator(e.key,this.key);return this.matchesComparison(t)}}class GI extends $r{constructor(e,t){super(e,"in",t),this.keys=pS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $I extends $r{constructor(e,t){super(e,"not-in",t),this.keys=pS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>xt.fromName(r.referenceValue))}class WI extends $r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hv(t)&&hd(t.arrayValue,this.value)}}class YI extends $r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hd(this.value.arrayValue,t)}}class KI extends $r{constructor(e,t){super(e,"not-in",t)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hd(this.value.arrayValue,t)}}class QI extends $r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t=null,r=[],a=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=c,this.Ie=null}}function fb(n,e=null,t=[],r=[],a=null,o=null,u=null){return new XI(n,e,t,r,a,o,u)}function fv(n){const e=zt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>l1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),jm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Uh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Uh(r)).join(",")),e.Ie=t}return e.Ie}function dv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hb(n.startAt,e.startAt)&&hb(n.endAt,e.endAt)}function u1(n){return xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t=null,r=[],a=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JI(n,e,t,r,a,o,u,c){return new Xh(n,e,t,r,a,o,u,c)}function pv(n){return new Xh(n)}function db(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mS(n){return n.collectionGroup!==null}function Zf(n){const e=zt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new ni(Ei.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new fd(o,r))}),t.has(Ei.keyField().canonicalString())||e.Ee.push(new fd(Ei.keyField(),r))}return e.Ee}function Go(n){const e=zt(n);return e.de||(e.de=ZI(e,Zf(n))),e.de}function ZI(n,e){if(n.limitType==="F")return fb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new fd(a.field,o)});const t=n.endAt?new hm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hm(n.startAt.position,n.startAt.inclusive):null;return fb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function c1(n,e){const t=n.filters.concat([e]);return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function fm(n,e,t){return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fm(n,e){return dv(Go(n),Go(e))&&n.limitType===e.limitType}function gS(n){return`${fv(Go(n))}|lt:${n.limitType}`}function _h(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>dS(a)).join(", ")}]`),jm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Uh(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Uh(a)).join(",")),`Target(${r})`}(Go(n))}; limitType=${n.limitType})`}function Um(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Zf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,c,f){const d=cb(u,c,f);return u.inclusive?d<=0:d<0}(r.startAt,Zf(r),a)||r.endAt&&!function(u,c,f){const d=cb(u,c,f);return u.inclusive?d>=0:d>0}(r.endAt,Zf(r),a))}(n,e)}function eC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vS(n){return(e,t)=>{let r=!1;for(const a of Zf(n)){const o=tC(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function tC(n,e,t){const r=n.field.isKeyField()?xt.comparator(e.key,t.key):function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Fh(f,d):jt(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return jt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xu(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return eS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new dr(xt.comparator);function Vl(){return nC}const yS=new dr(xt.comparator);function Wf(...n){let e=yS;for(const t of n)e=e.insert(t.key,t);return e}function bS(n){let e=yS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xc(){return ed()}function _S(){return ed()}function ed(){return new Fc(n=>n.toString(),(n,e)=>n.isEqual(e))}const rC=new dr(xt.comparator),iC=new ni(xt.comparator);function cn(...n){let e=iC;for(const t of n)e=e.add(t);return e}const aC=new ni(en);function sC(){return aC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function wS(n){return{integerValue:""+n}}function oC(n,e){return DI(e)?wS(e):mv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this._=void 0}}function lC(n,e,t){return n instanceof dm?function(a,o){const u={fields:{[rS]:{stringValue:nS},[aS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&cv(o)&&(o=Mm(o)),o&&(u.fields[iS]=o),{mapValue:u}}(t,e):n instanceof dd?AS(n,e):n instanceof pd?ES(n,e):function(a,o){const u=SS(a,o),c=pb(u)+pb(a.Re);return o1(u)&&o1(a.Re)?wS(c):mv(a.serializer,c)}(n,e)}function uC(n,e,t){return n instanceof dd?AS(n,e):n instanceof pd?ES(n,e):t}function SS(n,e){return n instanceof pm?function(r){return o1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class dm extends Vm{}class dd extends Vm{constructor(e){super(),this.elements=e}}function AS(n,e){const t=TS(e);for(const r of n.elements)t.some(a=>Ko(a,r))||t.push(r);return{arrayValue:{values:t}}}class pd extends Vm{constructor(e){super(),this.elements=e}}function ES(n,e){let t=TS(e);for(const r of n.elements)t=t.filter(a=>!Ko(a,r));return{arrayValue:{values:t}}}class pm extends Vm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function pb(n){return kr(n.integerValue||n.doubleValue)}function TS(n){return hv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cC(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof dd&&a instanceof dd||r instanceof pd&&a instanceof pd?Mh(r.elements,a.elements,Ko):r instanceof pm&&a instanceof pm?Ko(r.Re,a.Re):r instanceof dm&&a instanceof dm}(n.transform,e.transform)}class hC{constructor(e,t){this.version=e,this.transformResults=t}}class bs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bm{}function xS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gv(n.key,bs.none()):new Ed(n.key,n.data,bs.none());{const t=n.data,r=_a.empty();let a=new ni(Ei.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Ju(n.key,r,new $a(a.toArray()),bs.none())}}function fC(n,e,t){n instanceof Ed?function(a,o,u){const c=a.value.clone(),f=gb(a.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ju?function(a,o,u){if(!$p(a.precondition,o))return void o.convertToUnknownDocument(u.version);const c=gb(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(NS(a)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function td(n,e,t,r){return n instanceof Ed?function(o,u,c,f){if(!$p(o.precondition,u))return c;const d=o.value.clone(),y=vb(o.fieldTransforms,f,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ju?function(o,u,c,f){if(!$p(o.precondition,u))return c;const d=vb(o.fieldTransforms,f,u),y=u.data;return y.setAll(NS(o)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(o,u,c){return $p(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(n,e,t)}function dC(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=SS(r.transform,a||null);o!=null&&(t===null&&(t=_a.empty()),t.set(r.field,o))}return t||null}function mb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Mh(r,a,(o,u)=>cC(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ed extends Bm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ju extends Bm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gb(n,e,t){const r=new Map;Rn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,c=e.data.field(o.field);r.set(o.field,uC(u,c,t[a]))}return r}function vb(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,lC(o,u,e))}return r}class gv extends Bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends Bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&fC(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=td(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=td(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_S();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(a.key)?null:c;const f=xS(u,c);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&Mh(this.mutations,e.mutations,(t,r)=>mb(t,r))&&Mh(this.baseMutations,e.baseMutations,(t,r)=>mb(t,r))}}class vv{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Rn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return rC}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new vv(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr,gn;function yC(n){switch(n){case We.OK:return jt(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return jt(15467,{code:n})}}function IS(n){if(n===void 0)return Ul("GRPC error has no .code"),We.UNKNOWN;switch(n){case Gr.OK:return We.OK;case Gr.CANCELLED:return We.CANCELLED;case Gr.UNKNOWN:return We.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return We.INTERNAL;case Gr.UNAVAILABLE:return We.UNAVAILABLE;case Gr.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Gr.NOT_FOUND:return We.NOT_FOUND;case Gr.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Gr.ABORTED:return We.ABORTED;case Gr.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Gr.DATA_LOSS:return We.DATA_LOSS;default:return jt(39323,{code:n})}}(gn=Gr||(Gr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new Mu([4294967295,4294967295],0);function yb(n){const e=Xw().encode(n),t=new zw;return t.update(e),new Uint8Array(t.digest())}function bb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Mu([t,r],0),new Mu([a,o],0)]}class yv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yf(`Invalid padding: ${t}`);if(r<0)throw new Yf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yf(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Mu.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Mu.fromNumber(r)));return a.compare(bC)===1&&(a=new Mu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=yb(e),[r,a]=bb(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new yv(o,a,t);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const t=yb(e),[r,a]=bb(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new qm(Bt.min(),a,new dr(en),Vl(),cn())}}class Td{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Td(r,t,cn(),cn(),cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class CS{constructor(e,t){this.targetId=e,this.Ce=t}}class RS{constructor(e,t,r=Ti.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class _b{constructor(){this.Fe=0,this.Me=wb(),this.xe=Ti.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=cn(),t=cn(),r=cn();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:jt(38017,{changeType:o})}}),new Td(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=wb()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Rn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _C{constructor(e){this.ze=e,this.je=new Map,this.He=Vl(),this.Je=Lp(),this.Ye=Lp(),this.Ze=new dr(en)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:jt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(u1(o))if(r===0){const u=new xt(o.path);this.tt(t,u,Gi.newNoDocument(u,Bt.min()))}else Rn(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const c=this.ct(e),f=c?this.lt(c,e,u):1;if(f!==0){this.st(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,c;try{u=qu(r).toUint8Array()}catch(f){if(f instanceof tS)return jh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new yv(u,a,o)}catch(f){return jh(f instanceof Yf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const c=this._t(u);if(c){if(o.current&&u1(c.target)){const f=new xt(c.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Gi.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=cn();this.Ye.forEach((o,u)=>{let c=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new qm(e,t,this.Ze,this.He,r);return this.He=Vl(),this.Je=Lp(),this.Ye=Lp(),this.Ze=new dr(en),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new _b,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ni(en),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ni(en),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ht("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new _b),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Lp(){return new dr(xt.comparator)}function wb(){return new dr(xt.comparator)}const wC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class EC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h1(n,e){return n.useProto3Json||jm(e)?e:{value:e}}function mm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TC(n,e){return mm(n,e.toTimestamp())}function $o(n){return Rn(!!n,49232),Bt.fromTimestamp(function(t){const r=Bu(t);return new ti(r.seconds,r.nanos)}(n))}function bv(n,e){return f1(n,e).canonicalString()}function f1(n,e){const t=function(a){return new Xn(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PS(n){const e=Xn.fromString(n);return Rn(MS(e),10190,{key:e.toString()}),e}function d1(n,e){return bv(n.databaseId,e.path)}function T0(n,e){const t=PS(e);if(t.get(1)!==n.databaseId.projectId)throw new ft(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ft(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xt(DS(t))}function OS(n,e){return bv(n.databaseId,e)}function xC(n){const e=PS(n);return e.length===4?Xn.emptyPath():DS(e)}function p1(n){return new Xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DS(n){return Rn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Sb(n,e,t){return{name:d1(n,e),fields:t.value.mapValue.fields}}function NC(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:jt(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(d,y){return d.useProto3Json?(Rn(y===void 0||typeof y=="string",58123),Ti.fromBase64String(y||"")):(Rn(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ti.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const y=d.code===void 0?We.UNKNOWN:IS(d.code);return new ft(y,d.message||"")}(u);t=new RS(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=T0(n,r.document.name),o=$o(r.document.updateTime),u=r.document.createTime?$o(r.document.createTime):Bt.min(),c=new _a({mapValue:{fields:r.document.fields}}),f=Gi.newFoundDocument(a,o,u,c),d=r.targetIds||[],y=r.removedTargetIds||[];t=new Wp(d,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=T0(n,r.document),o=r.readTime?$o(r.readTime):Bt.min(),u=Gi.newNoDocument(a,o),c=r.removedTargetIds||[];t=new Wp([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=T0(n,r.document),o=r.removedTargetIds||[];t=new Wp([],o,a,null)}else{if(!("filter"in e))return jt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new vC(a,o),c=r.targetId;t=new CS(c,u)}}return t}function IC(n,e){let t;if(e instanceof Ed)t={update:Sb(n,e.key,e.value)};else if(e instanceof gv)t={delete:d1(n,e.key)};else if(e instanceof Ju)t={update:Sb(n,e.key,e.data),updateMask:MC(e.fieldMask)};else{if(!(e instanceof pC))return jt(16599,{ft:e.type});t={verify:d1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof dm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof dd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof pm)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw jt(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:TC(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:jt(27497)}(n,e.precondition)),t}function CC(n,e){return n&&n.length>0?(Rn(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?$o(a.updateTime):$o(o);return u.isEqual(Bt.min())&&(u=$o(o)),new hC(u,a.transformResults||[])}(t,e))):[]}function RC(n,e){return{documents:[OS(n,e.path)]}}function LC(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=OS(n,a);const o=function(d){if(d.length!==0)return jS(eo.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(y=>function(E){return{field:wh(E.field),direction:DC(E.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=h1(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:a}}function PC(n){let e=xC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Rn(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(w){const E=kS(w);return E instanceof eo&&hS(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(L){return new fd(Sh(L.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(w){let E;return E=typeof w=="object"?w.value:w,jm(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(w){const E=!!w.before,S=w.values||[];return new hm(S,E)}(t.startAt));let d=null;return t.endAt&&(d=function(w){const E=!w.before,S=w.values||[];return new hm(S,E)}(t.endAt)),JI(e,a,u,o,c,"F",f,d)}function OC(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sh(t.unaryFilter.field);return $r.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Sh(t.unaryFilter.field);return $r.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sh(t.unaryFilter.field);return $r.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Sh(t.unaryFilter.field);return $r.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}}(n):n.fieldFilter!==void 0?function(t){return $r.create(Sh(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return eo.create(t.compositeFilter.filters.map(r=>kS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return jt(1026)}}(t.compositeFilter.op))}(n):jt(30097,{filter:n})}function DC(n){return wC[n]}function kC(n){return SC[n]}function jC(n){return AC[n]}function wh(n){return{fieldPath:n.canonicalString()}}function Sh(n){return Ei.fromServerFormat(n.fieldPath)}function jS(n){return n instanceof $r?function(t){if(t.op==="=="){if(ub(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NAN"}};if(lb(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ub(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NOT_NAN"}};if(lb(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wh(t.field),op:kC(t.op),value:t.value}}}(n):n instanceof eo?function(t){const r=t.getFilters().map(a=>jS(a));return r.length===1?r[0]:{compositeFilter:{op:jC(t.op),filters:r}}}(n):jt(54877,{filter:n})}function MC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t,r,a,o=Bt.min(),u=Bt.min(),c=Ti.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.wt=e}}function UC(n){const e=PC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.yn=new BC}addToCollectionParentIndex(e,t){return this.yn.add(t),Ye.resolve()}getCollectionParents(e,t){return Ye.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return Ye.resolve()}deleteFieldIndex(e,t){return Ye.resolve()}deleteAllFieldIndexes(e){return Ye.resolve()}createTargetIndexes(e,t){return Ye.resolve()}getDocumentsMatchingTarget(e,t){return Ye.resolve(null)}getIndexType(e,t){return Ye.resolve(0)}getFieldIndexes(e,t){return Ye.resolve([])}getNextCollectionGroupToUpdate(e){return Ye.resolve(null)}getMinOffset(e,t){return Ye.resolve(Vu.min())}getMinOffsetFromCollectionGroup(e,t){return Ye.resolve(Vu.min())}updateCollectionGroup(e,t,r){return Ye.resolve()}updateIndexEntries(e,t){return Ye.resolve()}}class BC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new ni(Xn.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ni(Xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040;class ba{static withCacheSize(e){return new ba(e,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ba.DEFAULT_COLLECTION_PERCENTILE=10,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ba.DEFAULT=new ba(FS,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ba.DISABLED=new ba(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Vh(0)}static ir(){return new Vh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="LruGarbageCollector",qC=1048576;function Tb([n,e],[t,r]){const a=en(n,t);return a===0?en(e,r):a}class zC{constructor(e){this.cr=e,this.buffer=new ni(Tb),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Tb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ht(Eb,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qh(t)?ht(Eb,"Ignoring IndexedDB error during garbage collection: ",t):await Kh(t)}await this.Ir(3e5)})}}class GC{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Ye.resolve(km.le);const r=new zC(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(Ab)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ab):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,u,c,f,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,u=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(r=w,c=Date.now(),this.removeTargets(e,r,t))).next(w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(d=Date.now(),bh()<=un.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),Ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:w})))}}function $C(n,e){return new GC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.changes=new Fc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&td(r.mutation,a,$a.empty(),ti.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=cn()){const a=xc();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=Wf();return o.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=xc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cn()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,r,a){let o=Vl();const u=ed(),c=function(){return ed()}();return t.forEach((f,d)=>{const y=r.get(d.key);a.has(d.key)&&(y===void 0||y.mutation instanceof Ju)?o=o.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),td(y.mutation,d,y.mutation.getFieldMask(),ti.now())):u.set(d.key,$a.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,y)=>u.set(d,y)),t.forEach((d,y)=>{var w;return c.set(d,new YC(y,(w=u.get(d))!==null&&w!==void 0?w:null))}),c))}recalculateAndSaveOverlays(e,t){const r=ed();let a=new dr((u,c)=>u-c),o=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let y=r.get(f)||$a.empty();y=c.applyToLocalView(d,y),r.set(f,y);const w=(a.get(c.batchId)||cn()).add(f);a=a.insert(c.batchId,w)})}).next(()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,y=f.value,w=_S();y.forEach(E=>{if(!o.has(E)){const S=xS(t.get(E),r.get(E));S!==null&&w.set(E,S),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Ye.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return xt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):Ye.resolve(xc());let c=ld,f=o;return u.next(d=>Ye.forEach(d,(y,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(y)?Ye.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,cn())).next(y=>({batchId:c,changes:bS(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xt(t)).next(r=>{let a=Wf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Wf();return this.indexManager.getCollectionParents(e,o).next(c=>Ye.forEach(c,f=>{const d=function(w,E){return new Xh(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next(y=>{y.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((f,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,Gi.newInvalidDocument(y)))});let c=Wf();return u.forEach((f,d)=>{const y=o.get(f);y!==void 0&&td(y.mutation,d,$a.empty(),ti.now()),Um(t,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return Ye.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:$o(a.createTime)}}(t)),Ye.resolve()}getNamedQuery(e,t){return Ye.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:UC(a.bundledQuery),readTime:$o(a.readTime)}}(t)),Ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.overlays=new dr(xt.comparator),this.Or=new Map}getOverlay(e,t){return Ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xc();return Ye.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),Ye.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),Ye.resolve()}getOverlaysForCollection(e,t,r){const a=xc(),o=t.length+1,u=new xt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Ye.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new dr((d,y)=>d-y);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let y=o.get(d.largestBatchId);y===null&&(y=xc(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const c=xc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,y)=>c.set(d,y)),!(c.size()>=a)););return Ye.resolve(c)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new gC(t,r));let o=this.Or.get(t);o===void 0&&(o=cn(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.sessionToken=Ti.EMPTY_BYTE_STRING}getSessionToken(e){return Ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.Nr=new ni(di.Br),this.Lr=new ni(di.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new di(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new di(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new xt(new Xn([])),r=new di(t,e),a=new di(t,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new xt(new Xn([])),r=new di(t,e),a=new di(t,e+1);let o=cn();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new di(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class di{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return xt.comparator(e.key,t.key)||en(e.Gr,t.Gr)}static kr(e,t){return en(e.Gr,t.Gr)||xt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new ni(di.Br)}checkEmpty(e){return Ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new mC(o,t,r,a);this.mutationQueue.push(u);for(const c of a)this.zr=this.zr.add(new di(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ye.resolve(u)}lookupMutationBatch(e,t){return Ye.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return Ye.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(this.mutationQueue.length===0?uv:this.Jn-1)}getAllMutationBatches(e){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new di(t,0),a=new di(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const c=this.jr(u.Gr);o.push(c)}),Ye.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ni(en);return t.forEach(a=>{const o=new di(a,0),u=new di(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],c=>{r=r.add(c.Gr)})}),Ye.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;xt.isDocumentKey(o)||(o=o.child(""));const u=new di(new xt(o),0);let c=new ni(en);return this.zr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Gr)),!0)},u),Ye.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Rn(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Ye.forEach(t.mutations,a=>{const o=new di(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new di(t,0),a=this.zr.firstAfterOrEqual(r);return Ye.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ye.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.Zr=e,this.docs=function(){return new dr(xt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ye.resolve(r?r.document.mutableCopy():Gi.newInvalidDocument(t))}getEntries(e,t){let r=Vl();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Gi.newInvalidDocument(a))}),Ye.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Vl();const u=t.path,c=new xt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||RI(CI(y),r)<=0||(a.has(y.key)||Um(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return Ye.resolve(o)}getAllFromCollectionGroup(e,t,r,a){jt(9500)}Xr(e,t){return Ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tR(this)}getSize(e){return Ye.resolve(this.size)}}class tR extends WC{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),Ye.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.persistence=e,this.ei=new Fc(t=>fv(t),dv),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.ti=0,this.ni=new _v,this.targetCount=0,this.ri=Vh.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),Ye.resolve()}getLastRemoteSnapshotVersion(e){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ye.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),Ye.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Vh(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,Ye.resolve()}updateTargetData(e,t){return this.ar(t),Ye.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),Ye.waitFor(o).next(()=>a)}getTargetCount(e){return Ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return Ye.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),Ye.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),Ye.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),Ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return Ye.resolve(r)}containsKey(e,t){return Ye.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t){this.ii={},this.overlays={},this.si=new km(0),this.oi=!1,this.oi=!0,this._i=new JC,this.referenceDelegate=e(this),this.ai=new nR(this),this.indexManager=new VC,this.remoteDocumentCache=function(a){return new eR(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new FC(t),this.ci=new QC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new ZC(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ht("MemoryPersistence","Starting transaction:",e);const a=new rR(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return Ye.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class rR extends PI{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.Ti=new _v,this.Ii=null}static Ei(e){return new wv(e)}get di(){if(this.Ii)return this.Ii;throw jt(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),Ye.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),Ye.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Ye.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.di,r=>{const a=xt.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Bt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return Ye.or([()=>Ye.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class gm{constructor(e,t){this.persistence=e,this.Ri=new Fc(r=>kI(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=$C(this,t)}static Ei(e,t){return new gm(e,t)}li(){}hi(e){return Ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return Ye.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?Ye.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(c=>{c||(r++,o.removeEntry(u,Bt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),Ye.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),Ye.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),Ye.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),Ye.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hp(e.data.value)),t}gr(e,t,r){return Ye.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return Ye.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=cn(),a=cn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Sv(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return kT()?8:OI(Wi())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new iR;return this.fs(e,t,u).next(c=>{if(o.result=c,this.Is)return this.gs(e,t,u,c.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(bh()<=un.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",_h(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Ye.resolve()):(bh()<=un.DEBUG&&ht("QueryEngine","Query:",_h(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(bh()<=un.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",_h(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Go(t))):Ye.resolve())}Rs(e,t){if(db(t))return Ye.resolve(null);let r=Go(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=fm(t,null,"F"),r=Go(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=cn(...o);return this.As.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.ps(t,c);return this.ys(t,d,u,f.readTime)?this.Rs(e,fm(t,null,"F")):this.ws(e,d,t,f)}))})))}Vs(e,t,r,a){return db(t)||a.isEqual(Bt.min())?Ye.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,a)?Ye.resolve(null):(bh()<=un.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_h(t)),this.ws(e,u,t,II(a,ld)).next(c=>c))})}ps(e,t){let r=new ni(vS(e));return t.forEach((a,o)=>{Um(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return bh()<=un.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",_h(t)),this.As.getDocumentsMatchingQuery(e,t,Vu.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LocalStore",sR=3e8;class oR{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new dr(en),this.Ds=new Fc(o=>fv(o),dv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KC(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function lR(n,e,t,r){return new oR(n,e,t,r)}async function VS(n,e){const t=zt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],c=[];let f=cn();for(const d of a){u.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(d=>({Ms:d,removedBatchIds:u,addedBatchIds:c}))})})}function uR(n,e){const t=zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,f,d,y){const w=d.batch,E=w.keys();let S=Ye.resolve();return E.forEach(L=>{S=S.next(()=>y.getEntry(f,L)).next(D=>{const V=d.docVersions.get(L);Rn(V!==null,48541),D.version.compareTo(V)<0&&(w.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),y.addEntry(D)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(f,w))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=cn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function BS(n){const e=zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function cR(n,e){const t=zt(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const c=[];e.targetChanges.forEach((y,w)=>{const E=a.get(w);if(!E)return;c.push(t.ai.removeMatchingKeys(o,y.removedDocuments,w).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,w)));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(Ti.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(w,S),function(D,V,k){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=sR?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(E,S,y)&&c.push(t.ai.updateTargetData(o,S))});let f=Vl(),d=cn();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),c.push(hR(o,u,e.documentUpdates).next(y=>{f=y.xs,d=y.Os})),!r.isEqual(Bt.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(w=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(y)}return Ye.waitFor(c).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(t.Ss=a,o))}function hR(n,e,t){let r=cn(),a=cn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Vl();return t.forEach((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(Bt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):ht(Av,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{xs:u,Os:a}})}function fR(n,e){const t=zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dR(n,e){const t=zt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,Ye.resolve(a)):t.ai.allocateTargetId(r).next(u=>(a=new Ou(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function m1(n,e,t){const r=zt(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Qh(u))throw u;ht(Av,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function xb(n,e,t){const r=zt(n);let a=Bt.min(),o=cn();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,y){const w=zt(f),E=w.Ds.get(y);return E!==void 0?Ye.resolve(w.Ss.get(E)):w.ai.getTargetData(d,y)}(r,u,Go(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,c.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?a:Bt.min(),t?o:cn())).next(c=>(pR(r,eC(e),c),{documents:c,Ns:o})))}function pR(n,e,t){let r=n.vs.get(e)||Bt.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class Nb{constructor(){this.activeTargetIds=sC()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mR{constructor(){this.So=new Nb,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Nb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="ConnectivityMonitor";class Cb{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ht(Ib,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ht(Ib,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp=null;function g1(){return Pp===null?Pp=function(){return 268435456+Math.round(2147483648*Math.random())}():Pp++,"0x"+Pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="RestConnection",vR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yR{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===um?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const u=g1(),c=this.$o(e,t.toUriEncodedString());ht(x0,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,a,o),this.Ko(e,c,f,r).then(d=>(ht(x0,`Received RPC '${e}' ${u}: `,d),d),d=>{throw jh(x0,`RPC '${e}' ${u} failed with error: `,d,"url: ",c,"request:",r),d})}Wo(e,t,r,a,o,u){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=vR[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="WebChannelConnection";class _R extends yR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=g1();return new Promise((u,c)=>{const f=new Hw;f.setWithCredentials(!0),f.listenOnce(Gw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case zp.NO_ERROR:const y=f.getResponseJson();ht(Ui,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case zp.TIMEOUT:ht(Ui,`RPC '${e}' ${o} timed out`),c(new ft(We.DEADLINE_EXCEEDED,"Request time out"));break;case zp.HTTP_ERROR:const w=f.getStatus();if(ht(Ui,`RPC '${e}' ${o} failed with status:`,w,"response text:",f.getResponseText()),w>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const L=function(V){const k=V.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(k)>=0?k:We.UNKNOWN}(S.status);c(new ft(L,S.message))}else c(new ft(We.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ft(We.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{ht(Ui,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(a);ht(Ui,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",d,r,15)})}a_(e,t,r){const a=g1(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Yw(),c=Ww(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");ht(Ui,`Creating RPC '${e}' stream ${a}: ${y}`,f);const w=u.createWebChannel(y,f);let E=!1,S=!1;const L=new bR({Go:V=>{S?ht(Ui,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(E||(ht(Ui,`Opening RPC '${e}' stream ${a} transport.`),w.open(),E=!0),ht(Ui,`RPC '${e}' stream ${a} sending:`,V),w.send(V))},zo:()=>w.close()}),D=(V,k,W)=>{V.listen(k,ee=>{try{W(ee)}catch(le){setTimeout(()=>{throw le},0)}})};return D(w,$f.EventType.OPEN,()=>{S||(ht(Ui,`RPC '${e}' stream ${a} transport opened.`),L.t_())}),D(w,$f.EventType.CLOSE,()=>{S||(S=!0,ht(Ui,`RPC '${e}' stream ${a} transport closed`),L.r_())}),D(w,$f.EventType.ERROR,V=>{S||(S=!0,jh(Ui,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),L.r_(new ft(We.UNAVAILABLE,"The operation could not be completed")))}),D(w,$f.EventType.MESSAGE,V=>{var k;if(!S){const W=V.data[0];Rn(!!W,16349);const ee=W,le=(ee==null?void 0:ee.error)||((k=ee[0])===null||k===void 0?void 0:k.error);if(le){ht(Ui,`RPC '${e}' stream ${a} received error:`,le);const ce=le.status;let Ne=function(j){const G=Gr[j];if(G!==void 0)return IS(G)}(ce),U=le.message;Ne===void 0&&(Ne=We.INTERNAL,U="Unknown error status: "+ce+" with message "+le.message),S=!0,L.r_(new ft(Ne,U)),w.close()}else ht(Ui,`RPC '${e}' stream ${a} received:`,W),L.i_(W)}}),D(c,$w.STAT_EVENT,V=>{V.stat===i1.PROXY?ht(Ui,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===i1.NOPROXY&&ht(Ui,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{L.n_()},0),L}}function N0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n){return new EC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="PersistentStream";class zS{constructor(e,t,r,a,o,u,c,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new qS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===We.RESOURCE_EXHAUSTED?(Ul(t.toString()),Ul("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new ft(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ht(Rb,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ht(Rb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wR extends zS{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=NC(this.serializer,e),r=function(o){if(!("targetChange"in o))return Bt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Bt.min():u.readTime?$o(u.readTime):Bt.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=p1(this.serializer),t.addTarget=function(o,u){let c;const f=u.target;if(c=u1(f)?{documents:RC(o,f)}:{query:LC(o,f).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=LS(o,u.resumeToken);const d=h1(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Bt.min())>0){c.readTime=mm(o,u.snapshotVersion.toTimestamp());const d=h1(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=OC(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=p1(this.serializer),t.removeTarget=e,this.F_(t)}}class SR extends zS{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Rn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rn(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Rn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=CC(e.writeResults,e.commitTime),r=$o(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=p1(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>IC(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class ER extends AR{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new ft(We.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,f1(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(We.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Wo(e,f1(t,r),a,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(We.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class TR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ul(t),this.ea=!1):ht("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="RemoteStore";class xR{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Uc(this)&&(ht(Oc,"Restarting streams for network reachability change."),await async function(f){const d=zt(f);d.aa.add(4),await xd(d),d.la.set("Unknown"),d.aa.delete(4),await Hm(d)}(this))})}),this.la=new TR(r,a)}}async function Hm(n){if(Uc(n))for(const e of n.ua)await e(!0)}async function xd(n){for(const e of n.ua)await e(!1)}function HS(n,e){const t=zt(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Nv(t)?xv(t):Jh(t).b_()&&Tv(t,e))}function Ev(n,e){const t=zt(n),r=Jh(t);t._a.delete(e),r.b_()&&GS(t,e),t._a.size===0&&(r.b_()?r.v_():Uc(t)&&t.la.set("Unknown"))}function Tv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jh(n).U_(e)}function GS(n,e){n.ha.Ke(e),Jh(n).K_(e)}function xv(n){n.ha=new _C({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Jh(n).start(),n.la.ta()}function Nv(n){return Uc(n)&&!Jh(n).w_()&&n._a.size>0}function Uc(n){return zt(n).aa.size===0}function $S(n){n.ha=void 0}async function NR(n){n.la.set("Online")}async function IR(n){n._a.forEach((e,t)=>{Tv(n,e)})}async function CR(n,e){$S(n),Nv(n)?(n.la.ia(e),xv(n)):n.la.set("Unknown")}async function RR(n,e,t){if(n.la.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const c of o.targetIds)a._a.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a._a.delete(c),a.ha.removeTarget(c))}(n,e)}catch(r){ht(Oc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vm(n,r)}else if(e instanceof Wp?n.ha.Xe(e):e instanceof CS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Bt.min()))try{const r=await BS(n.localStore);t.compareTo(r)>=0&&await function(o,u){const c=o.ha.It(u);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(d);y&&o._a.set(d,y.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,d)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(Ti.EMPTY_BYTE_STRING,y.snapshotVersion)),GS(o,f);const w=new Ou(y.target,f,d,y.sequenceNumber);Tv(o,w)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ht(Oc,"Failed to raise snapshot:",r),await vm(n,r)}}async function vm(n,e,t){if(!Qh(e))throw e;n.aa.add(1),await xd(n),n.la.set("Offline"),t||(t=()=>BS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(Oc,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Hm(n)})}function WS(n,e){return e().catch(t=>vm(n,t,e))}async function Gm(n){const e=zt(n),t=Hu(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:uv;for(;LR(e);)try{const a=await fR(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,PR(e,a)}catch(a){await vm(e,a)}YS(e)&&KS(e)}function LR(n){return Uc(n)&&n.oa.length<10}function PR(n,e){n.oa.push(e);const t=Hu(n);t.b_()&&t.W_&&t.G_(e.mutations)}function YS(n){return Uc(n)&&!Hu(n).w_()&&n.oa.length>0}function KS(n){Hu(n).start()}async function OR(n){Hu(n).H_()}async function DR(n){const e=Hu(n);for(const t of n.oa)e.G_(t.mutations)}async function kR(n,e,t){const r=n.oa.shift(),a=vv.from(r,e,t);await WS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Gm(n)}async function jR(n,e){e&&Hu(n).W_&&await async function(r,a){if(function(u){return yC(u)&&u!==We.ABORTED}(a.code)){const o=r.oa.shift();Hu(r).D_(),await WS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Gm(r)}}(n,e),YS(n)&&KS(n)}async function Lb(n,e){const t=zt(n);t.asyncQueue.verifyOperationInProgress(),ht(Oc,"RemoteStore received new credentials");const r=Uc(t);t.aa.add(3),await xd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Hm(t)}async function MR(n,e){const t=zt(n);e?(t.aa.delete(2),await Hm(t)):e||(t.aa.add(2),await xd(t),t.la.set("Unknown"))}function Jh(n){return n.Pa||(n.Pa=function(t,r,a){const o=zt(t);return o.Y_(),new wR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:NR.bind(null,n),Jo:IR.bind(null,n),Zo:CR.bind(null,n),Q_:RR.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Nv(n)?xv(n):n.la.set("Unknown")):(await n.Pa.stop(),$S(n))})),n.Pa}function Hu(n){return n.Ta||(n.Ta=function(t,r,a){const o=zt(t);return o.Y_(),new SR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:OR.bind(null,n),Zo:jR.bind(null,n),z_:DR.bind(null,n),j_:kR.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Gm(n)):(await n.Ta.stop(),n.oa.length>0&&(ht(Oc,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new kl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,c=new Iv(e,t,u,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(n,e){if(Ul("AsyncQueue",`${e}: ${n}`),Qh(n))return new ft(We.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{static emptySet(e){return new Ch(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||xt.comparator(t.key,r.key):(t,r)=>xt.comparator(t.key,r.key),this.keyedMap=Wf(),this.sortedSet=new dr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ch)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ch;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.Ia=new dr(xt.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):jt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bh{constructor(e,t,r,a,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Bh(e,t,Ch.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class UR{constructor(){this.queries=Ob(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=zt(t),o=a.queries;a.queries=Ob(),o.forEach((u,c)=>{for(const f of c.Ra)f.onError(r)})})(this,new ft(We.ABORTED,"Firestore shutting down"))}}function Ob(){return new Fc(n=>gS(n),Fm)}async function QS(n,e){const t=zt(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new FR,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const c=Cv(u,`Initialization of query '${_h(e.query)}' failed`);return void e.onError(c)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Rv(t)}async function XS(n,e){const t=zt(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function VR(n,e){const t=zt(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const c of u.Ra)c.pa(a)&&(r=!0);u.Aa=a}}r&&Rv(t)}function BR(n,e,t){const r=zt(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function Rv(n){n.fa.forEach(e=>{e.next()})}var v1,Db;(Db=v1||(v1={})).ya="default",Db.Cache="cache";class JS{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Bh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Bh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==v1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.key=e}}class eA{constructor(e){this.key=e}}class qR{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=cn(),this.mutatedKeys=cn(),this.Ua=vS(e),this.Ka=new Ch(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new Pb,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,w)=>{const E=a.get(y),S=Um(this.query,w)?w:null,L=!!E&&this.mutatedKeys.has(E.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;E&&S?E.data.isEqual(S.data)?L!==D&&(r.track({type:3,doc:S}),V=!0):this.ja(E,S)||(r.track({type:2,doc:S}),V=!0,(f&&this.Ua(S,f)>0||d&&this.Ua(S,d)<0)&&(c=!0)):!E&&S?(r.track({type:0,doc:S}),V=!0):E&&!S&&(r.track({type:1,doc:E}),V=!0,(f||d)&&(c=!0)),V&&(S?(u=u.add(S),o=D?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:c,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,w)=>function(S,L){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Vt:V})}};return D(S)-D(L)}(y.type,w.type)||this.Ua(y.doc,w.doc)),this.Ha(r),a=a!=null&&a;const c=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,d=f!==this.Qa;return this.Qa=f,u.length!==0||d?{snapshot:new Bh(this.query,e.Ka,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Pb,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=cn(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new eA(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new ZS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=cn();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Bh.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Lv="SyncEngine";class zR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HR{constructor(e){this.key=e,this.tu=!1}}class GR{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Fc(c=>gS(c),Fm),this.iu=new Map,this.su=new Set,this.ou=new dr(xt.comparator),this._u=new Map,this.au=new _v,this.uu={},this.cu=new Map,this.lu=Vh.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function $R(n,e,t=!0){const r=sA(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await tA(r,e,t,!0),a}async function WR(n,e){const t=sA(n);await tA(t,e,!0,!1)}async function tA(n,e,t,r){const a=await dR(n.localStore,Go(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await YR(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&HS(n.remoteStore,a),c}async function YR(n,e,t,r,a){n.Pu=(w,E,S)=>async function(D,V,k,W){let ee=V.view.Ga(k);ee.ys&&(ee=await xb(D.localStore,V.query,!1).then(({documents:U})=>V.view.Ga(U,ee)));const le=W&&W.targetChanges.get(V.targetId),ce=W&&W.targetMismatches.get(V.targetId)!=null,Ne=V.view.applyChanges(ee,D.isPrimaryClient,le,ce);return jb(D,V.targetId,Ne.Ya),Ne.snapshot}(n,w,E,S);const o=await xb(n.localStore,e,!0),u=new qR(e,o.Ns),c=u.Ga(o.documents),f=Td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=u.applyChanges(c,n.isPrimaryClient,f);jb(n,t,d.Ya);const y=new zR(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),d.snapshot}async function KR(n,e,t){const r=zt(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!Fm(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await m1(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ev(r.remoteStore,a.targetId),y1(r,a.targetId)}).catch(Kh)):(y1(r,a.targetId),await m1(r.localStore,a.targetId,!0))}async function QR(n,e){const t=zt(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(t.remoteStore,r.targetId))}async function XR(n,e,t){const r=iL(n);try{const a=await function(u,c){const f=zt(u),d=ti.now(),y=c.reduce((S,L)=>S.add(L.key),cn());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let L=Vl(),D=cn();return f.Cs.getEntries(S,y).next(V=>{L=V,L.forEach((k,W)=>{W.isValidDocument()||(D=D.add(k))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,L)).next(V=>{w=V;const k=[];for(const W of c){const ee=dC(W,w.get(W.key).overlayedDocument);ee!=null&&k.push(new Ju(W.key,ee,lS(ee.value.mapValue),bs.exists(!0)))}return f.mutationQueue.addMutationBatch(S,d,k,c)}).next(V=>{E=V;const k=V.applyToLocalDocumentSet(w,D);return f.documentOverlayCache.saveOverlays(S,V.batchId,k)})}).then(()=>({batchId:E.batchId,changes:bS(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,c,f){let d=u.uu[u.currentUser.toKey()];d||(d=new dr(en)),d=d.insert(c,f),u.uu[u.currentUser.toKey()]=d}(r,a.batchId,t),await Nd(r,a.changes),await Gm(r.remoteStore)}catch(a){const o=Cv(a,"Failed to persist write");t.reject(o)}}async function nA(n,e){const t=zt(n);try{const r=await cR(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Rn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Rn(u.tu,14607):a.removedDocuments.size>0&&(Rn(u.tu,42227),u.tu=!1))}),await Nd(t,r,e)}catch(r){await Kh(r)}}function kb(n,e,t){const r=zt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,u)=>{const c=u.view.ga(e);c.snapshot&&a.push(c.snapshot)}),function(u,c){const f=zt(u);f.onlineState=c;let d=!1;f.queries.forEach((y,w)=>{for(const E of w.Ra)E.ga(c)&&(d=!0)}),d&&Rv(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JR(n,e,t){const r=zt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let u=new dr(xt.comparator);u=u.insert(o,Gi.newNoDocument(o,Bt.min()));const c=cn().add(o),f=new qm(Bt.min(),new Map,new dr(en),u,c);await nA(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Pv(r)}else await m1(r.localStore,e,!1).then(()=>y1(r,e,t)).catch(Kh)}async function ZR(n,e){const t=zt(n),r=e.batch.batchId;try{const a=await uR(t.localStore,e);iA(t,r,null),rA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Nd(t,a)}catch(a){await Kh(a)}}async function eL(n,e,t){const r=zt(n);try{const a=await function(u,c){const f=zt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let y;return f.mutationQueue.lookupMutationBatch(d,c).next(w=>(Rn(w!==null,37113),y=w.keys(),f.mutationQueue.removeMutationBatch(d,w))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y)).next(()=>f.localDocuments.getDocuments(d,y))})}(r.localStore,e);iA(r,e,t),rA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Nd(r,a)}catch(a){await Kh(a)}}function rA(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function iA(n,e,t){const r=zt(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function y1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||aA(n,r)})}function aA(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Ev(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Pv(n))}function jb(n,e,t){for(const r of t)r instanceof ZS?(n.au.addReference(r.key,e),tL(n,r)):r instanceof eA?(ht(Lv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||aA(n,r.key)):jt(19791,{Iu:r})}function tL(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ht(Lv,"New document in limbo: "+t),n.su.add(r),Pv(n))}function Pv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new xt(Xn.fromString(e)),r=n.lu.next();n._u.set(r,new HR(t)),n.ou=n.ou.insert(t,r),HS(n.remoteStore,new Ou(Go(pv(t.path)),r,"TargetPurposeLimboResolution",km.le))}}async function Nd(n,e,t){const r=zt(n),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((c,f)=>{u.push(r.Pu(f,e,t).then(d=>{var y;if((d||t)&&r.isPrimaryClient){const w=d?!d.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(d){a.push(d);const w=Sv.Ps(f.targetId,d);o.push(w)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(f,d){const y=zt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Ye.forEach(d,E=>Ye.forEach(E.ls,S=>y.persistence.referenceDelegate.addReference(w,E.targetId,S)).next(()=>Ye.forEach(E.hs,S=>y.persistence.referenceDelegate.removeReference(w,E.targetId,S)))))}catch(w){if(!Qh(w))throw w;ht(Av,"Failed to update sequence numbers: "+w)}for(const w of d){const E=w.targetId;if(!w.fromCache){const S=y.Ss.get(E),L=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(L);y.Ss=y.Ss.insert(E,D)}}}(r.localStore,o))}async function nL(n,e){const t=zt(n);if(!t.currentUser.isEqual(e)){ht(Lv,"User change. New user:",e.toKey());const r=await VS(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(c=>{c.forEach(f=>{f.reject(new ft(We.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nd(t,r.Ms)}}function rL(n,e){const t=zt(n),r=t._u.get(e);if(r&&r.tu)return cn().add(r.key);{let a=cn();const o=t.iu.get(e);if(!o)return a;for(const u of o){const c=t.ru.get(u);a=a.unionWith(c.view.Wa)}return a}}function sA(n){const e=zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JR.bind(null,e),e.nu.Q_=VR.bind(null,e.eventManager),e.nu.Tu=BR.bind(null,e.eventManager),e}function iL(n){const e=zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eL.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return lR(this.persistence,new aR,e.initialUser,this.serializer)}Ru(e){return new US(wv.Ei,this.serializer)}Au(e){return new mR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class aL extends ym{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Rn(this.persistence.referenceDelegate instanceof gm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HC(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new US(r=>gm.Ei(r,t),this.serializer)}}class b1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nL.bind(null,this.syncEngine),await MR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UR}()}createDatastore(e){const t=zm(e.databaseInfo.databaseId),r=function(o){return new _R(o)}(e.databaseInfo);return function(o,u,c,f){return new ER(o,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,c){return new xR(r,a,o,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>kb(this.syncEngine,t,0),function(){return Cb.C()?new Cb:new gR}())}createSyncEngine(e,t){return function(a,o,u,c,f,d,y){const w=new GR(a,o,u,c,f,d);return y&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=zt(a);ht(Oc,"RemoteStore shutting down."),o.aa.add(5),await xd(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}b1.provider={build:()=>new b1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ul("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="FirestoreClient";class sL{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Hi.UNAUTHENTICATED,this.clientId=Jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{ht(Gu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ht(Gu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function I0(n,e){n.asyncQueue.verifyOperationInProgress(),ht(Gu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await VS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Mb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await oL(n);ht(Gu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Lb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>Lb(e.remoteStore,a)),n._onlineComponents=e}async function oL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Gu,"Using user provided OfflineComponentProvider");try{await I0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===We.FAILED_PRECONDITION||a.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;jh("Error using user provided cache. Falling back to memory cache: "+t),await I0(n,new ym)}}else ht(Gu,"Using default OfflineComponentProvider"),await I0(n,new aL(void 0));return n._offlineComponents}async function lA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Gu,"Using user provided OnlineComponentProvider"),await Mb(n,n._uninitializedComponentsProvider._online)):(ht(Gu,"Using default OnlineComponentProvider"),await Mb(n,new b1))),n._onlineComponents}function lL(n){return lA(n).then(e=>e.syncEngine)}async function uA(n){const e=await lA(n),t=e.eventManager;return t.onListen=$R.bind(null,e.syncEngine),t.onUnlisten=KR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QR.bind(null,e.syncEngine),t}function uL(n,e,t={}){const r=new kl;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,d){const y=new oA({next:E=>{y.yu(),u.enqueueAndForget(()=>XS(o,w));const S=E.docs.has(c);!S&&E.fromCache?d.reject(new ft(We.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?d.reject(new ft(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),w=new JS(pv(c.path),y,{includeMetadataChanges:!0,Fa:!0});return QS(o,w)}(await uA(n),n.asyncQueue,e,t,r)),r.promise}function cL(n,e,t={}){const r=new kl;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,d){const y=new oA({next:E=>{y.yu(),u.enqueueAndForget(()=>XS(o,w)),E.fromCache&&f.source==="server"?d.reject(new ft(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),w=new JS(c,y,{includeMetadataChanges:!0,Fa:!0});return QS(o,w)}(await uA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n,e,t){if(!t)throw new ft(We.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hL(n,e,t,r){if(e===!0&&r===!0)throw new ft(We.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ub(n){if(!xt.isDocumentKey(n))throw new ft(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Vb(n){if(xt.isDocumentKey(n))throw new ft(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $m(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":jt(12329,{type:typeof n})}function to(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ft(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$m(n);throw new ft(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firestore.googleapis.com",Bb=!0;class qb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fA,this.ssl=Bb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Bb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qC)throw new ft(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ft(We.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ft(We.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ft(We.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bI;switch(r.type){case"firstParty":return new AI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Fb.get(t);r&&(ht("ComponentProvider","Removing Datastore"),Fb.delete(t),r.terminate())}(this),Promise.resolve()}}function fL(n,e,t,r={}){var a;const o=(n=to(n,Wm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==fA&&o.host!==c&&jh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!Uu(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,y;if(typeof r.mockUserToken=="string")d=r.mockUserToken,y=Hi.MOCK_USER;else{d=CT(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ft(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Hi(w)}n._authCredentials=new _I(new Qw(d,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zu(this.firestore,e,this._query)}}class na{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new na(this.firestore,e,this._key)}}class Fu extends Zu{constructor(e,t,r){super(e,t,pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new na(this.firestore,null,new xt(e))}withConverter(e){return new Fu(this.firestore,e,this._path)}}function md(n,e,...t){if(n=Er(n),hA("collection","path",e),n instanceof Wm){const r=Xn.fromString(e,...t);return Vb(r),new Fu(n,null,r)}{if(!(n instanceof na||n instanceof Fu))throw new ft(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xn.fromString(e,...t));return Vb(r),new Fu(n.firestore,null,r)}}function Ar(n,e,...t){if(n=Er(n),arguments.length===1&&(e=Jw.newId()),hA("doc","path",e),n instanceof Wm){const r=Xn.fromString(e,...t);return Ub(r),new na(n,null,new xt(r))}{if(!(n instanceof na||n instanceof Fu))throw new ft(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xn.fromString(e,...t));return Ub(r),new na(n.firestore,n instanceof Fu?n.converter:null,new xt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="AsyncQueue";class Hb{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new qS(this,"async_queue_retry"),this.ju=()=>{const r=N0();r&&ht(zb,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=N0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=N0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new kl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Qh(e))throw e;ht(zb,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ul("INTERNAL UNHANDLED ERROR: ",Gb(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Iv.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&jt(47125,{ec:Gb(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Gb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Vc extends Wm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Hb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hb(e),this._firestoreClient=void 0,await e}}}function dL(n,e){const t=typeof n=="object"?n:Q1(),r=typeof n=="string"?n:um,a=Mc(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=NT("firestore");o&&fL(a,...o)}return a}function Ov(n){if(n._terminated)throw new ft(We.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pL(n),n._firestoreClient}function pL(n){var e,t,r;const a=n._freezeSettings(),o=function(c,f,d,y){return new FI(c,f,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,cA(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new sL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qh(Ti.fromBase64String(e))}catch(t){throw new ft(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qh(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ft(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ft(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ft(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=/^__.*__$/;class gL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ed(e,this.data,t,this.fieldTransforms)}}class dA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{oc:n})}}class Mv{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return bm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(pA(this.oc)&&mL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class vL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zm(e)}dc(e,t,r,a=!1){return new Mv({oc:e,methodName:t,Ec:r,path:Ei.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Km(n){const e=n._freezeSettings(),t=zm(n._databaseId);return new vL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mA(n,e,t,r,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);Fv("Data must be an object, but it was:",u,r);const c=gA(r,u);let f,d;if(o.merge)f=new $a(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const E=_1(e,w,t);if(!u.contains(E))throw new ft(We.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);yA(y,E)||y.push(E)}f=new $a(y),d=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,d=u.fieldTransforms;return new gL(new _a(c),f,d)}class Qm extends Dv{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qm}}function yL(n,e,t,r){const a=n.dc(1,e,t);Fv("Data must be an object, but it was:",a,r);const o=[],u=_a.empty();Xu(r,(f,d)=>{const y=Uv(e,f,t);d=Er(d);const w=a.hc(y);if(d instanceof Qm)o.push(y);else{const E=Id(d,w);E!=null&&(o.push(y),u.set(y,E))}});const c=new $a(o);return new dA(u,c,a.fieldTransforms)}function bL(n,e,t,r,a,o){const u=n.dc(1,e,t),c=[_1(e,r,t)],f=[a];if(o.length%2!=0)throw new ft(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(_1(e,o[E])),f.push(o[E+1]);const d=[],y=_a.empty();for(let E=c.length-1;E>=0;--E)if(!yA(d,c[E])){const S=c[E];let L=f[E];L=Er(L);const D=u.hc(S);if(L instanceof Qm)d.push(S);else{const V=Id(L,D);V!=null&&(d.push(S),y.set(S,V))}}const w=new $a(d);return new dA(y,w,u.fieldTransforms)}function _L(n,e,t,r=!1){return Id(t,n.dc(r?4:3,e))}function Id(n,e){if(vA(n=Er(n)))return Fv("Unsupported field value:",e,n),gA(n,e);if(n instanceof Dv)return function(r,a){if(!pA(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const c of r){let f=Id(c,a.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=Er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oC(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ti.fromDate(r);return{timestampValue:mm(a.serializer,o)}}if(r instanceof ti){const o=new ti(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mm(a.serializer,o)}}if(r instanceof kv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qh)return{bytesValue:LS(a.serializer,r._byteString)};if(r instanceof na){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof jv)return function(u,c){return{mapValue:{fields:{[sS]:{stringValue:oS},[cm]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.Tc("VectorValues must only contain numeric values.");return mv(c.serializer,d)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${$m(r)}`)}(n,e)}function gA(n,e){const t={};return eS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xu(n,(r,a)=>{const o=Id(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function vA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ti||n instanceof kv||n instanceof qh||n instanceof na||n instanceof Dv||n instanceof jv)}function Fv(n,e,t){if(!vA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=$m(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function _1(n,e,t){if((e=Er(e))instanceof Ym)return e._internalPath;if(typeof e=="string")return Uv(n,e);throw bm("Field path arguments must be of type string or ",n,!1,void 0,t)}const wL=new RegExp("[~\\*/\\[\\]]");function Uv(n,e,t){if(e.search(wL)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ym(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bm(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new ft(We.INVALID_ARGUMENT,c+n+f)}function yA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new na(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SL extends bA{data(){return super.data()}}function Vv(n,e){return typeof e=="string"?Uv(n,e):e instanceof Ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ft(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bv{}class qv extends Bv{}function _m(n,e,...t){let r=[];e instanceof Bv&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof Hv).length,c=o.filter(f=>f instanceof zv).length;if(u>1||u>0&&c>0)throw new ft(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class zv extends qv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zv(e,t,r)}_apply(e){const t=this._parse(e);return SA(e._query,t),new Zu(e.firestore,e.converter,c1(e._query,t))}_parse(e){const t=Km(e.firestore);return function(o,u,c,f,d,y,w){let E;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ft(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Wb(w,y);const L=[];for(const D of w)L.push($b(f,o,D));E={arrayValue:{values:L}}}else E=$b(f,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Wb(w,y),E=_L(c,u,w,y==="in"||y==="not-in");return $r.create(d,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hv extends Bv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:eo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const c=o.getFlattenedFilters();for(const f of c)SA(u,f),u=c1(u,f)}(e._query,t),new Zu(e.firestore,e.converter,c1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gv extends qv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gv(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new ft(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ft(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fd(o,u)}(e._query,this._field,this._direction);return new Zu(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Xh(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function _A(n,e="asc"){const t=e,r=Vv("orderBy",n);return Gv._create(r,t)}class $v extends qv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new $v(e,t,r)}_apply(e){return new Zu(e.firestore,e.converter,fm(e._query,this._limit,this._limitType))}}function wA(n){return $v._create("limit",n,"F")}function $b(n,e,t){if(typeof(t=Er(t))=="string"){if(t==="")throw new ft(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mS(e)&&t.indexOf("/")!==-1)throw new ft(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xn.fromString(t));if(!xt.isDocumentKey(r))throw new ft(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ob(n,new xt(r))}if(t instanceof na)return ob(n,t._key);throw new ft(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(t)}.`)}function Wb(n,e){if(!Array.isArray(n)||n.length===0)throw new ft(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SA(n,e){const t=function(a,o){for(const u of a)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ft(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ft(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EL{convertValue(e,t="none"){switch(zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw jt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xu(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[cm].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>kr(u.doubleValue));return new jv(o)}convertGeoPoint(e){return new kv(kr(e.latitude),kr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ud(e));default:return null}}convertTimestamp(e){const t=Bu(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xn.fromString(e);Rn(MS(r),9688,{name:e});const a=new cd(r.get(1),r.get(3)),o=new xt(r.popFirst(5));return a.isEqual(t)||Ul(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EA extends bA{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Yp extends EA{data(e={}){return super.data(e)}}class TL{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Kf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Yp(this._firestore,this._userDataWriter,r.key,r,new Kf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ft(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(c=>{const f=new Yp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Kf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new Yp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Kf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,y=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),y=u.indexOf(c.doc.key)),{type:xL(c.type),doc:f,oldIndex:d,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n){n=to(n,na);const e=to(n.firestore,Vc);return uL(Ov(e),n._key).then(t=>IL(e,n,t))}class TA extends EL{constructor(e){super(),this.firestore=e}convertBytes(e){return new qh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new na(this.firestore,null,t)}}function Wv(n){n=to(n,Zu);const e=to(n.firestore,Vc),t=Ov(e),r=new TA(e);return AL(n._query),cL(t,n._query).then(a=>new TL(e,r,n,a))}function Ic(n,e,t){n=to(n,na);const r=to(n.firestore,Vc),a=AA(n.converter,e,t);return Xm(r,[mA(Km(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,bs.none())])}function wm(n,e,t,...r){n=to(n,na);const a=to(n.firestore,Vc),o=Km(a);let u;return u=typeof(e=Er(e))=="string"||e instanceof Ym?bL(o,"updateDoc",n._key,e,t,r):yL(o,"updateDoc",n._key,e),Xm(a,[u.toMutation(n._key,bs.exists(!0))])}function Yb(n){return Xm(to(n.firestore,Vc),[new gv(n._key,bs.none())])}function NL(n,e){const t=to(n.firestore,Vc),r=Ar(n),a=AA(n.converter,e);return Xm(t,[mA(Km(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,bs.exists(!1))]).then(()=>r)}function Xm(n,e){return function(r,a){const o=new kl;return r.asyncQueue.enqueueAndForget(async()=>XR(await lL(r),a,o)),o.promise}(Ov(n),e)}function IL(n,e,t){const r=t.docs.get(e._key),a=new TA(n);return new EA(n,a,e._key,r,new Kf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Yh=a})($h),Yo(new Zs("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Vc(new wI(r.getProvider("auth-internal")),new EI(u,r.getProvider("app-check-internal")),function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ft(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(d.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ys(K5,Q5,e),ys(K5,Q5,"esm2017")})();const xA="@firebase/installations",Yv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=1e4,IA=`w:${Yv}`,CA="FIS_v2",CL="https://firebaseinstallations.googleapis.com/v1",RL=60*60*1e3,LL="installations",PL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Dc=new jc(LL,PL,OL);function RA(n){return n instanceof ao&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA({projectId:n}){return`${CL}/projects/${n}/installations`}function PA(n){return{token:n.token,requestStatus:2,expiresIn:kL(n.expiresIn),creationTime:Date.now()}}async function OA(n,e){const r=(await e.json()).error;return Dc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function DL(n,{refreshToken:e}){const t=DA(n);return t.append("Authorization",jL(e)),t}async function kA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function kL(n){return Number(n.replace("s","000"))}function jL(n){return`${CA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=LA(n),a=DA(n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const u={fid:t,authVersion:CA,appId:n.appId,sdkVersion:IA},c={method:"POST",headers:a,body:JSON.stringify(u)},f=await kA(()=>fetch(r,c));if(f.ok){const d=await f.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:PA(d.authToken)}}else throw await OA("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=/^[cdef][\w-]{21}$/,w1="";function VL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=BL(n);return UL.test(t)?t:w1}catch{return w1}}function BL(n){return FL(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new Map;function FA(n,e){const t=Jm(n);UA(t,e),qL(t,e)}function UA(n,e){const t=MA.get(n);if(t)for(const r of t)r(e)}function qL(n,e){const t=zL();t&&t.postMessage({key:n,fid:e}),HL()}let Nc=null;function zL(){return!Nc&&"BroadcastChannel"in self&&(Nc=new BroadcastChannel("[Firebase] FID Change"),Nc.onmessage=n=>{UA(n.data.key,n.data.fid)}),Nc}function HL(){MA.size===0&&Nc&&(Nc.close(),Nc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="firebase-installations-database",$L=1,kc="firebase-installations-store";let C0=null;function Kv(){return C0||(C0=aw(GL,$L,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(kc)}}})),C0}async function Sm(n,e){const t=Jm(n),a=(await Kv()).transaction(kc,"readwrite"),o=a.objectStore(kc),u=await o.get(t);return await o.put(e,t),await a.done,(!u||u.fid!==e.fid)&&FA(n,e.fid),e}async function VA(n){const e=Jm(n),r=(await Kv()).transaction(kc,"readwrite");await r.objectStore(kc).delete(e),await r.done}async function Zm(n,e){const t=Jm(n),a=(await Kv()).transaction(kc,"readwrite"),o=a.objectStore(kc),u=await o.get(t),c=e(u);return c===void 0?await o.delete(t):await o.put(c,t),await a.done,c&&(!u||u.fid!==c.fid)&&FA(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qv(n){let e;const t=await Zm(n.appConfig,r=>{const a=WL(r),o=YL(n,a);return e=o.registrationPromise,o.installationEntry});return t.fid===w1?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function WL(n){const e=n||{fid:VL(),registrationStatus:0};return BA(e)}function YL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Dc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=KL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QL(n)}:{installationEntry:e}}async function KL(n,e){try{const t=await ML(n,e);return Sm(n.appConfig,t)}catch(t){throw RA(t)&&t.customData.serverCode===409?await VA(n.appConfig):await Sm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function QL(n){let e=await Kb(n.appConfig);for(;e.registrationStatus===1;)await jA(100),e=await Kb(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Qv(n);return r||t}return e}function Kb(n){return Zm(n,e=>{if(!e)throw Dc.create("installation-not-found");return BA(e)})}function BA(n){return XL(n)?{fid:n.fid,registrationStatus:0}:n}function XL(n){return n.registrationStatus===1&&n.registrationTime+NA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL({appConfig:n,heartbeatServiceProvider:e},t){const r=ZL(n,t),a=DL(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const u={installation:{sdkVersion:IA,appId:n.appId}},c={method:"POST",headers:a,body:JSON.stringify(u)},f=await kA(()=>fetch(r,c));if(f.ok){const d=await f.json();return PA(d)}else throw await OA("Generate Auth Token",f)}function ZL(n,{fid:e}){return`${LA(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(n,e=!1){let t;const r=await Zm(n.appConfig,o=>{if(!qA(o))throw Dc.create("not-registered");const u=o.authToken;if(!e&&nP(u))return o;if(u.requestStatus===1)return t=eP(n,e),o;{if(!navigator.onLine)throw Dc.create("app-offline");const c=iP(o);return t=tP(n,c),c}});return t?await t:r.authToken}async function eP(n,e){let t=await Qb(n.appConfig);for(;t.authToken.requestStatus===1;)await jA(100),t=await Qb(n.appConfig);const r=t.authToken;return r.requestStatus===0?Xv(n,e):r}function Qb(n){return Zm(n,e=>{if(!qA(e))throw Dc.create("not-registered");const t=e.authToken;return aP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tP(n,e){try{const t=await JL(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Sm(n.appConfig,r),t}catch(t){if(RA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await VA(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sm(n.appConfig,r)}throw t}}function qA(n){return n!==void 0&&n.registrationStatus===2}function nP(n){return n.requestStatus===2&&!rP(n)}function rP(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+RL}function iP(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function aP(n){return n.requestStatus===1&&n.requestTime+NA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(n){const e=n,{installationEntry:t,registrationPromise:r}=await Qv(e);return r?r.catch(console.error):Xv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(n,e=!1){const t=n;return await lP(t),(await Xv(t,e)).token}async function lP(n){const{registrationPromise:e}=await Qv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n){if(!n||!n.options)throw R0("App Configuration");if(!n.name)throw R0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw R0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function R0(n){return Dc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="installations",cP="installations-internal",hP=n=>{const e=n.getProvider("app").getImmediate(),t=uP(e),r=Mc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fP=n=>{const e=n.getProvider("app").getImmediate(),t=Mc(e,zA).getImmediate();return{getId:()=>sP(t),getToken:a=>oP(t,a)}};function dP(){Yo(new Zs(zA,hP,"PUBLIC")),Yo(new Zs(cP,fP,"PRIVATE"))}dP();ys(xA,Yv);ys(xA,Yv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="analytics",pP="firebase_id",mP="origin",gP=60*1e3,vP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Lm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ya=new jc("analytics","Analytics",yP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){if(!n.startsWith(Jv)){const e=Ya.create("invalid-gtag-resource",{gtagURL:n});return wa.warn(e.message),""}return n}function HA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function _P(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function wP(n,e){const t=_P("firebase-js-sdk-policy",{createScriptURL:bP}),r=document.createElement("script"),a=`${Jv}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function SP(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function AP(n,e,t,r,a,o){const u=r[a];try{if(u)await e[u];else{const f=(await HA(t)).find(d=>d.measurementId===a);f&&await e[f.appId]}}catch(c){wa.error(c)}n("config",a,o)}async function EP(n,e,t,r,a){try{let o=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const c=await HA(t);for(const f of u){const d=c.find(w=>w.measurementId===f),y=d&&e[d.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,a||{})}catch(o){wa.error(o)}}function TP(n,e,t,r){async function a(o,...u){try{if(o==="event"){const[c,f]=u;await EP(n,e,t,c,f)}else if(o==="config"){const[c,f]=u;await AP(n,e,t,r,c,f)}else if(o==="consent"){const[c,f]=u;n("consent",c,f)}else if(o==="get"){const[c,f,d]=u;n("get",c,f,d)}else if(o==="set"){const[c]=u;n("set",c)}else n(o,...u)}catch(c){wa.error(c)}}return a}function xP(n,e,t,r,a){let o=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=TP(o,n,e,t),{gtagCore:o,wrappedGtag:window[a]}}function NP(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Jv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=30,CP=1e3;class RP{constructor(e={},t=CP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const GA=new RP;function LP(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function PP(n){var e;const{appId:t,apiKey:r}=n,a={method:"GET",headers:LP(r)},o=vP.replace("{app-id}",t),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let c="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(c=f.error.message)}catch{}throw Ya.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function OP(n,e=GA,t){const{appId:r,apiKey:a,measurementId:o}=n.options;if(!r)throw Ya.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:r};throw Ya.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new jP;return setTimeout(async()=>{c.abort()},gP),$A({appId:r,apiKey:a,measurementId:o},u,c,e)}async function $A(n,{throttleEndTimeMillis:e,backoffCount:t},r,a=GA){var o;const{appId:u,measurementId:c}=n;try{await DP(r,e)}catch(f){if(c)return wa.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:c};throw f}try{const f=await PP(n);return a.deleteThrottleMetadata(u),f}catch(f){const d=f;if(!kP(d)){if(a.deleteThrottleMetadata(u),c)return wa.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:u,measurementId:c};throw f}const y=Number((o=d==null?void 0:d.customData)===null||o===void 0?void 0:o.httpStatus)===503?_5(t,a.intervalMillis,IP):_5(t,a.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return a.setThrottleMetadata(u,w),wa.debug(`Calling attemptFetch again in ${y} millis`),$A(n,w,r,a)}}function DP(n,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),o=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(o),r(Ya.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kP(n){if(!(n instanceof ao)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class jP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function MP(n,e,t,r,a){if(a&&a.global){n("event",t,r);return}else{const o=await e,u=Object.assign(Object.assign({},r),{send_to:o});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(){if(W1())try{await Y1()}catch(n){return wa.warn(Ya.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return wa.warn(Ya.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function UP(n,e,t,r,a,o,u){var c;const f=OP(n);f.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&wa.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>wa.error(S)),e.push(f);const d=FP().then(S=>{if(S)return r.getId()}),[y,w]=await Promise.all([f,d]);NP(o)||wP(o,y.measurementId),a("js",new Date);const E=(c=u==null?void 0:u.config)!==null&&c!==void 0?c:{};return E[mP]="firebase",E.update=!0,w!=null&&(E[pP]=w),a("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.app=e}_delete(){return delete nd[this.app.options.appId],Promise.resolve()}}let nd={},Xb=[];const Jb={};let L0="dataLayer",BP="gtag",Zb,WA,e_=!1;function qP(){const n=[];if($1()&&n.push("This is a browser extension environment."),nw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=Ya.create("invalid-analytics-context",{errorInfo:e});wa.warn(t.message)}}function zP(n,e,t){qP();const r=n.options.appId;if(!r)throw Ya.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)wa.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ya.create("no-api-key");if(nd[r]!=null)throw Ya.create("already-exists",{id:r});if(!e_){SP(L0);const{wrappedGtag:o,gtagCore:u}=xP(nd,Xb,Jb,L0,BP);WA=o,Zb=u,e_=!0}return nd[r]=UP(n,Xb,Jb,e,Zb,L0,t),new VP(n)}function HP(n=Q1()){n=Er(n);const e=Mc(n,Am);return e.isInitialized()?e.getImmediate():GP(n)}function GP(n,e={}){const t=Mc(n,Am);if(t.isInitialized()){const a=t.getImmediate();if(Uu(e,t.getOptions()))return a;throw Ya.create("already-initialized")}return t.initialize({options:e})}async function $P(){if($1()||!nw()||!W1())return!1;try{return await Y1()}catch{return!1}}function WP(n,e,t,r){n=Er(n),MP(WA,nd[n.app.options.appId],e,t,r).catch(a=>wa.error(a))}const t_="@firebase/analytics",n_="0.10.12";function YP(){Yo(new Zs(Am,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return zP(r,a,t)},"PUBLIC")),Yo(new Zs("analytics-internal",n,"PRIVATE")),ys(t_,n_),ys(t_,n_,"esm2017");function n(e){try{const t=e.getProvider(Am).getImmediate();return{logEvent:(r,a,o)=>WP(t,r,a,o)}}catch(t){throw Ya.create("interop-component-reg-failed",{reason:t})}}}YP();const KP={apiKey:"AIzaSyDLNCeCa_PREn0dP8Pn80wVcVhjMX62Ysc",authDomain:"orcamentosapp.firebaseapp.com",projectId:"orcamentosapp",storageBucket:"orcamentosapp.appspot.com",messagingSenderId:"289304055622",appId:"1:289304055622:web:d137aa9c91e71f42201f47",measurementId:"G-WF81LYWQ4C",databaseURL:"https://orcamentosapp.firebaseio.com"},Zv=sw(KP),kn=mI(Zv),Jn=dL(Zv),YA=new Cl;YA.setCustomParameters({prompt:"select_account"});$P().then(n=>n?HP(Zv):null);console.log("Firebase inicializado com configurao bsica");const KA={title:"Oramento PRO",faviconPath:"/images/FAVEICON-USE.png"};function QP(){document.querySelectorAll("link[rel*='icon']").forEach(o=>o.remove());const e=new Date().getTime(),t=`${KA.faviconPath}?v=${e}`,r=document.createElement("link");r.type="image/png",r.rel="icon",r.href=t,document.head.appendChild(r);const a=document.createElement("link");a.type="image/png",a.rel="shortcut icon",a.href=t,document.head.appendChild(a),console.log("Favicon atualizado:",t)}function XP(n){document.title=KA.title}function e2(n){XP(),QP()}const Qf={notificacoesEmail:!0,temaEscuro:!1,idioma:"pt-BR",formatoMonetario:"BRL"},QA=be.createContext({config:Qf,loading:!0,setConfig:()=>{},applyTheme:()=>{}}),JP=({children:n})=>{const[e,t]=be.useState(Qf),[r,a]=be.useState(!0),o=()=>{e.temaEscuro?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")};return be.useEffect(()=>{const u=Qu(kn,async c=>{if(c)try{const f=Ar(Jn,"users",c.uid),d=await Bl(f);if(d.exists()){const y=d.data();y.configuracoes?t(y.configuracoes):t(Qf)}}catch(f){console.error("Erro ao carregar configuraes:",f),t(Qf)}finally{a(!1)}else t(Qf),a(!1)});return()=>u()},[]),be.useEffect(()=>{o()},[e.temaEscuro]),T.jsx(QA.Provider,{value:{config:e,loading:r,setConfig:t,applyTheme:o},children:n})},t2=()=>be.useContext(QA),ZP=()=>{const[n,e]=be.useState(!1);return T.jsxs("div",{className:"home-container",children:[T.jsxs("header",{className:"home-header",children:[T.jsx("div",{className:"logo",children:T.jsxs("h1",{children:["Oramento",T.jsx("span",{children:"Pro"})]})}),T.jsxs("div",{className:"nav-container",children:[T.jsxs("button",{className:"menu-toggle",onClick:()=>e(!n),children:[T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{})]}),T.jsx("nav",{className:`main-nav ${n?"open":""}`,children:T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx(Zt,{to:"/",children:"Incio"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/recursos",children:"Recursos"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/precos",children:"Preos"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/contato",children:"Contato"})})]})}),T.jsxs("div",{className:"auth-buttons",children:[T.jsx(Zt,{to:"/login",className:"btn btn-secondary",children:"Login"}),T.jsx(Zt,{to:"/cadastro",className:"btn btn-primary",children:"Cadastre-se"})]})]})]}),T.jsxs("section",{className:"hero",children:[T.jsxs("div",{className:"hero-content",children:[T.jsx("h1",{children:"Gere oramentos profissionais em minutos"}),T.jsx("p",{children:"Simplifique seu processo de oramento e impressione seus clientes com documentos de aparncia profissional."}),T.jsxs("div",{className:"hero-buttons",children:[T.jsx(Zt,{to:"/cadastro",className:"btn btn-primary btn-large",children:"Comece Grtis"}),T.jsx(Zt,{to:"/demo",className:"btn btn-outline",children:"Ver Demonstrao"})]})]}),T.jsx("div",{className:"hero-image",children:T.jsx("img",{src:"/images/orcamento-exemplo.svg",alt:"Exemplo de oramento"})})]}),T.jsxs("section",{className:"features",children:[T.jsx("h2",{children:"Recursos que facilitam o seu negcio"}),T.jsxs("div",{className:"features-grid",children:[T.jsxs("div",{className:"feature-card",children:[T.jsx("div",{className:"feature-icon",children:""}),T.jsx("h3",{children:"Oramentos Personalizados"}),T.jsx("p",{children:"Crie oramentos com sua identidade visual e dados da sua empresa."})]}),T.jsxs("div",{className:"feature-card",children:[T.jsx("div",{className:"feature-icon",children:""}),T.jsx("h3",{children:"Sincronizao em Nuvem"}),T.jsx("p",{children:"Acesse seus oramentos em qualquer dispositivo, a qualquer momento."})]}),T.jsxs("div",{className:"feature-card",children:[T.jsx("div",{className:"feature-icon",children:""}),T.jsx("h3",{children:"Compartilhamento Fcil"}),T.jsx("p",{children:"Envie oramentos por e-mail ou WhatsApp diretamente do sistema."})]}),T.jsxs("div",{className:"feature-card",children:[T.jsx("div",{className:"feature-icon",children:""}),T.jsx("h3",{children:"Anlise de Dados"}),T.jsx("p",{children:"Acompanhe quais oramentos so aprovados e rejeitados."})]})]})]}),T.jsxs("section",{className:"testimonials",children:[T.jsx("h2",{children:"O que nossos clientes dizem"}),T.jsx("div",{className:"testimonial-carousel",children:T.jsxs("div",{className:"testimonial-card",children:[T.jsx("p",{children:'"O melhor investimento que fiz para meu negcio. Economizo horas toda semana!"'}),T.jsxs("div",{className:"testimonial-author",children:[T.jsx("img",{src:"/images/avatar1.svg",alt:"Cliente"}),T.jsxs("div",{children:[T.jsx("h4",{children:"Roberto Silva"}),T.jsx("p",{children:"Proprietrio da RS Construes"})]})]})]})})]}),T.jsxs("section",{className:"cta",children:[T.jsx("h2",{children:"Pronto para simplificar seus oramentos?"}),T.jsx("p",{children:"Junte-se a milhares de profissionais que j utilizam o OramentoPro."}),T.jsx(Zt,{to:"/cadastro",className:"btn btn-primary btn-large",children:"Criar Conta Gratuita"})]}),T.jsxs("footer",{className:"footer",children:[T.jsxs("div",{className:"footer-content",children:[T.jsxs("div",{className:"footer-logo",children:[T.jsxs("h2",{children:["Oramento",T.jsx("span",{children:"Pro"})]}),T.jsx("p",{children:"Simplificando oramentos desde 2023"})]}),T.jsxs("div",{className:"footer-links",children:[T.jsxs("div",{className:"footer-column",children:[T.jsx("h4",{children:"Produto"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx(Zt,{to:"/recursos",children:"Recursos"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/precos",children:"Preos"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/demo",children:"Demonstrao"})})]})]}),T.jsxs("div",{className:"footer-column",children:[T.jsx("h4",{children:"Empresa"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx(Zt,{to:"/sobre",children:"Sobre ns"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/contato",children:"Contato"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/carreiras",children:"Carreiras"})})]})]}),T.jsxs("div",{className:"footer-column",children:[T.jsx("h4",{children:"Legal"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx(Zt,{to:"/termos",children:"Termos de Uso"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/privacidade",children:"Privacidade"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/cookies",children:"Cookies"})})]})]})]})]}),T.jsx("div",{className:"footer-bottom",children:T.jsxs("p",{children:[" ",new Date().getFullYear()," OramentoPro. Todos os direitos reservados."]})})]})]})};n6(kn,Ow).catch(n=>{console.error("Erro ao configurar persistncia:",n)});const XA=async()=>{try{console.log("Iniciando login com Google (verso completa)"),kn.currentUser&&(console.log("Usurio j autenticado, desconectando primeiro"),await kn.signOut());const e=(await E6(kn,YA)).user;if(!e)return console.log("Login no concludo ou cancelado pelo usurio"),null;console.log("Login com Google bem-sucedido:",e.uid),console.log("Nome do usurio:",e.displayName),console.log("Email do usurio:",e.email);const t=kn.currentUser;if(!t)return console.error("Usurio logado mas auth.currentUser  null"),e;console.log("Usurio autenticado:",t.uid);try{console.log("Obtendo token atualizado...");const r=await e.getIdToken(!0);console.log("Token atualizado obtido com sucesso:",!!r),console.log("Aguardando processamento do token..."),await new Promise(u=>setTimeout(u,2e3)),console.log("Preparando dados do usurio para salvar no Firestore");const a={nome:e.displayName||"Usurio",email:e.email||"",empresa:"Minha Empresa",ultimoLogin:new Date().toISOString(),criadoEm:new Date().toISOString()},o=Ar(Jn,"users",e.uid);console.log("Verificando se usurio j existe no Firestore...");try{(await Bl(o)).exists()?(console.log("Usurio j existe, atualizando apenas dados de login"),await Ic(o,{nome:a.nome,email:a.email,ultimoLogin:a.ultimoLogin},{merge:!0})):(console.log("Novo usurio, criando documento completo"),await Ic(o,a)),console.log("Dados do usurio salvos/atualizados com sucesso")}catch(u){throw console.error("Erro ao acessar/verificar documento:",u),u}}catch(r){const a=r;console.error("Erro ao acessar Firestore:",a),console.error("Detalhes do erro:",{code:a.code,message:a.message,name:a.name,stack:a.stack}),console.log("Continuando apesar do erro do Firestore")}return console.log("Login finalizado com sucesso"),e}catch(n){console.error("Erro ao fazer login com Google:",n);const e=n;return e&&e.code&&(console.error("Cdigo do erro:",e.code),console.error("Mensagem do erro:",e.message)),null}},e8=()=>{const[n,e]=be.useState(""),[t,r]=be.useState(""),[a,o]=be.useState(""),[u,c]=be.useState(!1),f=io(),d=zl();be.useEffect(()=>{const E=d.state;E!=null&&E.email&&(console.log("Email recebido da tela de cadastro:",E.email),e(E.email),setTimeout(()=>{const S=document.getElementById("password");S&&S.focus()},100))},[d]);const y=async E=>{E.preventDefault(),o(""),c(!0),console.log("Iniciando login com email/senha");try{console.log("Tentando login direto"),await ZN(kn,n,t),console.log("Login bem-sucedido, redirecionando para dashboard"),f("/dashboard")}catch(S){console.error("Erro durante login:",S);let L="Falha na autenticao. Tente novamente.";const D=S;D.code==="auth/user-not-found"?L="Este email no est cadastrado.":D.code==="auth/wrong-password"?L="Senha incorreta. Tente novamente.":D.code==="auth/too-many-requests"?L="Muitas tentativas. Tente mais tarde ou redefina sua senha.":D.code==="auth/invalid-credential"?L="Credenciais invlidas. Verifique seu email e senha.":D.code==="auth/network-request-failed"&&(L="Problema de conexo com o servidor. Verifique sua internet."),o(L),console.log("Erro tratado:",L)}finally{c(!1)}},w=async()=>{o(""),c(!0);try{await XA()?(console.log("Login com Google bem-sucedido, redirecionando"),f("/dashboard")):o("Falha ao fazer login com Google. Tente novamente.")}catch(E){console.error("Erro ao fazer login com Google:",E);let S="Erro ao fazer login com Google. Tente novamente.";const L=E;L.code==="auth/popup-closed-by-user"?S="Voc fechou a janela de login do Google.":L.code==="auth/network-request-failed"&&(S="Problema de conexo com o servidor. Verifique sua internet."),o(S)}finally{c(!1)}};return T.jsx("div",{className:"auth-container",children:T.jsxs("div",{className:"auth-card",children:[T.jsxs("div",{className:"auth-header",children:[T.jsx("h2",{children:"Login"}),T.jsx("p",{children:"Faa login para acessar seus oramentos"})]}),a&&T.jsx("div",{className:"auth-error",children:a}),T.jsxs("form",{onSubmit:y,className:"auth-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:n,onChange:E=>e(E.target.value),required:!0,placeholder:"seu@email.com"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"password",children:"Senha"}),T.jsx("input",{type:"password",id:"password",value:t,onChange:E=>r(E.target.value),required:!0,placeholder:""})]}),T.jsx("div",{className:"form-footer",children:T.jsx(Zt,{to:"/esqueci-senha",className:"forgot-password",children:"Esqueceu a senha?"})}),T.jsx("button",{type:"submit",className:"auth-button",disabled:u,children:u?"Entrando...":"Entrar"})]}),T.jsx("div",{className:"auth-divider",children:T.jsx("span",{children:"ou"})}),T.jsxs("button",{onClick:w,className:"google-button",disabled:u,children:[T.jsx("img",{src:"/images/google-icon.svg",alt:"Google"}),"Entrar com Google"]}),T.jsx("div",{className:"auth-footer",children:T.jsxs("p",{children:["No tem uma conta? ",T.jsx(Zt,{to:"/cadastro",children:"Cadastre-se"})]})})]})})},t8=()=>{const[n,e]=be.useState(""),[t,r]=be.useState(""),[a,o]=be.useState(""),[u,c]=be.useState(""),[f,d]=be.useState(""),[y,w]=be.useState(!1),E=io(),S=async D=>{D.preventDefault(),d(""),w(!0),console.log("Iniciando cadastro com email/senha");try{if(!n||!t||!a||!u){d("Todos os campos so obrigatrios"),w(!1);return}if(a.length<6){d("A senha precisa ter pelo menos 6 caracteres"),w(!1);return}console.log("Criando usurio no Firebase Auth");const k=(await JN(kn,t,a)).user;console.log("Usurio criado com sucesso:",k.uid);try{console.log("Atualizando perfil com nome"),await t6(k,{displayName:n}),console.log("Perfil atualizado com sucesso")}catch(W){console.error("Erro ao atualizar perfil (no crtico):",W)}try{console.log("Salvando dados no Firestore"),await Ic(Ar(Jn,"users",k.uid),{nome:n,email:t,empresa:u,criadoEm:new Date}),console.log("Dados salvos com sucesso")}catch(W){console.error("Erro ao salvar no Firestore (no crtico):",W)}console.log("Cadastro concludo com sucesso"),console.log("Redirecionando para o dashboard"),E("/dashboard")}catch(V){console.error("Erro no cadastro:",V);let k="Falha no cadastro. Tente novamente.";const W=V;if(W.code==="auth/email-already-in-use"){k="Este email j est cadastrado. Deseja fazer login?",d(k),setTimeout(()=>{const ee=document.querySelector(".auth-error");if(ee&&!ee.querySelector(".btn-error-action")){const le=document.createElement("button");le.textContent="Ir para Login",le.className="btn-error-action",le.onclick=()=>E("/login",{state:{email:t}}),ee.appendChild(le)}},100),w(!1);return}else W.code==="auth/weak-password"?k="A senha precisa ter pelo menos 6 caracteres.":W.code==="auth/invalid-email"?k="Email invlido.":W.code==="auth/network-request-failed"?k="Erro de conexo. Verifique sua internet e tente novamente.":W.message&&(k=W.message);d(k),console.error("Erro tratado:",k)}finally{w(!1)}},L=async()=>{d(""),w(!0),console.log("Iniciando cadastro com Google");try{const D=await XA();if(console.log("Resultado do login Google:",D?"Sucesso":"Falha"),D){try{console.log("Salvando dados no Firestore"),await Ic(Ar(Jn,"users",D.uid),{nome:D.displayName||"Usurio",email:D.email||"",empresa:u||"Minha Empresa",criadoEm:new Date},{merge:!0}),console.log("Dados salvos com sucesso")}catch(V){console.error("Erro ao salvar dados do usurio:",V)}console.log("Verificando estado de autenticao aps Google login"),kn.currentUser?(console.log("Usurio Google autenticado:",kn.currentUser.uid),console.log("Redirecionando para o dashboard"),E("/dashboard")):(console.log("Usurio Google no est autenticado, aguardando..."),setTimeout(()=>{kn.currentUser?(console.log("Usurio Google autenticado aps delay:",kn.currentUser.uid),E("/dashboard")):(console.log("Falha na autenticao Google, redirecionando para o login"),E("/login"))},1e3))}else d("No foi possvel completar o cadastro com Google. Tente novamente.")}catch(D){console.error("Erro no cadastro com Google:",D);let V="Erro ao fazer cadastro com Google. Tente novamente.";D.message&&(V=D.message),d(V)}finally{w(!1)}};return T.jsx("div",{className:"auth-container",children:T.jsxs("div",{className:"auth-card",children:[T.jsxs("div",{className:"auth-header",children:[T.jsx("h2",{children:"Cadastre-se"}),T.jsx("p",{children:"Crie sua conta para gerar oramentos profissionais"})]}),f&&T.jsx("div",{className:"auth-error",children:f}),T.jsxs("form",{onSubmit:S,className:"auth-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"nome",children:"Nome completo"}),T.jsx("input",{type:"text",id:"nome",value:n,onChange:D=>e(D.target.value),required:!0,placeholder:"Seu nome"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"empresa",children:"Nome da sua empresa"}),T.jsx("input",{type:"text",id:"empresa",value:u,onChange:D=>c(D.target.value),required:!0,placeholder:"Sua empresa"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"Email"}),T.jsx("input",{type:"email",id:"email",value:t,onChange:D=>r(D.target.value),required:!0,placeholder:"seu@email.com"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"password",children:"Senha"}),T.jsx("input",{type:"password",id:"password",value:a,onChange:D=>o(D.target.value),required:!0,placeholder:"Mnimo 6 caracteres",minLength:6})]}),T.jsx("button",{type:"submit",className:"auth-button",disabled:y,children:y?"Cadastrando...":"Cadastrar"})]}),T.jsx("div",{className:"auth-divider",children:T.jsx("span",{children:"ou"})}),T.jsxs("button",{onClick:L,className:"google-button",disabled:y,children:[T.jsx("img",{src:"/images/google-icon.svg",alt:"Google"}),"Cadastrar com Google"]}),T.jsx("div",{className:"auth-footer",children:T.jsxs("p",{children:["J tem uma conta? ",T.jsx(Zt,{to:"/login",children:"Faa login"})]})})]})})},n8="modulepreload",r8=function(n){return"/"+n},r_={},S1=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=u(t.map(d=>{if(d=r8(d),d in r_)return;r_[d]=!0;const y=d.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":n8,y||(E.as="script"),E.crossOrigin="",E.href=d,f&&E.setAttribute("nonce",f),document.head.appendChild(E),y)return new Promise((S,L)=>{E.addEventListener("load",S),E.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function jn(n){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(n)}var $i=Uint8Array,Wa=Uint16Array,n2=Int32Array,eg=new $i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tg=new $i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A1=new $i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JA=function(n,e){for(var t=new Wa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new n2(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},ZA=JA(eg,2),eE=ZA.b,E1=ZA.r;eE[28]=258,E1[258]=28;var tE=JA(tg,0),i8=tE.b,i_=tE.r,T1=new Wa(32768);for(var Zn=0;Zn<32768;++Zn){var Iu=(Zn&43690)>>1|(Zn&21845)<<1;Iu=(Iu&52428)>>2|(Iu&13107)<<2,Iu=(Iu&61680)>>4|(Iu&3855)<<4,T1[Zn]=((Iu&65280)>>8|(Iu&255)<<8)>>1}var Wo=function(n,e,t){for(var r=n.length,a=0,o=new Wa(e);a<r;++a)n[a]&&++o[n[a]-1];var u=new Wa(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(t){c=new Wa(1<<e);var f=15-e;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],y=e-n[a],w=u[n[a]-1]++<<y,E=w|(1<<y)-1;w<=E;++w)c[T1[w]>>f]=d}else for(c=new Wa(r),a=0;a<r;++a)n[a]&&(c[a]=T1[u[n[a]-1]++]>>15-n[a]);return c},$u=new $i(288);for(var Zn=0;Zn<144;++Zn)$u[Zn]=8;for(var Zn=144;Zn<256;++Zn)$u[Zn]=9;for(var Zn=256;Zn<280;++Zn)$u[Zn]=7;for(var Zn=280;Zn<288;++Zn)$u[Zn]=8;var gd=new $i(32);for(var Zn=0;Zn<32;++Zn)gd[Zn]=5;var a8=Wo($u,9,0),s8=Wo($u,9,1),o8=Wo(gd,5,0),l8=Wo(gd,5,1),P0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ws=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},O0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},r2=function(n){return(n+7)/8|0},nE=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new $i(n.subarray(e,t))},u8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ks=function(n,e,t){var r=new Error(e||u8[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Ks),!t)throw r;return r},c8=function(n,e,t,r){var a=n.length,o=0;if(!a||e.f&&!e.l)return t||new $i(0);var u=!t,c=u||e.i!=2,f=e.i;u&&(t=new $i(a*3));var d=function(Ke){var tt=t.length;if(Ke>tt){var nt=new $i(Math.max(tt*2,Ke));nt.set(t),t=nt}},y=e.f||0,w=e.p||0,E=e.b||0,S=e.l,L=e.d,D=e.m,V=e.n,k=a*8;do{if(!S){y=Ws(n,w,1);var W=Ws(n,w+1,3);if(w+=3,W)if(W==1)S=s8,L=l8,D=9,V=5;else if(W==2){var Ne=Ws(n,w,31)+257,U=Ws(n,w+10,15)+4,N=Ne+Ws(n,w+5,31)+1;w+=14;for(var j=new $i(N),G=new $i(19),C=0;C<U;++C)G[A1[C]]=Ws(n,w+C*3,7);w+=U*3;for(var P=P0(G),M=(1<<P)-1,se=Wo(G,P,1),C=0;C<N;){var Ie=se[Ws(n,w,M)];w+=Ie&15;var ee=Ie>>4;if(ee<16)j[C++]=ee;else{var te=0,fe=0;for(ee==16?(fe=3+Ws(n,w,3),w+=2,te=j[C-1]):ee==17?(fe=3+Ws(n,w,7),w+=3):ee==18&&(fe=11+Ws(n,w,127),w+=7);fe--;)j[C++]=te}}var he=j.subarray(0,Ne),Ce=j.subarray(Ne);D=P0(he),V=P0(Ce),S=Wo(he,D,1),L=Wo(Ce,V,1)}else Ks(1);else{var ee=r2(w)+4,le=n[ee-4]|n[ee-3]<<8,ce=ee+le;if(ce>a){f&&Ks(0);break}c&&d(E+le),t.set(n.subarray(ee,ce),E),e.b=E+=le,e.p=w=ce*8,e.f=y;continue}if(w>k){f&&Ks(0);break}}c&&d(E+131072);for(var J=(1<<D)-1,Te=(1<<V)-1,O=w;;O=w){var te=S[O0(n,w)&J],z=te>>4;if(w+=te&15,w>k){f&&Ks(0);break}if(te||Ks(2),z<256)t[E++]=z;else if(z==256){O=w,S=null;break}else{var X=z-254;if(z>264){var C=z-257,ie=eg[C];X=Ws(n,w,(1<<ie)-1)+eE[C],w+=ie}var ae=L[O0(n,w)&Te],_e=ae>>4;ae||Ks(3),w+=ae&15;var Ce=i8[_e];if(_e>3){var ie=tg[_e];Ce+=O0(n,w)&(1<<ie)-1,w+=ie}if(w>k){f&&Ks(0);break}c&&d(E+131072);var pe=E+X;if(E<Ce){var Ee=o-Ce,Je=Math.min(Ce,pe);for(Ee+E<0&&Ks(3);E<Je;++E)t[E]=r[Ee+E]}for(;E<pe;++E)t[E]=t[E-Ce]}}e.l=S,e.p=O,e.b=E,e.f=y,S&&(y=1,e.m=D,e.d=L,e.n=V)}while(!y);return E!=t.length&&u?nE(t,0,E):t.subarray(0,E)},Il=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},qf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},D0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:iE,l:0};if(a==1){var u=new $i(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(ce,Ne){return ce.f-Ne.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,y=1,w=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};y!=a-1;)c=t[t[d].f<t[w].f?d++:w++],f=t[d!=y&&t[d].f<t[w].f?d++:w++],t[y++]={s:-1,f:c.f+f.f,l:c,r:f};for(var E=o[0].s,r=1;r<a;++r)o[r].s>E&&(E=o[r].s);var S=new Wa(E+1),L=x1(t[y-1],S,0);if(L>e){var r=0,D=0,V=L-e,k=1<<V;for(o.sort(function(Ne,U){return S[U.s]-S[Ne.s]||Ne.f-U.f});r<a;++r){var W=o[r].s;if(S[W]>e)D+=k-(1<<L-S[W]),S[W]=e;else break}for(D>>=V;D>0;){var ee=o[r].s;S[ee]<e?D-=1<<e-S[ee]++-1:++r}for(;r>=0&&D;--r){var le=o[r].s;S[le]==e&&(--S[le],++D)}L=e}return{t:new $i(S),l:L}},x1=function(n,e,t){return n.s==-1?Math.max(x1(n.l,e,t+1),x1(n.r,e,t+1)):e[n.s]=t},a_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Wa(++e),r=0,a=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[c]}return{c:t.subarray(0,r),n:e}},zf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},rE=function(n,e,t){var r=t.length,a=r2(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},s_=function(n,e,t,r,a,o,u,c,f,d,y){Il(e,y++,t),++a[256];for(var w=D0(a,15),E=w.t,S=w.l,L=D0(o,15),D=L.t,V=L.l,k=a_(E),W=k.c,ee=k.n,le=a_(D),ce=le.c,Ne=le.n,U=new Wa(19),N=0;N<W.length;++N)++U[W[N]&31];for(var N=0;N<ce.length;++N)++U[ce[N]&31];for(var j=D0(U,7),G=j.t,C=j.l,P=19;P>4&&!G[A1[P-1]];--P);var M=d+5<<3,se=zf(a,$u)+zf(o,gd)+u,Ie=zf(a,E)+zf(o,D)+u+14+3*P+zf(U,G)+2*U[16]+3*U[17]+7*U[18];if(f>=0&&M<=se&&M<=Ie)return rE(e,y,n.subarray(f,f+d));var te,fe,he,Ce;if(Il(e,y,1+(Ie<se)),y+=2,Ie<se){te=Wo(E,S,0),fe=E,he=Wo(D,V,0),Ce=D;var J=Wo(G,C,0);Il(e,y,ee-257),Il(e,y+5,Ne-1),Il(e,y+10,P-4),y+=14;for(var N=0;N<P;++N)Il(e,y+3*N,G[A1[N]]);y+=3*P;for(var Te=[W,ce],O=0;O<2;++O)for(var z=Te[O],N=0;N<z.length;++N){var X=z[N]&31;Il(e,y,J[X]),y+=G[X],X>15&&(Il(e,y,z[N]>>5&127),y+=z[N]>>12)}}else te=a8,fe=$u,he=o8,Ce=gd;for(var N=0;N<c;++N){var ie=r[N];if(ie>255){var X=ie>>18&31;qf(e,y,te[X+257]),y+=fe[X+257],X>7&&(Il(e,y,ie>>23&31),y+=eg[X]);var ae=ie&31;qf(e,y,he[ae]),y+=Ce[ae],ae>3&&(qf(e,y,ie>>5&8191),y+=tg[ae])}else qf(e,y,te[ie]),y+=fe[ie]}return qf(e,y,te[256]),y+fe[256]},h8=new n2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iE=new $i(0),f8=function(n,e,t,r,a,o){var u=o.z||n.length,c=new $i(r+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,y=(o.r||0)&7;if(e){y&&(f[0]=o.r>>3);for(var w=h8[e-1],E=w>>13,S=w&8191,L=(1<<t)-1,D=o.p||new Wa(32768),V=o.h||new Wa(L+1),k=Math.ceil(t/3),W=2*k,ee=function(wt){return(n[wt]^n[wt+1]<<k^n[wt+2]<<W)&L},le=new n2(25e3),ce=new Wa(288),Ne=new Wa(32),U=0,N=0,j=o.i||0,G=0,C=o.w||0,P=0;j+2<u;++j){var M=ee(j),se=j&32767,Ie=V[M];if(D[se]=Ie,V[M]=se,C<=j){var te=u-j;if((U>7e3||G>24576)&&(te>423||!d)){y=s_(n,f,0,le,ce,Ne,N,G,P,j-P,y),G=U=N=0,P=j;for(var fe=0;fe<286;++fe)ce[fe]=0;for(var fe=0;fe<30;++fe)Ne[fe]=0}var he=2,Ce=0,J=S,Te=se-Ie&32767;if(te>2&&M==ee(j-Te))for(var O=Math.min(E,te)-1,z=Math.min(32767,j),X=Math.min(258,te);Te<=z&&--J&&se!=Ie;){if(n[j+he]==n[j+he-Te]){for(var ie=0;ie<X&&n[j+ie]==n[j+ie-Te];++ie);if(ie>he){if(he=ie,Ce=Te,ie>O)break;for(var ae=Math.min(Te,ie-2),_e=0,fe=0;fe<ae;++fe){var pe=j-Te+fe&32767,Ee=D[pe],Je=pe-Ee&32767;Je>_e&&(_e=Je,Ie=pe)}}}se=Ie,Ie=D[se],Te+=se-Ie&32767}if(Ce){le[G++]=268435456|E1[he]<<18|i_[Ce];var Ke=E1[he]&31,tt=i_[Ce]&31;N+=eg[Ke]+tg[tt],++ce[257+Ke],++Ne[tt],C=j+he,++U}else le[G++]=n[j],++ce[n[j]]}}for(j=Math.max(j,C);j<u;++j)le[G++]=n[j],++ce[n[j]];y=s_(n,f,d,le,ce,Ne,N,G,P,j-P,y),d||(o.r=y&7|f[y/8|0]<<3,y-=7,o.h=V,o.p=D,o.i=j,o.w=C)}else{for(var j=o.w||0;j<u+d;j+=65535){var nt=j+65535;nt>=u&&(f[y/8|0]=d,nt=u),y=rE(f,y+1,n.subarray(j,nt))}o.i=u}return nE(c,0,r+r2(y)+a)},aE=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=r+=t[u];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},d8=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new $i(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return f8(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},sE=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},p8=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=aE();a.p(e.dictionary),sE(n,2,a.d())}},m8=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ks(6,"invalid zlib data"),(n[1]>>5&1)==1&&Ks(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function N1(n,e){e||(e={});var t=aE();t.p(n);var r=d8(n,e,e.dictionary?6:2,4);return p8(r,e),sE(r,r.length-4,t.d()),r}function g8(n,e){return c8(n.subarray(m8(n),-4),{i:2},e,e)}var v8=typeof TextDecoder<"u"&&new TextDecoder,y8=0;try{v8.decode(iE,{stream:!0}),y8=1}catch{}var Dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function k0(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var $n={log:k0,warn:function(n){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):k0.call(null,arguments))},error:function(n){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):k0(n))}};function j0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ac(r.response,e,t)},r.onerror=function(){$n.error("could not download file")},r.send()}function o_(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Op(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var rd,I1,Ac=Dt.saveAs||((typeof window>"u"?"undefined":jn(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Dt.URL||Dt.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?o_(a.href)?j0(n,e,t):Op(a,a.target="_blank"):Op(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Op(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(o_(n))j0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Op(r)})}else navigator.msSaveOrOpenBlob(function(a,o){return o===void 0?o={autoBom:!1}:jn(o)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return j0(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(Dt.HTMLElement)||Dt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":jn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var y=c.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},c.readAsDataURL(n)}else{var f=Dt.URL||Dt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oE(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function M0(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=Vi(t,r,a,o,e[0],7,-680876936),o=Vi(o,t,r,a,e[1],12,-389564586),a=Vi(a,o,t,r,e[2],17,606105819),r=Vi(r,a,o,t,e[3],22,-1044525330),t=Vi(t,r,a,o,e[4],7,-176418897),o=Vi(o,t,r,a,e[5],12,1200080426),a=Vi(a,o,t,r,e[6],17,-1473231341),r=Vi(r,a,o,t,e[7],22,-45705983),t=Vi(t,r,a,o,e[8],7,1770035416),o=Vi(o,t,r,a,e[9],12,-1958414417),a=Vi(a,o,t,r,e[10],17,-42063),r=Vi(r,a,o,t,e[11],22,-1990404162),t=Vi(t,r,a,o,e[12],7,1804603682),o=Vi(o,t,r,a,e[13],12,-40341101),a=Vi(a,o,t,r,e[14],17,-1502002290),t=Bi(t,r=Vi(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Bi(o,t,r,a,e[6],9,-1069501632),a=Bi(a,o,t,r,e[11],14,643717713),r=Bi(r,a,o,t,e[0],20,-373897302),t=Bi(t,r,a,o,e[5],5,-701558691),o=Bi(o,t,r,a,e[10],9,38016083),a=Bi(a,o,t,r,e[15],14,-660478335),r=Bi(r,a,o,t,e[4],20,-405537848),t=Bi(t,r,a,o,e[9],5,568446438),o=Bi(o,t,r,a,e[14],9,-1019803690),a=Bi(a,o,t,r,e[3],14,-187363961),r=Bi(r,a,o,t,e[8],20,1163531501),t=Bi(t,r,a,o,e[13],5,-1444681467),o=Bi(o,t,r,a,e[2],9,-51403784),a=Bi(a,o,t,r,e[7],14,1735328473),t=qi(t,r=Bi(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=qi(o,t,r,a,e[8],11,-2022574463),a=qi(a,o,t,r,e[11],16,1839030562),r=qi(r,a,o,t,e[14],23,-35309556),t=qi(t,r,a,o,e[1],4,-1530992060),o=qi(o,t,r,a,e[4],11,1272893353),a=qi(a,o,t,r,e[7],16,-155497632),r=qi(r,a,o,t,e[10],23,-1094730640),t=qi(t,r,a,o,e[13],4,681279174),o=qi(o,t,r,a,e[0],11,-358537222),a=qi(a,o,t,r,e[3],16,-722521979),r=qi(r,a,o,t,e[6],23,76029189),t=qi(t,r,a,o,e[9],4,-640364487),o=qi(o,t,r,a,e[12],11,-421815835),a=qi(a,o,t,r,e[15],16,530742520),t=zi(t,r=qi(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=zi(o,t,r,a,e[7],10,1126891415),a=zi(a,o,t,r,e[14],15,-1416354905),r=zi(r,a,o,t,e[5],21,-57434055),t=zi(t,r,a,o,e[12],6,1700485571),o=zi(o,t,r,a,e[3],10,-1894986606),a=zi(a,o,t,r,e[10],15,-1051523),r=zi(r,a,o,t,e[1],21,-2054922799),t=zi(t,r,a,o,e[8],6,1873313359),o=zi(o,t,r,a,e[15],10,-30611744),a=zi(a,o,t,r,e[6],15,-1560198380),r=zi(r,a,o,t,e[13],21,1309151649),t=zi(t,r,a,o,e[4],6,-145523070),o=zi(o,t,r,a,e[11],10,-1120210379),a=zi(a,o,t,r,e[2],15,718787259),r=zi(r,a,o,t,e[9],21,-343485551),n[0]=Du(t,n[0]),n[1]=Du(r,n[1]),n[2]=Du(a,n[2]),n[3]=Du(o,n[3])}function ng(n,e,t,r,a,o){return e=Du(Du(e,n),Du(r,o)),Du(e<<a|e>>>32-a,t)}function Vi(n,e,t,r,a,o,u){return ng(e&t|~e&r,n,e,a,o,u)}function Bi(n,e,t,r,a,o,u){return ng(e&r|t&~r,n,e,a,o,u)}function qi(n,e,t,r,a,o,u){return ng(e^t^r,n,e,a,o,u)}function zi(n,e,t,r,a,o,u){return ng(t^(e|~r),n,e,a,o,u)}function lE(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)M0(r,b8(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(M0(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,M0(r,a),r}function b8(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}rd=Dt.atob.bind(Dt),I1=Dt.btoa.bind(Dt);var l_="0123456789abcdef".split("");function _8(n){for(var e="",t=0;t<4;t++)e+=l_[n>>8*t+4&15]+l_[n>>8*t&15];return e}function w8(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function C1(n){return lE(n).map(w8).join("")}var S8=function(n){for(var e=0;e<n.length;e++)n[e]=_8(n[e]);return n.join("")}(lE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Du(n,e){if(S8){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function R1(n,e){var t,r,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length>>0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var y=c[f];d=(d+y+u.charCodeAt(f))%256,c[f]=c[d],c[d]=y}t=n,r=c}else c=r;var w=e.length,E=0,S=0,L="";for(f=0;f<w;f++)S=(S+(y=c[E=(E+1)%256]))%256,c[E]=c[S],c[S]=y,u=c[(c[E]+c[S])%256],L+=String.fromCharCode(e.charCodeAt(f)^u);return L}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var u_={print:4,modify:8,copy:16,"annot-forms":32};function Ah(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(u_.perm!==void 0)throw new Error("Invalid permission: "+c);a+=u_[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=C1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=R1(this.encryptionKey,this.padding)}function Eh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=n[r]}return e}function c_(n){if(jn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){Dt.console&&$n.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Em(n){if(!(this instanceof Em))return new Em(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function uE(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ec(n,e,t,r,a){if(!(this instanceof Ec))return new Ec(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,uE.call(this,r,a)}function Th(n,e,t,r,a){if(!(this instanceof Th))return new Th(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,uE.call(this,r,a)}function Pt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",y=null;jn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,E={},S={internal:{},__private__:{}};S.__private__.PubSub=c_;var L="1.3",D=S.__private__.getPdfVersion=function(){return L};S.__private__.setPdfVersion=function(_){L=_};var V={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};S.__private__.getPageFormats=function(){return V};var k=S.__private__.getPageFormat=function(_){return V[_]};a=a||"a4";var W={COMPAT:"compat",ADVANCED:"advanced"},ee=W.COMPAT;function le(){this.saveGraphicsState(),oe(new ut(lt,0,0,-lt,0,li()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),d="n",ee=W.ADVANCED}function ce(){this.restoreGraphicsState(),d="S",ee=W.COMPAT}var Ne=S.__private__.combineFontStyleAndFontWeight=function(_,q){if(_=="bold"&&q=="normal"||_=="bold"&&q==400||_=="normal"&&q=="italic"||_=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(_=q==400||q==="normal"?_==="italic"?"italic":"normal":q!=700&&q!=="bold"||_!=="normal"?(q==700?"bold":q)+""+_:"bold"),_};S.advancedAPI=function(_){var q=ee===W.COMPAT;return q&&le.call(this),typeof _!="function"||(_(this),q&&ce.call(this)),this},S.compatAPI=function(_){var q=ee===W.ADVANCED;return q&&ce.call(this),typeof _!="function"||(_(this),q&&le.call(this)),this},S.isAdvancedAPI=function(){return ee===W.ADVANCED};var U,N=function(_){if(ee!==W.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=S.roundToPrecision=S.__private__.roundToPrecision=function(_,q){var re=e||q;if(isNaN(_)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(re).replace(/0+$/,"")};U=S.hpf=S.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return j(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return j(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return j(_,16)};var G=S.f2=S.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return j(_,2)},C=S.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return j(_,3)},P=S.scale=S.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return ee===W.COMPAT?_*lt:ee===W.ADVANCED?_:void 0},M=function(_){return ee===W.COMPAT?li()-_:ee===W.ADVANCED?_:void 0},se=function(_){return P(M(_))};S.__private__.setPrecision=S.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var Ie,te="00000000000000000000000000000000",fe=S.__private__.getFileId=function(){return te},he=S.__private__.setFileId=function(_){return te=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Ln=new Ah(y.userPermissions,y.userPassword,y.ownerPassword,te)),te};S.setFileId=function(_){return he(_),this},S.getFileId=function(){return fe()};var Ce=S.__private__.convertDateToPDFDate=function(_){var q=_.getTimezoneOffset(),re=q<0?"+":"-",de=Math.floor(Math.abs(q/60)),Se=Math.abs(q%60),Fe=[re,X(de),"'",X(Se),"'"].join("");return["D:",_.getFullYear(),X(_.getMonth()+1),X(_.getDate()),X(_.getHours()),X(_.getMinutes()),X(_.getSeconds()),Fe].join("")},J=S.__private__.convertPDFDateToDate=function(_){var q=parseInt(_.substr(2,4),10),re=parseInt(_.substr(6,2),10)-1,de=parseInt(_.substr(8,2),10),Se=parseInt(_.substr(10,2),10),Fe=parseInt(_.substr(12,2),10),Qe=parseInt(_.substr(14,2),10);return new Date(q,re,de,Se,Fe,Qe,0)},Te=S.__private__.setCreationDate=function(_){var q;if(_===void 0&&(_=new Date),_ instanceof Date)q=Ce(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=_}return Ie=q},O=S.__private__.getCreationDate=function(_){var q=Ie;return _==="jsDate"&&(q=J(Ie)),q};S.setCreationDate=function(_){return Te(_),this},S.getCreationDate=function(_){return O(_)};var z,X=S.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=S.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ae=0,_e=[],pe=[],Ee=0,Je=[],Ke=[],tt=!1,nt=pe,wt=function(){ae=0,Ee=0,pe=[],_e=[],Je=[],mi=nr(),Ur=nr()};S.__private__.setCustomOutputDestination=function(_){tt=!0,nt=_};var Ue=function(_){tt||(nt=_)};S.__private__.resetCustomOutputDestination=function(){tt=!1,nt=pe};var oe=S.__private__.out=function(_){return _=_.toString(),Ee+=_.length+1,nt.push(_),nt},At=S.__private__.write=function(_){return oe(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},dt=S.__private__.getArrayBuffer=function(_){for(var q=_.length,re=new ArrayBuffer(q),de=new Uint8Array(re);q--;)de[q]=_.charCodeAt(q);return re},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];S.__private__.getStandardFonts=function(){return Ze};var et=n.fontSize||16;S.__private__.setFontSize=S.setFontSize=function(_){return et=ee===W.ADVANCED?_/lt:_,this};var st,ot=S.__private__.getFontSize=S.getFontSize=function(){return ee===W.COMPAT?et:et*lt},yt=n.R2L||!1;S.__private__.setR2L=S.setR2L=function(_){return yt=_,this},S.__private__.getR2L=S.getR2L=function(){return yt};var Rt,Ft=S.__private__.setZoomMode=function(_){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))st=_;else if(isNaN(_)){if(q.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');st=_}else st=parseInt(_,10)};S.__private__.getZoomMode=function(){return st};var bt,vt=S.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Rt=_};S.__private__.getPageMode=function(){return Rt};var Ht=S.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');bt=_};S.__private__.getLayoutMode=function(){return bt},S.__private__.setDisplayMode=S.setDisplayMode=function(_,q,re){return Ft(_),Ht(q),vt(re),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};S.__private__.getDocumentProperty=function(_){if(Object.keys(pt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[_]},S.__private__.getDocumentProperties=function(){return pt},S.__private__.setDocumentProperties=S.setProperties=S.setDocumentProperties=function(_){for(var q in pt)pt.hasOwnProperty(q)&&_[q]&&(pt[q]=_[q]);return this},S.__private__.setDocumentProperty=function(_,q){if(Object.keys(pt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[_]=q};var Gt,lt,er,Yt,Wr,Qt={},Tn={},ri=[],on={},Aa={},Mn={},Tr={},Yr=null,Fn=0,Et=[],ln=new c_(S),xi=n.hotfixes||[],tr={},Kr={},Yi=[],ut=function _(q,re,de,Se,Fe,Qe){if(!(this instanceof _))return new _(q,re,de,Se,Fe,Qe);isNaN(q)&&(q=1),isNaN(re)&&(re=0),isNaN(de)&&(de=0),isNaN(Se)&&(Se=1),isNaN(Fe)&&(Fe=0),isNaN(Qe)&&(Qe=0),this._matrix=[q,re,de,Se,Fe,Qe]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(_)},ut.prototype.multiply=function(_){var q=_.sx*this.sx+_.shy*this.shx,re=_.sx*this.shy+_.shy*this.sy,de=_.shx*this.sx+_.sy*this.shx,Se=_.shx*this.shy+_.sy*this.sy,Fe=_.tx*this.sx+_.ty*this.shx+this.tx,Qe=_.tx*this.shy+_.ty*this.sy+this.ty;return new ut(q,re,de,Se,Fe,Qe)},ut.prototype.decompose=function(){var _=this.sx,q=this.shy,re=this.shx,de=this.sy,Se=this.tx,Fe=this.ty,Qe=Math.sqrt(_*_+q*q),it=(_/=Qe)*re+(q/=Qe)*de;re-=_*it,de-=q*it;var m=Math.sqrt(re*re+de*de);return it/=m,_*(de/=m)<q*(re/=m)&&(_=-_,q=-q,it=-it,Qe=-Qe),{scale:new ut(Qe,0,0,m,0,0),translate:new ut(1,0,0,1,Se,Fe),rotate:new ut(_,q,-q,_,0,0),skew:new ut(1,0,it,1,0,0)}},ut.prototype.toString=function(_){return this.join(" ")},ut.prototype.inversed=function(){var _=this.sx,q=this.shy,re=this.shx,de=this.sy,Se=this.tx,Fe=this.ty,Qe=1/(_*de-q*re),it=de*Qe,m=-q*Qe,x=-re*Qe,R=_*Qe;return new ut(it,m,x,R,-it*Se-x*Fe,-m*Se-R*Fe)},ut.prototype.applyToPoint=function(_){var q=_.x*this.sx+_.y*this.shx+this.tx,re=_.x*this.shy+_.y*this.sy+this.ty;return new Is(q,re)},ut.prototype.applyToRectangle=function(_){var q=this.applyToPoint(_),re=this.applyToPoint(new Is(_.x+_.w,_.y+_.h));return new mo(q.x,q.y,re.x-q.x,re.y-q.y)},ut.prototype.clone=function(){var _=this.sx,q=this.shy,re=this.shx,de=this.sy,Se=this.tx,Fe=this.ty;return new ut(_,q,re,de,Se,Fe)},S.Matrix=ut;var xn=S.matrixMult=function(_,q){return q.multiply(_)},Nn=new ut(1,0,0,1,0,0);S.unitMatrix=S.identityMatrix=Nn;var Hn=function(_,q){if(!Aa[_]){var re=(q instanceof Ec?"Sh":"P")+(Object.keys(on).length+1).toString(10);q.id=re,Aa[_]=re,on[re]=q,ln.publish("addPattern",q)}};S.ShadingPattern=Ec,S.TilingPattern=Th,S.addShadingPattern=function(_,q){return N("addShadingPattern()"),Hn(_,q),this},S.beginTilingPattern=function(_){N("beginTilingPattern()"),is(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},S.endTilingPattern=function(_,q){N("endTilingPattern()"),q.stream=Ke[z].join(`
`),Hn(_,q),ln.publish("endTilingPattern",q),Yi.pop().restore()};var Kn=S.__private__.newObject=function(){var _=nr();return pr(_,!0),_},nr=S.__private__.newObjectDeferred=function(){return ae++,_e[ae]=function(){return Ee},ae},pr=function(_,q){return q=typeof q=="boolean"&&q,_e[_]=Ee,q&&oe(_+" 0 obj"),_},ws=S.__private__.newAdditionalObject=function(){var _={objId:nr(),content:""};return Je.push(_),_},mi=nr(),Ur=nr(),xr=S.__private__.decodeColorString=function(_){var q=_.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var re=parseFloat(q[0]);q=[re,re,re,"r"]}for(var de="#",Se=0;Se<3;Se++)de+=("0"+Math.floor(255*parseFloat(q[Se])).toString(16)).slice(-2);return de},mr=S.__private__.encodeColorString=function(_){var q;typeof _=="string"&&(_={ch1:_});var re=_.ch1,de=_.ch2,Se=_.ch3,Fe=_.ch4,Qe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var it=new oE(re);if(it.ok)re=it.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var m=parseInt(re.substr(1),16);re=m>>16&255,de=m>>8&255,Se=255&m}if(de===void 0||Fe===void 0&&re===de&&de===Se)if(typeof re=="string")q=re+" "+Qe[0];else switch(_.precision){case 2:q=G(re/255)+" "+Qe[0];break;case 3:default:q=C(re/255)+" "+Qe[0]}else if(Fe===void 0||jn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return q=["1.","1.","1.",Qe[1]].join(" ");if(typeof re=="string")q=[re,de,Se,Qe[1]].join(" ");else switch(_.precision){case 2:q=[G(re/255),G(de/255),G(Se/255),Qe[1]].join(" ");break;default:case 3:q=[C(re/255),C(de/255),C(Se/255),Qe[1]].join(" ")}}else if(typeof re=="string")q=[re,de,Se,Fe,Qe[2]].join(" ");else switch(_.precision){case 2:q=[G(re),G(de),G(Se),G(Fe),Qe[2]].join(" ");break;case 3:default:q=[C(re),C(de),C(Se),C(Fe),Qe[2]].join(" ")}return q},Nr=S.__private__.getFilters=function(){return u},Un=S.__private__.putStream=function(_){var q=(_=_||{}).data||"",re=_.filters||Nr(),de=_.alreadyAppliedFilters||[],Se=_.addLength1||!1,Fe=q.length,Qe=_.objectId,it=function(It){return It};if(y!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(it=Ln.encryptor(Qe,0));var m={};re===!0&&(re=["FlateEncode"]);var x=_.additionalKeyValues||[],R=(m=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters(q,re):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(m.data.length!==0&&(x.push({key:"Length",value:m.data.length}),Se===!0&&x.push({key:"Length1",value:Fe})),R.length!=0)if(R.split("/").length-1==1)x.push({key:"Filter",value:R});else{x.push({key:"Filter",value:"["+R+"]"});for(var K=0;K<x.length;K+=1)if(x[K].key==="DecodeParms"){for(var we=[],Oe=0;Oe<m.reverseChain.split("/").length-1;Oe+=1)we.push("null");we.push(x[K].value),x[K].value="["+we.join(" ")+"]"}}oe("<<");for(var Xe=0;Xe<x.length;Xe++)oe("/"+x[Xe].key+" "+x[Xe].value);oe(">>"),m.data.length!==0&&(oe("stream"),oe(it(m.data)),oe("endstream"))},yn=S.__private__.putPage=function(_){var q=_.number,re=_.data,de=_.objId,Se=_.contentsObjId;pr(de,!0),oe("<</Type /Page"),oe("/Parent "+_.rootDictionaryObjId+" 0 R"),oe("/Resources "+_.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(U(_.mediaBox.bottomLeftX))+" "+parseFloat(U(_.mediaBox.bottomLeftY))+" "+U(_.mediaBox.topRightX)+" "+U(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&oe("/CropBox ["+U(_.cropBox.bottomLeftX)+" "+U(_.cropBox.bottomLeftY)+" "+U(_.cropBox.topRightX)+" "+U(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&oe("/BleedBox ["+U(_.bleedBox.bottomLeftX)+" "+U(_.bleedBox.bottomLeftY)+" "+U(_.bleedBox.topRightX)+" "+U(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&oe("/TrimBox ["+U(_.trimBox.bottomLeftX)+" "+U(_.trimBox.bottomLeftY)+" "+U(_.trimBox.topRightX)+" "+U(_.trimBox.topRightY)+"]"),_.artBox!==null&&oe("/ArtBox ["+U(_.artBox.bottomLeftX)+" "+U(_.artBox.bottomLeftY)+" "+U(_.artBox.topRightX)+" "+U(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&oe("/UserUnit "+_.userUnit),ln.publish("putPage",{objId:de,pageContext:Et[q],pageNumber:q,page:re}),oe("/Contents "+Se+" 0 R"),oe(">>"),oe("endobj");var Fe=re.join(`
`);return ee===W.ADVANCED&&(Fe+=`
Q`),pr(Se,!0),Un({data:Fe,filters:Nr(),objectId:Se}),oe("endobj"),de},Ea=S.__private__.putPages=function(){var _,q,re=[];for(_=1;_<=Fn;_++)Et[_].objId=nr(),Et[_].contentsObjId=nr();for(_=1;_<=Fn;_++)re.push(yn({number:_,data:Ke[_],objId:Et[_].objId,contentsObjId:Et[_].contentsObjId,mediaBox:Et[_].mediaBox,cropBox:Et[_].cropBox,bleedBox:Et[_].bleedBox,trimBox:Et[_].trimBox,artBox:Et[_].artBox,userUnit:Et[_].userUnit,rootDictionaryObjId:mi,resourceDictionaryObjId:Ur}));pr(mi,!0),oe("<</Type /Pages");var de="/Kids [";for(q=0;q<Fn;q++)de+=re[q]+" 0 R ";oe(de+"]"),oe("/Count "+Fn),oe(">>"),oe("endobj"),ln.publish("postPutPages")},Ta=function(_){ln.publish("putFont",{font:_,out:oe,newObject:Kn,putStream:Un}),_.isAlreadyPutted!==!0&&(_.objectNumber=Kn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Eh(_.postScriptName)),oe("/Subtype /Type1"),typeof _.encoding=="string"&&oe("/Encoding /"+_.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},ii=function(){for(var _ in Qt)Qt.hasOwnProperty(_)&&(w===!1||w===!0&&E.hasOwnProperty(_))&&Ta(Qt[_])},Ni=function(_){_.objectNumber=Kn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[U(_.x),U(_.y),U(_.x+_.width),U(_.y+_.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var re=_.pages[1].join(`
`);Un({data:re,additionalKeyValues:q,objectId:_.objectNumber}),oe("endobj")},Ss=function(){for(var _ in tr)tr.hasOwnProperty(_)&&Ni(tr[_])},Xo=function(_,q){var re,de=[],Se=1/(q-1);for(re=0;re<1;re+=Se)de.push(re);if(de.push(1),_[0].offset!=0){var Fe={offset:0,color:_[0].color};_.unshift(Fe)}if(_[_.length-1].offset!=1){var Qe={offset:1,color:_[_.length-1].color};_.push(Qe)}for(var it="",m=0,x=0;x<de.length;x++){for(re=de[x];re>_[m+1].offset;)m++;var R=_[m].offset,K=(re-R)/(_[m+1].offset-R),we=_[m].color,Oe=_[m+1].color;it+=ie(Math.round((1-K)*we[0]+K*Oe[0]).toString(16))+ie(Math.round((1-K)*we[1]+K*Oe[1]).toString(16))+ie(Math.round((1-K)*we[2]+K*Oe[2]).toString(16))}return it.trim()},As=function(_,q){q||(q=21);var re=Kn(),de=Xo(_.colors,q),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+q+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Un({data:de,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),oe("endobj"),_.objectNumber=Kn(),oe("<< /ShadingType "+_.type),oe("/ColorSpace /DeviceRGB");var Fe="/Coords ["+U(parseFloat(_.coords[0]))+" "+U(parseFloat(_.coords[1]))+" ";_.type===2?Fe+=U(parseFloat(_.coords[2]))+" "+U(parseFloat(_.coords[3])):Fe+=U(parseFloat(_.coords[2]))+" "+U(parseFloat(_.coords[3]))+" "+U(parseFloat(_.coords[4]))+" "+U(parseFloat(_.coords[5])),oe(Fe+="]"),_.matrix&&oe("/Matrix ["+_.matrix.toString()+"]"),oe("/Function "+re+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},Gl=function(_,q){var re=nr(),de=Kn();q.push({resourcesOid:re,objectOid:de}),_.objectNumber=de;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+_.boundingBox.map(U).join(" ")+"]"}),Se.push({key:"XStep",value:U(_.xStep)}),Se.push({key:"YStep",value:U(_.yStep)}),Se.push({key:"Resources",value:re+" 0 R"}),_.matrix&&Se.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Un({data:_.stream,additionalKeyValues:Se,objectId:_.objectNumber}),oe("endobj")},Ki=function(_){var q;for(q in on)on.hasOwnProperty(q)&&(on[q]instanceof Ec?As(on[q]):on[q]instanceof Th&&Gl(on[q],_))},Qi=function(_){for(var q in _.objectNumber=Kn(),oe("<<"),_)switch(q){case"opacity":oe("/ca "+G(_[q]));break;case"stroke-opacity":oe("/CA "+G(_[q]))}oe(">>"),oe("endobj")},Ir=function(){var _;for(_ in Mn)Mn.hasOwnProperty(_)&&Qi(Mn[_])},xa=function(){for(var _ in oe("/XObject <<"),tr)tr.hasOwnProperty(_)&&tr[_].objectNumber>=0&&oe("/"+_+" "+tr[_].objectNumber+" 0 R");ln.publish("putXobjectDict"),oe(">>")},$l=function(){Ln.oid=Kn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Ln.v),oe("/R "+Ln.r),oe("/U <"+Ln.toHexString(Ln.U)+">"),oe("/O <"+Ln.toHexString(Ln.O)+">"),oe("/P "+Ln.P),oe(">>"),oe("endobj")},ra=function(){for(var _ in oe("/Font <<"),Qt)Qt.hasOwnProperty(_)&&(w===!1||w===!0&&E.hasOwnProperty(_))&&oe("/"+_+" "+Qt[_].objectNumber+" 0 R");oe(">>")},lo=function(){if(Object.keys(on).length>0){for(var _ in oe("/Shading <<"),on)on.hasOwnProperty(_)&&on[_]instanceof Ec&&on[_].objectNumber>=0&&oe("/"+_+" "+on[_].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),oe(">>")}},Na=function(_){if(Object.keys(on).length>0){for(var q in oe("/Pattern <<"),on)on.hasOwnProperty(q)&&on[q]instanceof S.TilingPattern&&on[q].objectNumber>=0&&on[q].objectNumber<_&&oe("/"+q+" "+on[q].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),oe(">>")}},Jo=function(){if(Object.keys(Mn).length>0){var _;for(_ in oe("/ExtGState <<"),Mn)Mn.hasOwnProperty(_)&&Mn[_].objectNumber>=0&&oe("/"+_+" "+Mn[_].objectNumber+" 0 R");ln.publish("putGStateDict"),oe(">>")}},Vn=function(_){pr(_.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ra(),lo(),Na(_.objectOid),Jo(),xa(),oe(">>"),oe("endobj")},Vr=function(){var _=[];ii(),Ir(),Ss(),Ki(_),ln.publish("putResources"),_.forEach(Vn),Vn({resourcesOid:Ur,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources")},uo=function(){ln.publish("putAdditionalObjects");for(var _=0;_<Je.length;_++){var q=Je[_];pr(q.objId,!0),oe(q.content),oe("endobj")}ln.publish("postPutAdditionalObjects")},Wl=function(_){Tn[_.fontName]=Tn[_.fontName]||{},Tn[_.fontName][_.fontStyle]=_.id},Ka=function(_,q,re,de,Se){var Fe={id:"F"+(Object.keys(Qt).length+1).toString(10),postScriptName:_,fontName:q,fontStyle:re,encoding:de,isStandardFont:Se||!1,metadata:{}};return ln.publish("addFont",{font:Fe,instance:this}),Qt[Fe.id]=Fe,Wl(Fe),Fe.id},Zo=function(_){for(var q=0,re=Ze.length;q<re;q++){var de=Ka.call(this,_[q][0],_[q][1],_[q][2],Ze[q][3],!0);w===!1&&(E[de]=!0);var Se=_[q][0].split("-");Wl({id:de,fontName:Se[0],fontStyle:Se[1]||""})}ln.publish("addFonts",{fonts:Qt,dictionary:Tn})},Qr=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(de){var q=de.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var re="Error in function "+q.split(`
`)[0].split("<")[0]+": "+de.message;if(!Dt.console)throw new Error(re);Dt.console.error(re,de),Dt.alert&&alert(re)}},_.foo.bar=_,_.foo},co=function(_,q){var re,de,Se,Fe,Qe,it,m,x,R;if(Se=(q=q||{}).sourceEncoding||"Unicode",Qe=q.outputEncoding,(q.autoencode||Qe)&&Qt[Gt].metadata&&Qt[Gt].metadata[Se]&&Qt[Gt].metadata[Se].encoding&&(Fe=Qt[Gt].metadata[Se].encoding,!Qe&&Qt[Gt].encoding&&(Qe=Qt[Gt].encoding),!Qe&&Fe.codePages&&(Qe=Fe.codePages[0]),typeof Qe=="string"&&(Qe=Fe[Qe]),Qe)){for(m=!1,it=[],re=0,de=_.length;re<de;re++)(x=Qe[_.charCodeAt(re)])?it.push(String.fromCharCode(x)):it.push(_[re]),it[re].charCodeAt(0)>>8&&(m=!0);_=it.join("")}for(re=_.length;m===void 0&&re!==0;)_.charCodeAt(re-1)>>8&&(m=!0),re--;if(!m)return _;for(it=q.noBOM?[]:[254,255],re=0,de=_.length;re<de;re++){if((R=(x=_.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(R),it.push(x-(R<<8))}return String.fromCharCode.apply(void 0,it)},hn=S.__private__.pdfEscape=S.pdfEscape=function(_,q){return co(_,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xr=S.__private__.beginPage=function(_){Ke[++Fn]=[],Et[Fn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},ia(Fn),Ue(Ke[z])},Qa=function(_,q){var re,de,Se;switch(t=q||t,typeof _=="string"&&(re=k(_.toLowerCase()),Array.isArray(re)&&(de=re[0],Se=re[1])),Array.isArray(_)&&(de=_[0]*lt,Se=_[1]*lt),isNaN(de)&&(de=a[0],Se=a[1]),(de>14400||Se>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),Se=Math.min(14400,Se)),a=[de,Se],t.substr(0,1)){case"l":Se>de&&(a=[Se,de]);break;case"p":de>Se&&(a=[Se,de])}Xr(a),rl(es),oe(Jr),il!==0&&oe(il+" J"),Ns!==0&&oe(Ns+" j"),ln.publish("addPage",{pageNumber:Fn})},Xa=function(_){_>0&&_<=Fn&&(Ke.splice(_,1),Et.splice(_,1),Fn--,z>Fn&&(z=Fn),this.setPage(z))},ia=function(_){_>0&&_<=Fn&&(z=_)},bn=S.__private__.getNumberOfPages=S.getNumberOfPages=function(){return Ke.length-1},Ja=function(_,q,re){var de,Se=void 0;return re=re||{},_=_!==void 0?_:Qt[Gt].fontName,q=q!==void 0?q:Qt[Gt].fontStyle,de=_.toLowerCase(),Tn[de]!==void 0&&Tn[de][q]!==void 0?Se=Tn[de][q]:Tn[_]!==void 0&&Tn[_][q]!==void 0?Se=Tn[_][q]:re.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+_+"', '"+q+"'. Refer to getFontList() for available fonts."),Se||re.noFallback||(Se=Tn.times[q])==null&&(Se=Tn.times.normal),Se},Ii=S.__private__.putInfo=function(){var _=Kn(),q=function(de){return de};for(var re in y!==null&&(q=Ln.encryptor(_,0)),oe("<<"),oe("/Producer ("+hn(q("jsPDF "+Pt.version))+")"),pt)pt.hasOwnProperty(re)&&pt[re]&&oe("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+hn(q(pt[re]))+")");oe("/CreationDate ("+hn(q(Ie))+")"),oe(">>"),oe("endobj")},Ia=S.__private__.putCatalog=function(_){var q=(_=_||{}).rootDictionaryObjId||mi;switch(Kn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+q+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+st;re.substr(re.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+G(st)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Rt&&oe("/PageMode /"+Rt),ln.publish("putCatalog"),oe(">>"),oe("endobj")},Yl=S.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(ae+1)),oe("/Root "+ae+" 0 R"),oe("/Info "+(ae-1)+" 0 R"),y!==null&&oe("/Encrypt "+Ln.oid+" 0 R"),oe("/ID [ <"+te+"> <"+te+"> ]"),oe(">>")},el=S.__private__.putHeader=function(){oe("%PDF-"+L),oe("%")},tl=S.__private__.putXRef=function(){var _="0000000000";oe("xref"),oe("0 "+(ae+1)),oe("0000000000 65535 f ");for(var q=1;q<=ae;q++)typeof _e[q]=="function"?oe((_+_e[q]()).slice(-10)+" 00000 n "):_e[q]!==void 0?oe((_+_e[q]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Ca=S.__private__.buildDocument=function(){wt(),Ue(pe),ln.publish("buildDocument"),el(),Ea(),uo(),Vr(),y!==null&&$l(),Ii(),Ia();var _=Ee;return tl(),Yl(),oe("startxref"),oe(""+_),oe("%%EOF"),Ue(Ke[z]),pe.join(`
`)},ho=S.__private__.getBlob=function(_){return new Blob([dt(_)],{type:"application/pdf"})},Ra=S.output=S.__private__.output=Qr(function(_,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",_){case void 0:return Ca();case"save":S.save(q.filename);break;case"arraybuffer":return dt(Ca());case"blob":return ho(Ca());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(ho(Ca()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",de=Ca();try{re=I1(de)}catch{re=I1(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+q.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Se=q.pdfObjectUrl,Fe="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",it=Dt.open();return it!==null&&it.document.write(Qe),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',x=Dt.open();if(x!==null){x.document.write(m);var R=this;x.document.documentElement.querySelector("#pdfViewer").onload=function(){x.document.title=q.filename,x.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(R.output("bloburl"))}}return x}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var K='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',we=Dt.open();if(we!==null&&(we.document.write(K),we.document.title=q.filename),we||typeof safari>"u")return we;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",q);default:return null}}),aa=function(_){return Array.isArray(xi)===!0&&xi.indexOf(_)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=aa("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var Ln=null;Te(),he();var La=function(_){return y!==null?Ln.encryptor(_,0):function(q){return q}},sa=S.__private__.getPageInfo=S.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[_].objId,pageNumber:_,pageContext:Et[_]}},Nt=S.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in Et)if(Et[q].objId===_)break;return sa(q)},oa=S.__private__.getCurrentPageInfo=S.getCurrentPageInfo=function(){return{objId:Et[z].objId,pageNumber:z,pageContext:Et[z]}};S.addPage=function(){return Qa.apply(this,arguments),this},S.setPage=function(){return ia.apply(this,arguments),Ue.call(this,Ke[z]),this},S.insertPage=function(_){return this.addPage(),this.movePage(z,_),this},S.movePage=function(_,q){var re,de;if(_>q){re=Ke[_],de=Et[_];for(var Se=_;Se>q;Se--)Ke[Se]=Ke[Se-1],Et[Se]=Et[Se-1];Ke[q]=re,Et[q]=de,this.setPage(q)}else if(_<q){re=Ke[_],de=Et[_];for(var Fe=_;Fe<q;Fe++)Ke[Fe]=Ke[Fe+1],Et[Fe]=Et[Fe+1];Ke[q]=re,Et[q]=de,this.setPage(q)}return this},S.deletePage=function(){return Xa.apply(this,arguments),this},S.__private__.text=S.text=function(_,q,re,de,Se){var Fe,Qe,it,m,x,R,K,we,Oe,Xe=(de=de||{}).scope||this;if(typeof _=="number"&&typeof q=="number"&&(typeof re=="string"||Array.isArray(re))){var It=re;re=q,q=_,_=It}if(arguments[3]instanceof ut?(N("The transform parameter of text() with a Matrix value"),Oe=Se):(it=arguments[4],m=arguments[5],jn(K=arguments[3])==="object"&&K!==null||(typeof it=="string"&&(m=it,it=null),typeof K=="string"&&(m=K,K=null),typeof K=="number"&&(it=K,K=null),de={flags:K,angle:it,align:m})),isNaN(q)||isNaN(re)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Xe;var nn="",Ut=!1,_n=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:tn,In=Xe.internal.scaleFactor;function ha(Xt){return Xt=Xt.split("	").join(Array(de.TabLen||9).join(" ")),hn(Xt,K)}function lr(Xt){for(var Jt,Bn=Xt.concat(),ur=[],da=Bn.length;da--;)typeof(Jt=Bn.shift())=="string"?ur.push(Jt):Array.isArray(Xt)&&(Jt.length===1||Jt[1]===void 0&&Jt[2]===void 0)?ur.push(Jt[0]):ur.push([Jt[0],Jt[1],Jt[2]]);return ur}function Pi(Xt,Jt){var Bn;if(typeof Xt=="string")Bn=Jt(Xt)[0];else if(Array.isArray(Xt)){for(var ur,da,xo=Xt.concat(),No=[],Os=xo.length;Os--;)typeof(ur=xo.shift())=="string"?No.push(Jt(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(da=Jt(ur[0],ur[1],ur[2]),No.push([da[0],da[1],da[2]]));Bn=No}return Bn}var ss=!1,vo=!0;if(typeof _=="string")ss=!0;else if(Array.isArray(_)){var Jl=_.concat();Qe=[];for(var al,Cr=Jl.length;Cr--;)(typeof(al=Jl.shift())!="string"||Array.isArray(al)&&typeof al[0]!="string")&&(vo=!1);ss=vo}if(ss===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var yo=et/Xe.internal.scaleFactor,sl=yo*(_n-1);switch(de.baseline){case"bottom":re-=sl;break;case"top":re+=yo-sl;break;case"hanging":re+=yo-2*sl;break;case"middle":re+=yo/2-sl}if((R=de.maxWidth||0)>0&&(typeof _=="string"?_=Xe.splitTextToSize(_,R):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Xt,Jt){return Xt.concat(Xe.splitTextToSize(Jt,R))},[]))),Fe={text:_,x:q,y:re,options:de,mutex:{pdfEscape:hn,activeFontKey:Gt,fonts:Qt,activeFontSize:et}},ln.publish("preProcessText",Fe),_=Fe.text,it=(de=Fe.options).angle,!(Oe instanceof ut)&&it&&typeof it=="number"){it*=Math.PI/180,de.rotationDirection===0&&(it=-it),ee===W.ADVANCED&&(it=-it);var ol=Math.cos(it),Zl=Math.sin(it);Oe=new ut(ol,Zl,-Zl,ol,0,0)}else it&&it instanceof ut&&(Oe=it);ee!==W.ADVANCED||Oe||(Oe=Nn),(x=de.charSpace||xs)!==void 0&&(nn+=U(P(x))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(we=de.horizontalScale)!==void 0&&(nn+=U(100*we)+` Tz
`),de.lang;var Oi=-1,Zh=de.renderingMode!==void 0?de.renderingMode:de.stroke,ec=Xe.internal.getCurrentPageInfo().pageContext;switch(Zh){case 0:case!1:case"fill":Oi=0;break;case 1:case!0:case"stroke":Oi=1;break;case 2:case"fillThenStroke":Oi=2;break;case 3:case"invisible":Oi=3;break;case 4:case"fillAndAddForClipping":Oi=4;break;case 5:case"strokeAndAddPathForClipping":Oi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Oi=6;break;case 7:case"addToPathForClipping":Oi=7}var qc=ec.usedRenderingMode!==void 0?ec.usedRenderingMode:-1;Oi!==-1?nn+=Oi+` Tr
`:qc!==-1&&(nn+=`0 Tr
`),Oi!==-1&&(ec.usedRenderingMode=Oi),m=de.align||"left";var fa,Br=et*_n,bo=Xe.internal.pageSize.getWidth(),tc=Qt[Gt];x=de.charSpace||xs,R=de.maxWidth||0,K=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Ls=[],_o=function(Xt){return Xe.getStringUnitWidth(Xt,{font:tc,charSpace:x,fontSize:et,doKerning:!1})*et/In};if(Object.prototype.toString.call(_)==="[object Array]"){var vi;Qe=lr(_),m!=="left"&&(fa=Qe.map(_o));var Zr,wo=0;if(m==="right"){q-=fa[0],_=[],Cr=Qe.length;for(var Di=0;Di<Cr;Di++)Di===0?(Zr=oi(q),vi=vr(re)):(Zr=P(wo-fa[Di]),vi=-Br),_.push([Qe[Di],Zr,vi]),wo=fa[Di]}else if(m==="center"){q-=fa[0]/2,_=[],Cr=Qe.length;for(var ka=0;ka<Cr;ka++)ka===0?(Zr=oi(q),vi=vr(re)):(Zr=P((wo-fa[ka])/2),vi=-Br),_.push([Qe[ka],Zr,vi]),wo=fa[ka]}else if(m==="left"){_=[],Cr=Qe.length;for(var os=0;os<Cr;os++)_.push(Qe[os])}else if(m==="justify"&&tc.encoding==="Identity-H"){_=[],Cr=Qe.length,R=R!==0?R:bo;for(var ja=0,rr=0;rr<Cr;rr++)if(vi=rr===0?vr(re):-Br,Zr=rr===0?oi(q):ja,rr<Cr-1){var Ma=P((R-fa[rr])/(Qe[rr].split(" ").length-1)),yr=Qe[rr].split(" ");_.push([yr[0]+" ",Zr,vi]),ja=0;for(var ki=1;ki<yr.length;ki++){var ll=(_o(yr[ki-1]+" "+yr[ki])-_o(yr[ki]))*In+Ma;ki==yr.length-1?_.push([yr[ki],ll,0]):_.push([yr[ki]+" ",ll,0]),ja-=ll}}else _.push([Qe[rr],Zr,vi]);_.push(["",ja,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Cr=Qe.length,R=R!==0?R:bo,rr=0;rr<Cr;rr++)vi=rr===0?vr(re):-Br,Zr=rr===0?oi(q):0,rr<Cr-1?Ls.push(U(P((R-fa[rr])/(Qe[rr].split(" ").length-1)))):Ls.push(0),_.push([Qe[rr],Zr,vi])}}var ls=typeof de.R2L=="boolean"?de.R2L:yt;ls===!0&&(_=Pi(_,function(Xt,Jt,Bn){return[Xt.split("").reverse().join(""),Jt,Bn]})),Fe={text:_,x:q,y:re,options:de,mutex:{pdfEscape:hn,activeFontKey:Gt,fonts:Qt,activeFontSize:et}},ln.publish("postProcessText",Fe),_=Fe.text,Ut=Fe.mutex.isHex||!1;var eu=Qt[Gt].encoding;eu!=="WinAnsiEncoding"&&eu!=="StandardEncoding"||(_=Pi(_,function(Xt,Jt,Bn){return[ha(Xt),Jt,Bn]})),Qe=lr(_),_=[];for(var So,Ao,Eo,ul=0,tu=1,To=Array.isArray(Qe[0])?tu:ul,Ps="",cl=function(Xt,Jt,Bn){var ur="";return Bn instanceof ut?(Bn=typeof de.angle=="number"?xn(Bn,new ut(1,0,0,1,Xt,Jt)):xn(new ut(1,0,0,1,Xt,Jt),Bn),ee===W.ADVANCED&&(Bn=xn(new ut(1,0,0,-1,0,0),Bn)),ur=Bn.join(" ")+` Tm
`):ur=U(Xt)+" "+U(Jt)+` Td
`,ur},ir=0;ir<Qe.length;ir++){switch(Ps="",To){case tu:Eo=(Ut?"<":"(")+Qe[ir][0]+(Ut?">":")"),So=parseFloat(Qe[ir][1]),Ao=parseFloat(Qe[ir][2]);break;case ul:Eo=(Ut?"<":"(")+Qe[ir]+(Ut?">":")"),So=oi(q),Ao=vr(re)}Ls!==void 0&&Ls[ir]!==void 0&&(Ps=Ls[ir]+` Tw
`),ir===0?_.push(Ps+cl(So,Ao,Oe)+Eo):To===ul?_.push(Ps+Eo):To===tu&&_.push(Ps+cl(So,Ao,Oe)+Eo)}_=To===ul?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Ji=`BT
/`;return Ji+=Gt+" "+et+` Tf
`,Ji+=U(et*_n)+` TL
`,Ji+=Oa+`
`,Ji+=nn,Ji+=_,oe(Ji+="ET"),E[Gt]=!0,Xe};var Kl=S.__private__.clip=S.clip=function(_){return oe(_==="evenodd"?"W*":"W"),this};S.clipEvenOdd=function(){return Kl("evenodd")},S.__private__.discardPath=S.discardPath=function(){return oe("n"),this};var ai=S.__private__.isValidStyle=function(_){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(q=!0),q};S.__private__.setDefaultPathOperation=S.setDefaultPathOperation=function(_){return ai(_)&&(d=_),this};var Ci=S.__private__.getStyle=S.getStyle=function(_){var q=d;switch(_){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=_}return q},gi=S.close=function(){return oe("h"),this};S.stroke=function(){return oe("S"),this},S.fill=function(_){return la("f",_),this},S.fillEvenOdd=function(_){return la("f*",_),this},S.fillStroke=function(_){return la("B",_),this},S.fillStrokeEvenOdd=function(_){return la("B*",_),this};var la=function(_,q){jn(q)==="object"?Pa(q,_):oe(_)},Ri=function(_){_===null||ee===W.ADVANCED&&_===void 0||(_=Ci(_),oe(_))};function Za(_,q,re,de,Se){var Fe=new Th(q||this.boundingBox,re||this.xStep,de||this.yStep,this.gState,Se||this.matrix);Fe.stream=this.stream;var Qe=_+"$$"+this.cloneIndex+++"$$";return Hn(Qe,Fe),Fe}var Pa=function(_,q){var re=Aa[_.key],de=on[re];if(de instanceof Ec)oe("q"),oe(nl(q)),de.gState&&S.setGState(de.gState),oe(_.matrix.toString()+" cm"),oe("/"+re+" sh"),oe("Q");else if(de instanceof Th){var Se=new ut(1,0,0,-1,0,li());_.matrix&&(Se=Se.multiply(_.matrix||Nn),re=Za.call(de,_.key,_.boundingBox,_.xStep,_.yStep,Se).id),oe("q"),oe("/Pattern cs"),oe("/"+re+" scn"),de.gState&&S.setGState(de.gState),oe(q),oe("Q")}},nl=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Li=S.moveTo=function(_,q){return oe(U(P(_))+" "+U(se(q))+" m"),this},si=S.lineTo=function(_,q){return oe(U(P(_))+" "+U(se(q))+" l"),this},ua=S.curveTo=function(_,q,re,de,Se,Fe){return oe([U(P(_)),U(se(q)),U(P(re)),U(se(de)),U(P(Se)),U(se(Fe)),"c"].join(" ")),this};S.__private__.line=S.line=function(_,q,re,de,Se){if(isNaN(_)||isNaN(q)||isNaN(re)||isNaN(de)||!ai(Se))throw new Error("Invalid arguments passed to jsPDF.line");return ee===W.COMPAT?this.lines([[re-_,de-q]],_,q,[1,1],Se||"S"):this.lines([[re-_,de-q]],_,q,[1,1]).stroke()},S.__private__.lines=S.lines=function(_,q,re,de,Se,Fe){var Qe,it,m,x,R,K,we,Oe,Xe,It,nn,Ut;if(typeof _=="number"&&(Ut=re,re=q,q=_,_=Ut),de=de||[1,1],Fe=Fe||!1,isNaN(q)||isNaN(re)||!Array.isArray(_)||!Array.isArray(de)||!ai(Se)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Li(q,re),Qe=de[0],it=de[1],x=_.length,It=q,nn=re,m=0;m<x;m++)(R=_[m]).length===2?(It=R[0]*Qe+It,nn=R[1]*it+nn,si(It,nn)):(K=R[0]*Qe+It,we=R[1]*it+nn,Oe=R[2]*Qe+It,Xe=R[3]*it+nn,It=R[4]*Qe+It,nn=R[5]*it+nn,ua(K,we,Oe,Xe,It,nn));return Fe&&gi(),Ri(Se),this},S.path=function(_){for(var q=0;q<_.length;q++){var re=_[q],de=re.c;switch(re.op){case"m":Li(de[0],de[1]);break;case"l":si(de[0],de[1]);break;case"c":ua.apply(this,de);break;case"h":gi()}}return this},S.__private__.rect=S.rect=function(_,q,re,de,Se){if(isNaN(_)||isNaN(q)||isNaN(re)||isNaN(de)||!ai(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return ee===W.COMPAT&&(de=-de),oe([U(P(_)),U(se(q)),U(P(re)),U(P(de)),"re"].join(" ")),Ri(Se),this},S.__private__.triangle=S.triangle=function(_,q,re,de,Se,Fe,Qe){if(isNaN(_)||isNaN(q)||isNaN(re)||isNaN(de)||isNaN(Se)||isNaN(Fe)||!ai(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-_,de-q],[Se-re,Fe-de],[_-Se,q-Fe]],_,q,[1,1],Qe,!0),this},S.__private__.roundedRect=S.roundedRect=function(_,q,re,de,Se,Fe,Qe){if(isNaN(_)||isNaN(q)||isNaN(re)||isNaN(de)||isNaN(Se)||isNaN(Fe)||!ai(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*re),Fe=Math.min(Fe,.5*de),this.lines([[re-2*Se,0],[Se*it,0,Se,Fe-Fe*it,Se,Fe],[0,de-2*Fe],[0,Fe*it,-Se*it,Fe,-Se,Fe],[2*Se-re,0],[-Se*it,0,-Se,-Fe*it,-Se,-Fe],[0,2*Fe-de],[0,-Fe*it,Se*it,-Fe,Se,-Fe]],_+Se,q,[1,1],Qe,!0),this},S.__private__.ellipse=S.ellipse=function(_,q,re,de,Se){if(isNaN(_)||isNaN(q)||isNaN(re)||isNaN(de)||!ai(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*re,Qe=4/3*(Math.SQRT2-1)*de;return Li(_+re,q),ua(_+re,q-Qe,_+Fe,q-de,_,q-de),ua(_-Fe,q-de,_-re,q-Qe,_-re,q),ua(_-re,q+Qe,_-Fe,q+de,_,q+de),ua(_+Fe,q+de,_+re,q+Qe,_+re,q),Ri(Se),this},S.__private__.circle=S.circle=function(_,q,re,de){if(isNaN(_)||isNaN(q)||isNaN(re)||!ai(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,q,re,re,de)},S.setFont=function(_,q,re){return re&&(q=Ne(q,re)),Gt=Ja(_,q,{disableWarning:!1}),this};var gr=S.__private__.getFont=S.getFont=function(){return Qt[Ja.apply(S,arguments)]};S.__private__.getFontList=S.getFontList=function(){var _,q,re={};for(_ in Tn)if(Tn.hasOwnProperty(_))for(q in re[_]=[],Tn[_])Tn[_].hasOwnProperty(q)&&re[_].push(q);return re},S.addFont=function(_,q,re,de,Se){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(re=Ne(re,de)),Se=Se||"Identity-H",Ka.call(this,_,q,re,Se)};var tn,es=n.lineWidth||.200025,ca=S.__private__.getLineWidth=S.getLineWidth=function(){return es},rl=S.__private__.setLineWidth=S.setLineWidth=function(_){return es=_,oe(U(P(_))+" w"),this};S.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(_,q){if(_=_||[],q=q||0,isNaN(q)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(re){return U(P(re))}).join(" "),q=U(P(q)),oe("["+_+"] "+q+" d"),this};var Es=S.__private__.getLineHeight=S.getLineHeight=function(){return et*tn};S.__private__.getLineHeight=S.getLineHeight=function(){return et*tn};var Ts=S.__private__.setLineHeightFactor=S.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(tn=_),this},Xi=S.__private__.getLineHeightFactor=S.getLineHeightFactor=function(){return tn};Ts(n.lineHeight);var oi=S.__private__.getHorizontalCoordinate=function(_){return P(_)},vr=S.__private__.getVerticalCoordinate=function(_){return ee===W.ADVANCED?_:Et[z].mediaBox.topRightY-Et[z].mediaBox.bottomLeftY-P(_)},Ql=S.__private__.getHorizontalCoordinateString=S.getHorizontalCoordinateString=function(_){return U(oi(_))},ts=S.__private__.getVerticalCoordinateString=S.getVerticalCoordinateString=function(_){return U(vr(_))},Jr=n.strokeColor||"0 G";S.__private__.getStrokeColor=S.getDrawColor=function(){return xr(Jr)},S.__private__.setStrokeColor=S.setDrawColor=function(_,q,re,de){return Jr=mr({ch1:_,ch2:q,ch3:re,ch4:de,pdfColorType:"draw",precision:2}),oe(Jr),this};var ns=n.fillColor||"0 g";S.__private__.getFillColor=S.getFillColor=function(){return xr(ns)},S.__private__.setFillColor=S.setFillColor=function(_,q,re,de){return ns=mr({ch1:_,ch2:q,ch3:re,ch4:de,pdfColorType:"fill",precision:2}),oe(ns),this};var Oa=n.textColor||"0 g",fo=S.__private__.getTextColor=S.getTextColor=function(){return xr(Oa)};S.__private__.setTextColor=S.setTextColor=function(_,q,re,de){return Oa=mr({ch1:_,ch2:q,ch3:re,ch4:de,pdfColorType:"text",precision:3}),this};var xs=n.charSpace,po=S.__private__.getCharSpace=S.getCharSpace=function(){return parseFloat(xs||0)};S.__private__.setCharSpace=S.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xs=_,this};var il=0;S.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},S.__private__.setLineCap=S.setLineCap=function(_){var q=S.CapJoinStyles[_];if(q===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return il=q,oe(q+" J"),this};var Ns=0;S.__private__.setLineJoin=S.setLineJoin=function(_){var q=S.CapJoinStyles[_];if(q===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ns=q,oe(q+" j"),this},S.__private__.setLineMiterLimit=S.__private__.setMiterLimit=S.setLineMiterLimit=S.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(U(P(_))+" M"),this},S.GState=Em,S.setGState=function(_){(_=typeof _=="string"?Mn[Tr[_]]:rs(null,_)).equals(Yr)||(oe("/"+_.id+" gs"),Yr=_)};var rs=function(_,q){if(!_||!Tr[_]){var re=!1;for(var de in Mn)if(Mn.hasOwnProperty(de)&&Mn[de].equals(q)){re=!0;break}if(re)q=Mn[de];else{var Se="GS"+(Object.keys(Mn).length+1).toString(10);Mn[Se]=q,q.id=Se}return _&&(Tr[_]=q.id),ln.publish("addGState",q),q}};S.addGState=function(_,q){return rs(_,q),this},S.saveGraphicsState=function(){return oe("q"),ri.push({key:Gt,size:et,color:Oa}),this},S.restoreGraphicsState=function(){oe("Q");var _=ri.pop();return Gt=_.key,et=_.size,Oa=_.color,Yr=null,this},S.setCurrentTransformationMatrix=function(_){return oe(_.toString()+" cm"),this},S.comment=function(_){return oe("#"+_),this};var Is=function(_,q){var re=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Fe){isNaN(Fe)||(re=parseFloat(Fe))}});var de=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Fe){isNaN(Fe)||(de=parseFloat(Fe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Fe){Se=Fe.toString()}}),this},mo=function(_,q,re,de){Is.call(this,_,q),this.type="rect";var Se=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Qe){isNaN(Qe)||(Se=parseFloat(Qe))}});var Fe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Qe){isNaN(Qe)||(Fe=parseFloat(Qe))}}),this},Cs=function(){this.page=Fn,this.currentPage=z,this.pages=Ke.slice(0),this.pagesContext=Et.slice(0),this.x=er,this.y=Yt,this.matrix=Wr,this.width=as(z),this.height=li(z),this.outputDestination=nt,this.id="",this.objectNumber=-1};Cs.prototype.restore=function(){Fn=this.page,z=this.currentPage,Et=this.pagesContext,Ke=this.pages,er=this.x,Yt=this.y,Wr=this.matrix,Rs(z,this.width),go(z,this.height),nt=this.outputDestination};var is=function(_,q,re,de,Se){Yi.push(new Cs),Fn=z=0,Ke=[],er=_,Yt=q,Wr=Se,Xr([re,de])},Xl=function(_){if(Kr[_])Yi.pop().restore();else{var q=new Cs,re="Xo"+(Object.keys(tr).length+1).toString(10);q.id=re,Kr[_]=re,tr[re]=q,ln.publish("addFormObject",q),Yi.pop().restore()}};for(var Da in S.beginFormObject=function(_,q,re,de,Se){return is(_,q,re,de,Se),this},S.endFormObject=function(_){return Xl(_),this},S.doFormObject=function(_,q){var re=tr[Kr[_]];return oe("q"),oe(q.toString()+" cm"),oe("/"+re.id+" Do"),oe("Q"),this},S.getFormObject=function(_){var q=tr[Kr[_]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},S.save=function(_,q){return _=_||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Ac(ho(Ca()),_),typeof Ac.unload=="function"&&Dt.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(re,de){try{var Se=Ac(ho(Ca()),_);typeof Ac.unload=="function"&&Dt.setTimeout&&setTimeout(Ac.unload,911),re(Se)}catch(Fe){de(Fe.message)}})},Pt.API)Pt.API.hasOwnProperty(Da)&&(Da==="events"&&Pt.API.events.length?function(_,q){var re,de,Se;for(Se=q.length-1;Se!==-1;Se--)re=q[Se][0],de=q[Se][1],_.subscribe.apply(_,[re].concat(typeof de=="function"?[de]:de))}(ln,Pt.API.events):S[Da]=Pt.API[Da]);var as=S.getPageWidth=function(_){return(Et[_=_||z].mediaBox.topRightX-Et[_].mediaBox.bottomLeftX)/lt},Rs=S.setPageWidth=function(_,q){Et[_].mediaBox.topRightX=q*lt+Et[_].mediaBox.bottomLeftX},li=S.getPageHeight=function(_){return(Et[_=_||z].mediaBox.topRightY-Et[_].mediaBox.bottomLeftY)/lt},go=S.setPageHeight=function(_,q){Et[_].mediaBox.topRightY=q*lt+Et[_].mediaBox.bottomLeftY};return S.internal={pdfEscape:hn,getStyle:Ci,getFont:gr,getFontSize:ot,getCharSpace:po,getTextColor:fo,getLineHeight:Es,getLineHeightFactor:Xi,getLineWidth:ca,write:At,getHorizontalCoordinate:oi,getVerticalCoordinate:vr,getCoordinateString:Ql,getVerticalCoordinateString:ts,collections:{},newObject:Kn,newAdditionalObject:ws,newObjectDeferred:nr,newObjectDeferredBegin:pr,getFilters:Nr,putStream:Un,events:ln,scaleFactor:lt,pageSize:{getWidth:function(){return as(z)},setWidth:function(_){Rs(z,_)},getHeight:function(){return li(z)},setHeight:function(_){go(z,_)}},encryptionOptions:y,encryption:Ln,getEncryptor:La,output:Ra,getNumberOfPages:bn,pages:Ke,out:oe,f2:G,f3:C,getPageInfo:sa,getPageInfoByObjId:Nt,getCurrentPageInfo:oa,getPDFVersion:D,Point:Is,Rectangle:mo,Matrix:ut,hasHotfix:aa},Object.defineProperty(S.internal.pageSize,"width",{get:function(){return as(z)},set:function(_){Rs(z,_)},enumerable:!0,configurable:!0}),Object.defineProperty(S.internal.pageSize,"height",{get:function(){return li(z)},set:function(_){go(z,_)},enumerable:!0,configurable:!0}),Zo.call(S,Ze),Gt="F1",Qa(a,t),ln.publish("initialized"),S}Ah.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ah.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ah.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ah.prototype.processOwnerPassword=function(n,e){return R1(C1(e).substr(0,5),n)},Ah.prototype.encryptor=function(n,e){var t=C1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return R1(t,r)}},Em.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||jn(n)!==jn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Pt.API={events:[]},Pt.version="3.0.1";var Sr=Pt.API,i2=1,Bc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(n){return n.toFixed(2)},Cu=function(n){return n.toFixed(5)};Sr.__acroform__={};var Sa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},h_=function(n){return n*i2},Bo=function(n){var e=new hE,t=gt.internal.getHeight(n)||0,r=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(qt(r)),Number(qt(t))],e},A8=Sr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},E8=Sr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},T8=Sr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},jr=Sr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return T8(n,e-1)},Mr=Sr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return A8(n,e-1)},Fr=Sr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return E8(n,e-1)},x8=Sr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=r(o)||0,[Number(qt(f.lowerLeft_X)),Number(qt(f.lowerLeft_Y)),Number(qt(f.upperRight_X)),Number(qt(f.upperRight_Y))]},N8=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=L1(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+qt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Bo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},L1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var o=t,u=gt.internal.getHeight(n)||0;u=u<0?-u:u;var c=gt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(C,P,M){if(C+1<a.length){var se=P+" "+a[C+1][0];return Dp(se,n,M).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,y,w=Dp("3",n,o).height,E=n.multiline?u-o:(u-w)/2,S=E+=2,L=0,D=0,V=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dp(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var k="",W=0,ee=0;ee<a.length;ee++)if(a.hasOwnProperty(ee)){var le=!1;if(a[ee].length!==1&&V!==a[ee].length-1){if((w+2)*(W+2)+2>u)continue e;k+=a[ee][V],le=!0,D=ee,ee--}else{k=(k+=a[ee][V]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var ce=parseInt(ee),Ne=f(ce,k,o),U=ee>=a.length-1;if(Ne&&!U){k+=" ",V=0;continue}if(Ne||U){if(U)D=ce;else if(n.multiline&&(w+2)*(W+2)+2>u)continue e}else{if(!n.multiline||(w+2)*(W+2)+2>u)continue e;D=ce}}for(var N="",j=L;j<=D;j++){var G=a[j];if(n.multiline){if(j===D){N+=G[V]+" ",V=(V+1)%G.length;continue}if(j===L){N+=G[G.length-1]+" ";continue}}N+=G[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,y=Dp(N,n,o).width,n.textAlign){case"right":d=c-y-2;break;case"center":d=(c-y)/2;break;case"left":default:d=2}e+=qt(d)+" "+qt(S)+` Td
`,e+="("+Bc(N)+`) Tj
`,e+=-qt(d)+` 0 Td
`,S=-(o+2),y=0,L=le?D:D+1,W++,k=""}break}return r.text=e,r.fontSize=o,r},Dp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},I8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},C8=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},R8=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,a=n[t];e.internal.newObjectDeferredBegin(a.objId,!0),jn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete n[r]}},L8=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(so.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(I8)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new fE,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&C8(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var u in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=x8(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=gt.createDefaultAppearanceStream(c),jn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var y=N8(c);f.push({key:"AP",value:"<</N "+y+">>"}),a.internal.acroformPlugin.xForms.push(y)}if(c.appearanceStreamContent){var w="";for(var E in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(E)){var S=c.appearanceStreamContent[E];if(w+="/"+E+" ",w+="<<",Object.keys(S).length>=1||Array.isArray(S)){for(var u in S)if(S.hasOwnProperty(u)){var L=S[u];typeof L=="function"&&(L=L.call(a,c)),w+="/"+u+" "+L+" ",a.internal.acroformPlugin.xForms.indexOf(L)>=0||a.internal.acroformPlugin.xForms.push(L)}}else typeof(L=S)=="function"&&(L=L.call(a,c)),w+="/"+u+" "+L,a.internal.acroformPlugin.xForms.indexOf(L)>=0||a.internal.acroformPlugin.xForms.push(L);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&R8(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},cE=Sr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),jn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Bc(r(n[o].toString()))+")"):a+=n[o].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},F0=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Bc(r(n))+")"},zo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zo.prototype.toString=function(){return this.objId+" 0 R"},zo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},zo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:cE(a,this.objId,this.scope)}):a instanceof zo?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var hE=function(){zo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Sa(hE,zo);var fE=function(){zo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Bc(t(n))+")"}},set:function(t){n=t}})};Sa(fE,zo);var so=function n(){zo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jr(e,3)},set:function(k){k?this.F=Mr(e,3):this.F=Fr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Tm)return;o="FieldObject"+n.FieldNum++}var k=function(W){return W};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Bc(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/i2:d},set:function(k){d=k}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(k){y=k}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Tm||this instanceof Cc))return F0(w,this.objId,this.scope)},set:function(k){k=k.toString(),w=k}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof pi?E:F0(E,this.objId,this.scope)},set:function(k){k=k.toString(),E=this instanceof pi?k:k.substr(0,1)==="("?vh(k.substr(1,k.length-2)):vh(k)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi?vh(E.substr(1,E.length-1)):E},set:function(k){k=k.toString(),E=this instanceof pi?"/"+k:k}});var S=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(S)return S},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof pi?S:F0(S,this.objId,this.scope)},set:function(k){k=k.toString(),S=this instanceof pi?k:k.substr(0,1)==="("?vh(k.substr(1,k.length-2)):vh(k)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi?vh(S.substr(1,S.length-1)):S},set:function(k){k=k.toString(),S=this instanceof pi?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var L,D=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return D},set:function(k){k=!!k,D=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(L)return L},set:function(k){L=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,1)},set:function(k){k?this.Ff=Mr(this.Ff,1):this.Ff=Fr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,2)},set:function(k){k?this.Ff=Mr(this.Ff,2):this.Ff=Fr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,3)},set:function(k){k?this.Ff=Mr(this.Ff,3):this.Ff=Fr(this.Ff,3)}});var V=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(V!==null)return V},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');V=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(V){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:V=2;break;case"center":case 1:V=1;break;case"left":case 0:default:V=0}}})};Sa(so,zo);var Rh=function(){so.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cE(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d}(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,18)},set:function(t){t?this.Ff=Mr(this.Ff,18):this.Ff=Fr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Mr(this.Ff,19):this.Ff=Fr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,20)},set:function(t){t?(this.Ff=Mr(this.Ff,20),e.sort()):this.Ff=Fr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,22)},set:function(t){t?this.Ff=Mr(this.Ff,22):this.Ff=Fr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(t){t?this.Ff=Mr(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,27)},set:function(t){t?this.Ff=Mr(this.Ff,27):this.Ff=Fr(this.Ff,27)}}),this.hasAppearanceStream=!1};Sa(Rh,so);var Lh=function(){Rh.call(this),this.fontName="helvetica",this.combo=!1};Sa(Lh,Rh);var Ph=function(){Lh.call(this),this.combo=!0};Sa(Ph,Lh);var Kp=function(){Ph.call(this),this.edit=!0};Sa(Kp,Ph);var pi=function(){so.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,15)},set:function(t){t?this.Ff=Mr(this.Ff,15):this.Ff=Fr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,16)},set:function(t){t?this.Ff=Mr(this.Ff,16):this.Ff=Fr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,17)},set:function(t){t?this.Ff=Mr(this.Ff,17):this.Ff=Fr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(t){t?this.Ff=Mr(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Bc(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){jn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Sa(pi,so);var Qp=function(){pi.call(this),this.pushButton=!0};Sa(Qp,pi);var Oh=function(){pi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Sa(Oh,pi);var Tm=function(){var n,e;so.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Bc(a(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){jn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sa(Tm,so),Oh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Oh.prototype.createOption=function(n){var e=new Tm;return e.Parent=this,e.optionName=n,this.Kids.push(e),P8.call(this.scope,e),e};var Xp=function(){pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Sa(Xp,pi);var Cc=function(){so.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,13)},set:function(e){e?this.Ff=Mr(this.Ff,13):this.Ff=Fr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,21)},set:function(e){e?this.Ff=Mr(this.Ff,21):this.Ff=Fr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(e){e?this.Ff=Mr(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,24)},set:function(e){e?this.Ff=Mr(this.Ff,24):this.Ff=Fr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,25)},set:function(e){e?this.Ff=Mr(this.Ff,25):this.Ff=Fr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(e){e?this.Ff=Mr(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sa(Cc,so);var Jp=function(){Cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,14)},set:function(n){n?this.Ff=Mr(this.Ff,14):this.Ff=Fr(this.Ff,14)}}),this.password=!0};Sa(Jp,Cc);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=L1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+qt(gt.internal.getWidth(n))+" "+qt(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+qt(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=gt.internal.getHeight(n),u=gt.internal.getWidth(n),c=L1(n,n.caption);return a.push("1 g"),a.push("0 0 "+qt(u)+" "+qt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+qt(u-1)+" "+qt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+qt(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+qt(gt.internal.getWidth(n))+" "+qt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=gt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Cu(gt.internal.getWidth(n)/2)+" "+Cu(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*gt.internal.Bezier_C).toFixed(5)),u=Number((r*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Cu(gt.internal.getWidth(n)/2)+" "+Cu(gt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Cu(gt.internal.getWidth(n)/2)+" "+Cu(gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Cu(gt.internal.getWidth(n)/2)+" "+Cu(gt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],r=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+qt(gt.internal.getWidth(n)-2)+" "+qt(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(qt(r.x1.x)+" "+qt(r.x1.y)+" m"),t.push(qt(r.x2.x)+" "+qt(r.x2.y)+" l"),t.push(qt(r.x4.x)+" "+qt(r.x4.y)+" m"),t.push(qt(r.x3.x)+" "+qt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+qt(gt.internal.getWidth(n))+" "+qt(gt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qt(gt.internal.getWidth(n)-2)+" "+qt(gt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(qt(t.x1.x)+" "+qt(t.x1.y)+" m"),r.push(qt(t.x2.x)+" "+qt(t.x2.y)+" l"),r.push(qt(t.x4.x)+" "+qt(t.x4.y)+" m"),r.push(qt(t.x3.x)+" "+qt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+qt(gt.internal.getWidth(n))+" "+qt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},gt.internal.getWidth=function(n){var e=0;return jn(n)==="object"&&(e=h_(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return jn(n)==="object"&&(e=h_(n.Rect[3])),e};var P8=Sr.addField=function(n){if(L8(this,n),!(n instanceof so))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Sr.AcroFormChoiceField=Rh,Sr.AcroFormListBox=Lh,Sr.AcroFormComboBox=Ph,Sr.AcroFormEditBox=Kp,Sr.AcroFormButton=pi,Sr.AcroFormPushButton=Qp,Sr.AcroFormRadioButton=Oh,Sr.AcroFormCheckBox=Xp,Sr.AcroFormTextField=Cc,Sr.AcroFormPasswordField=Jp,Sr.AcroFormAppearance=gt,Sr.AcroForm={ChoiceField:Rh,ListBox:Lh,ComboBox:Ph,EditBox:Kp,Button:pi,PushButton:Qp,RadioButton:Oh,CheckBox:Xp,TextField:Cc,PasswordField:Jp,Appearance:gt},Pt.AcroForm={ChoiceField:Rh,ListBox:Lh,ComboBox:Ph,EditBox:Kp,Button:pi,PushButton:Qp,RadioButton:Oh,CheckBox:Xp,TextField:Cc,PasswordField:Jp,Appearance:gt};Pt.AcroForm;function dE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(C,P){var M,se,Ie,te,fe,he=e;if((P=P||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(Ne(C))for(fe in t)for(Ie=t[fe],M=0;M<Ie.length;M+=1){for(te=!0,se=0;se<Ie[M].length;se+=1)if(Ie[M][se]!==void 0&&Ie[M][se]!==C[se]){te=!1;break}if(te===!0){he=fe;break}}else for(fe in t)for(Ie=t[fe],M=0;M<Ie.length;M+=1){for(te=!0,se=0;se<Ie[M].length;se+=1)if(Ie[M][se]!==void 0&&Ie[M][se]!==C.charCodeAt(se)){te=!1;break}if(te===!0){he=fe;break}}return he===e&&P!==e&&(he=P),he},a=function C(P){for(var M=this.internal.write,se=this.internal.putStream,Ie=(0,this.internal.getFilters)();Ie.indexOf("FlateEncode")!==-1;)Ie.splice(Ie.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:P.width}),te.push({key:"Height",value:P.height}),P.colorSpace===V.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===V.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var fe="",he=0,Ce=P.transparency.length;he<Ce;he++)fe+=P.transparency[he]+" "+P.transparency[he]+" ";te.push({key:"Mask",value:"["+fe+"]"})}P.sMask!==void 0&&te.push({key:"SMask",value:P.objectId+1+" 0 R"});var J=P.filter!==void 0?["/"+P.filter]:void 0;if(se({data:P.data,additionalKeyValues:te,alreadyAppliedFilters:J,objectId:P.objectId}),M("endobj"),"sMask"in P&&P.sMask!==void 0){var Te="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,O={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:Te,data:P.sMask};"filter"in P&&(O.filter=P.filter),C.call(this,O)}if(P.colorSpace===V.INDEXED){var z=this.internal.newObject();se({data:N(new Uint8Array(P.palette)),objectId:z}),M("endobj")}},o=function(){var C=this.internal.collections.addImage_images;for(var P in C)a.call(this,C[P])},u=function(){var C,P=this.internal.collections.addImage_images,M=this.internal.write;for(var se in P)M("/I"+(C=P[se]).index,C.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var C=this.internal.collections.addImage_images;return c.call(this),C},d=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(C){return typeof n["process"+C.toUpperCase()]=="function"},w=function(C){return jn(C)==="object"&&C.nodeType===1},E=function(C,P){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var M=""+C.getAttribute("src");if(M.indexOf("data:image/")===0)return rd(unescape(M).split("base64,").pop());var se=n.loadFile(M,!0);if(se!==void 0)return se}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var Ie;switch(P){case"PNG":Ie="image/png";break;case"WEBP":Ie="image/webp";break;case"JPEG":case"JPG":default:Ie="image/jpeg"}return rd(C.toDataURL(Ie,1).split("base64,").pop())}},S=function(C){var P=this.internal.collections.addImage_images;if(P){for(var M in P)if(C===P[M].alias)return P[M]}},L=function(C,P,M){return C||P||(C=-96,P=-96),C<0&&(C=-1*M.width*72/C/this.internal.scaleFactor),P<0&&(P=-1*M.height*72/P/this.internal.scaleFactor),C===0&&(C=P*M.width/M.height),P===0&&(P=C*M.height/M.width),[C,P]},D=function(C,P,M,se,Ie,te){var fe=L.call(this,M,se,Ie),he=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,J=f.call(this);if(M=fe[0],se=fe[1],J[Ie.index]=Ie,te){te*=Math.PI/180;var Te=Math.cos(te),O=Math.sin(te),z=function(ie){return ie.toFixed(4)},X=[z(Te),z(O),z(-1*O),z(Te),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,he(C),Ce(P+se),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([he(M),"0","0",he(se),"0","0","cm"].join(" "))):this.internal.write([he(M),"0","0",he(se),he(C),Ce(P+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ie.index+" Do"),this.internal.write("Q")},V=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=n.__addimage__.sHashCode=function(C){var P,M,se=0;if(typeof C=="string")for(M=C.length,P=0;P<M;P++)se=(se<<5)-se+C.charCodeAt(P),se|=0;else if(Ne(C))for(M=C.byteLength/2,P=0;P<M;P++)se=(se<<5)-se+C[P],se|=0;return se},ee=n.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var P=!0;return C.length===0&&(P=!1),C.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(P=!1),P},le=n.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var P=C.indexOf(",");return P<0?null:C.substring(0,P).trim().endsWith("base64")?C.substring(P+1):null},ce=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(C){return ce()&&C instanceof ArrayBuffer};var Ne=n.__addimage__.isArrayBufferView=function(C){return ce()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},U=n.__addimage__.binaryStringToUint8Array=function(C){for(var P=C.length,M=new Uint8Array(P),se=0;se<P;se++)M[se]=C.charCodeAt(se);return M},N=n.__addimage__.arrayBufferToBinaryString=function(C){for(var P="",M=Ne(C)?C:new Uint8Array(C),se=0;se<M.length;se+=8192)P+=String.fromCharCode.apply(null,M.subarray(se,se+8192));return P};n.addImage=function(){var C,P,M,se,Ie,te,fe,he,Ce;if(typeof arguments[1]=="number"?(P=e,M=arguments[1],se=arguments[2],Ie=arguments[3],te=arguments[4],fe=arguments[5],he=arguments[6],Ce=arguments[7]):(P=arguments[1],M=arguments[2],se=arguments[3],Ie=arguments[4],te=arguments[5],fe=arguments[6],he=arguments[7],Ce=arguments[8]),jn(C=arguments[0])==="object"&&!w(C)&&"imageData"in C){var J=C;C=J.imageData,P=J.format||P||e,M=J.x||M||0,se=J.y||se||0,Ie=J.w||J.width||Ie,te=J.h||J.height||te,fe=J.alias||fe,he=J.compression||he,Ce=J.rotation||J.angle||Ce}var Te=this.internal.getFilters();if(he===void 0&&Te.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(M)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=j.call(this,C,P,fe,he);return D.call(this,M,se,Ie,te,O,Ce),this};var j=function(C,P,M,se){var Ie,te,fe;if(typeof C=="string"&&r(C)===e){C=unescape(C);var he=G(C,!1);(he!==""||(he=n.loadFile(C,!0))!==void 0)&&(C=he)}if(w(C)&&(C=E(C,P)),P=r(C,P),!y(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((fe=M)==null||fe.length===0)&&(M=function(Ce){return typeof Ce=="string"||Ne(Ce)?W(Ce):Ne(Ce.data)?W(Ce.data):null}(C)),(Ie=S.call(this,M))||(ce()&&(C instanceof Uint8Array||P==="RGBA"||(te=C,C=U(C))),Ie=this["process"+P.toUpperCase()](C,d.call(this),M,function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in n.image_compression?Ce:k.NONE}(se),te)),!Ie)throw new Error("An unknown error occurred whilst processing the image.");return Ie},G=n.__addimage__.convertBase64ToBinaryString=function(C,P){P=typeof P!="boolean"||P;var M,se="";if(typeof C=="string"){var Ie;M=(Ie=le(C))!==null&&Ie!==void 0?Ie:C;try{se=rd(M)}catch(te){if(P)throw ee(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};n.getImageProperties=function(C){var P,M,se="";if(w(C)&&(C=E(C)),typeof C=="string"&&r(C)===e&&((se=G(C,!1))===""&&(se=n.loadFile(C)||""),C=se),M=r(C),!y(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!ce()||C instanceof Uint8Array||(C=U(C)),!(P=this["process"+M.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=M,P}})(Pt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Pt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,y=!1,w=0;w<d.length&&!y;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var E=0;E<d.length;E++){r=d[E];var S=this.internal.pdfEscape,L=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var D=this.internal.newAdditionalObject(),V=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(D.objId),W=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+S(k(r.contents))+")",o+=" /Popup "+V.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+S(k(W))+") >>",D.content=o;var ee=D.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+ee,r.open&&(o+=" /Open true"),o+=" >>",V.content=o,this.internal.write(D.objId,"0 R",V.objId,"0 R");break;case"freetext":a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var le=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+S(L(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+le+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ce=this.annotations._nameMap[r.options.name];r.options.pageNumber=ce.page,r.options.top=ce.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+S(L(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Ne=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Ne+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,a,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var y=this.splitTextToSize(t,c).length;u=Math.ceil(d*y)}else c=f,u=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Pt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(D){return e[D.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(D){return typeof D=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(D)},c=n.__arabicParser__.isArabicEndLetter=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(D){return u(D)&&a.indexOf(D.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(D){var V=0,k=t,W="",ee=0;for(V=0;V<D.length;V+=1)k[D.charCodeAt(V)]!==void 0?(ee++,typeof(k=k[D.charCodeAt(V)])=="number"&&(W+=String.fromCharCode(k),k=t,ee=0),V===D.length-1&&(k=t,W+=D.charAt(V-(ee-1)),V-=ee-1,ee=0)):(k=t,W+=D.charAt(V-ee),V-=ee,ee=0);return W};n.__arabicParser__.isArabicDiacritic=function(D){return D!==void 0&&r[D.charCodeAt(0)]!==void 0};var E=n.__arabicParser__.getCorrectForm=function(D,V,k){return u(D)?o(D)===!1?-1:!d(D)||!u(V)&&!u(k)||!u(k)&&c(V)||c(D)&&!u(V)||c(D)&&f(V)||c(D)&&c(V)?0:y(D)&&u(V)&&!c(V)&&u(k)&&d(k)?3:c(D)||!u(k)?1:2:-1},S=function(D){var V=0,k=0,W=0,ee="",le="",ce="",Ne=(D=D||"").split("\\s+"),U=[];for(V=0;V<Ne.length;V+=1){for(U.push(""),k=0;k<Ne[V].length;k+=1)ee=Ne[V][k],le=Ne[V][k-1],ce=Ne[V][k+1],u(ee)?(W=E(ee,le,ce),U[V]+=W!==-1?String.fromCharCode(e[ee.charCodeAt(0)][W]):ee):U[V]+=ee;U[V]=w(U[V])}return U.join(" ")},L=n.__arabicParser__.processArabic=n.processArabic=function(){var D,V=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(V)){var W=0;for(k=[],W=0;W<V.length;W+=1)Array.isArray(V[W])?k.push([S(V[W][0]),V[W][1],V[W][2]]):k.push([S(V[W])]);D=k}else D=S(V);return typeof arguments[0]=="string"?D:(arguments[0].text=D,arguments[0])};n.events.push(["preProcessText",L])}(Pt.API),Pt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Pt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(D){f=D}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(D){d=D}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(D){y=D}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(D){w=D}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(D){E=D}});var S=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return S},set:function(D){S=D}});var L=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return L},set:function(D){L=D}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var y=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),E=d.scaleFactor||this.internal.scaleFactor,S=0,L=0,D=0,V=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=d.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(ee,le){return ee.concat(V.splitTextToSize(le,k))},[])):f=Array.isArray(f)?f:[f];for(var W=0;W<f.length;W++)S<(D=this.getStringUnitWidth(f[W],{font:w})*y)&&(S=D);return S!==0&&(L=f.length),{w:S/=E,h:Math.max((L*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/E,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,E=this.internal.__cell__.tableHeaderRow,S=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,S&&E&&(this.printHeaderRow(f.lineNumber,!0),f.y+=E[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,y,w,E){if(r.call(this),!y)throw new Error("No data for PDF table.");var S,L,D,V,k=[],W=[],ee=[],le={},ce={},Ne=[],U=[],N=(E=E||{}).autoSize||!1,j=E.printHeaders!==!1,G=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,C=E.margins||Object.assign({width:this.getPageWidth()},e),P=typeof E.padding=="number"?E.padding:3,M=E.headerBackgroundColor||"#c8c8c8",se=E.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=se,this.setFontSize(G),w==null)W=k=Object.keys(y[0]),ee=k.map(function(){return"left"});else if(Array.isArray(w)&&jn(w[0])==="object")for(k=w.map(function(J){return J.name}),W=w.map(function(J){return J.prompt||J.name||""}),ee=w.map(function(J){return J.align||"left"}),S=0;S<w.length;S+=1)ce[w[S].name]=w[S].width*(19.049976/25.4);else Array.isArray(w)&&typeof w[0]=="string"&&(W=k=w,ee=k.map(function(){return"left"}));if(N||Array.isArray(w)&&typeof w[0]=="string")for(S=0;S<k.length;S+=1){for(le[V=k[S]]=y.map(function(J){return J[V]}),this.setFont(void 0,"bold"),Ne.push(this.getTextDimensions(W[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),L=le[V],this.setFont(void 0,"normal"),D=0;D<L.length;D+=1)Ne.push(this.getTextDimensions(L[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[V]=Math.max.apply(null,Ne)+P+P,Ne=[]}if(j){var Ie={};for(S=0;S<k.length;S+=1)Ie[k[S]]={},Ie[k[S]].text=W[S],Ie[k[S]].align=ee[S];var te=c.call(this,Ie,ce);U=k.map(function(J){return new o(f,d,ce[J],te,Ie[J].text,void 0,Ie[J].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var fe=w.reduce(function(J,Te){return J[Te.name]=Te.align,J},{});for(S=0;S<y.length;S+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:S,data:y[S]},this);var he=c.call(this,y[S],ce);for(D=0;D<k.length;D+=1){var Ce=y[S][k[D]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:S,col:D,data:Ce},this),u.call(this,new o(f,d,ce[k[D]],he,Ce,S+2,fe[k[D]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var y=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(f).map(function(S){var L=f[S];return this.splitTextToSize(L.hasOwnProperty("text")?L.text:L,d[S]-y-y)},this).map(function(S){return this.getLineHeightFactor()*S.length*w/E+y+y},this).reduce(function(S,L){return Math.max(S,L)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],S=0;S<this.internal.__cell__.tableHeaderRow.length;S+=1){y=this.internal.__cell__.tableHeaderRow[S].clone(),d&&(y.y=this.internal.__cell__.margins.top||0,E.push(y)),y.lineNumber=f;var L=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(L)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),t=!1}}(Pt.API);var pE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],P1=dE(mE),gE=[100,200,300,400,500,600,700,800,900],O8=dE(gE);function O1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return pE[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),a=function(o){return typeof P1[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function f_(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var D8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},d_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function p_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function k8(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",a=Object.assign({},D8,t.genericFontFamilies||{}),o=null,u=null,c=0;c<e.length;++c)if(a[(o=O1(e[c])).family]&&(o.family=a[o.family]),n.hasOwnProperty(o.family)){u=n[o.family];break}if(!(u=u||n[r]))throw new Error("Could not find a font-family for the rule '"+p_(o)+"' and default family '"+r+"'.");if(u=function(f,d){if(d[f])return d[f];var y=P1[f],w=y<=P1.normal?-1:1,E=f_(d,mE,y,w);if(!E)throw new Error("Could not find a matching font-stretch value for "+f);return E}(o.stretch,u),u=function(f,d){if(d[f])return d[f];for(var y=pE[f],w=0;w<y.length;++w)if(d[y[w]])return d[y[w]];throw new Error("Could not find a matching font-style for "+f)}(o.style,u),!(u=function(f,d){if(d[f])return d[f];if(f===400&&d[500])return d[500];if(f===500&&d[400])return d[400];var y=O8[f],w=f_(d,gE,y,f<400?-1:1);if(!w)throw new Error("Could not find a matching font-weight for value "+f);return w}(o.weight,u)))throw new Error("Failed to resolve a font for the rule '"+p_(o)+"'.");return u}function m_(n){return n.trimLeft()}function j8(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function M8(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var kp,g_,v_,U0=["times"];(function(n){var e,t,r,a,o,u,c,f,d,y=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new f,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new u,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new u,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new y}]);var w=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=O;Object.defineProperty(this,"pdf",{get:function(){return z}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Ue){X=!!Ue}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Ue){ie=!!Ue}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Ue){isNaN(Ue)||(ae=Ue)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(Ue){isNaN(Ue)||(_e=Ue)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ue){var oe;typeof Ue=="number"?oe=[Ue,Ue,Ue,Ue]:((oe=new Array(4))[0]=Ue[0],oe[1]=Ue.length>=2?Ue[1]:oe[0],oe[2]=Ue.length>=3?Ue[2]:oe[0],oe[3]=Ue.length>=4?Ue[3]:oe[1]),d.margin=oe}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Ue){pe=Ue}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(Ue){Ee=Ue}});var Je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Je},set:function(Ue){Je=Ue}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ue){Ue instanceof y&&(d=Ue)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ue){d.path=Ue}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(Ue){Ke=Ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ue){var oe;oe=E(Ue),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ue){var oe=E(Ue);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ue){["butt","round","square"].indexOf(Ue)!==-1&&(this.ctx.lineCap=Ue,this.pdf.setLineCap(Ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ue){isNaN(Ue)||(this.ctx.lineWidth=Ue,this.pdf.setLineWidth(Ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ue){["bevel","round","miter"].indexOf(Ue)!==-1&&(this.ctx.lineJoin=Ue,this.pdf.setLineJoin(Ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ue){isNaN(Ue)||(this.ctx.miterLimit=Ue,this.pdf.setMiterLimit(Ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ue){this.ctx.textBaseline=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ue){["right","end","center","left","start"].indexOf(Ue)!==-1&&(this.ctx.textAlign=Ue)}});var tt=null;function nt(Ue,oe){if(tt===null){var At=function(dt){var Ze=[];return Object.keys(dt).forEach(function(et){dt[et].forEach(function(st){var ot=null;switch(st){case"bold":ot={family:et,weight:"bold"};break;case"italic":ot={family:et,style:"italic"};break;case"bolditalic":ot={family:et,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:et}}ot!==null&&(ot.ref={name:et,style:st},Ze.push(ot))})}),Ze}(Ue.getFontList());tt=function(dt){for(var Ze={},et=0;et<dt.length;++et){var st=O1(dt[et]),ot=st.family,yt=st.stretch,Rt=st.style,Ft=st.weight;Ze[ot]=Ze[ot]||{},Ze[ot][yt]=Ze[ot][yt]||{},Ze[ot][yt][Rt]=Ze[ot][yt][Rt]||{},Ze[ot][yt][Rt][Ft]=st}return Ze}(At.concat(oe))}return tt}var wt=null;Object.defineProperty(this,"fontFaces",{get:function(){return wt},set:function(Ue){tt=null,wt=Ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ue){var oe;if(this.ctx.font=Ue,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ue))!==null){var At=oe[1];oe[2];var dt=oe[3],Ze=oe[4];oe[5];var et=oe[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(st==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var ot=function(pt){var Gt,lt,er=[],Yt=pt.trim();if(Yt==="")return U0;if(Yt in d_)return[d_[Yt]];for(;Yt!=="";){switch(lt=null,Gt=(Yt=m_(Yt)).charAt(0)){case'"':case"'":lt=j8(Yt.substring(1),Gt);break;default:lt=M8(Yt)}if(lt===null||(er.push(lt[0]),(Yt=m_(lt[1]))!==""&&Yt.charAt(0)!==","))return U0;Yt=Yt.replace(/^,/,"")}return er}(et);if(this.fontFaces){var yt=k8(nt(this.pdf,this.fontFaces),ot.map(function(pt){return{family:pt,stretch:"normal",weight:dt,style:At}}));this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var Rt="";(dt==="bold"||parseInt(dt,10)>=700||At==="bold")&&(Rt="bold"),At==="italic"&&(Rt+="italic"),Rt.length===0&&(Rt="normal");for(var Ft="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<ot.length;vt++){if(this.pdf.internal.getFont(ot[vt],Rt,{noFallback:!0,disableWarning:!0})!==void 0){Ft=ot[vt];break}if(Rt==="bolditalic"&&this.pdf.internal.getFont(ot[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ft=ot[vt],Rt="bold";else if(this.pdf.internal.getFont(ot[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ft=ot[vt],Rt="normal";break}}if(Ft===""){for(var Ht=0;Ht<ot.length;Ht++)if(bt[ot[Ht]]){Ft=bt[ot[Ht]];break}}Ft=Ft===""?"Times":Ft,this.pdf.setFont(Ft,Rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ue){this.ctx.globalCompositeOperation=Ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ue){this.ctx.globalAlpha=Ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ue){this.ctx.lineDashOffset=Ue,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ue){this.ctx.lineDash=Ue,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ue){this.ctx.ignoreClearRect=!!Ue}})};w.prototype.setLineDash=function(O){this.lineDash=O},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){le.call(this,"fill",!1)},w.prototype.stroke=function(){le.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(O,z){if(isNaN(O)||isNaN(z))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new u(O,z));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(O,z)},w.prototype.closePath=function(){var O=new u(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&jn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){O=new u(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(O.x,O.y)},w.prototype.lineTo=function(O,z){if(isNaN(O)||isNaN(z))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new u(O,z));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),le.call(this,null,!0)},w.prototype.quadraticCurveTo=function(O,z,X,ie){if(isNaN(X)||isNaN(ie)||isNaN(O)||isNaN(z))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new u(X,ie)),_e=this.ctx.transform.applyToPoint(new u(O,z));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new u(ae.x,ae.y)},w.prototype.bezierCurveTo=function(O,z,X,ie,ae,_e){if(isNaN(ae)||isNaN(_e)||isNaN(O)||isNaN(z)||isNaN(X)||isNaN(ie))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new u(ae,_e)),Ee=this.ctx.transform.applyToPoint(new u(O,z)),Je=this.ctx.transform.applyToPoint(new u(X,ie));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Je.x,y2:Je.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new u(pe.x,pe.y)},w.prototype.arc=function(O,z,X,ie,ae,_e){if(isNaN(O)||isNaN(z)||isNaN(X)||isNaN(ie)||isNaN(ae))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new u(O,z));O=pe.x,z=pe.y;var Ee=this.ctx.transform.applyToPoint(new u(0,X)),Je=this.ctx.transform.applyToPoint(new u(0,0));X=Math.sqrt(Math.pow(Ee.x-Je.x,2)+Math.pow(Ee.y-Je.y,2))}Math.abs(ae-ie)>=2*Math.PI&&(ie=0,ae=2*Math.PI),this.path.push({type:"arc",x:O,y:z,radius:X,startAngle:ie,endAngle:ae,counterclockwise:_e})},w.prototype.arcTo=function(O,z,X,ie,ae){throw new Error("arcTo not implemented.")},w.prototype.rect=function(O,z,X,ie){if(isNaN(O)||isNaN(z)||isNaN(X)||isNaN(ie))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,z),this.lineTo(O+X,z),this.lineTo(O+X,z+ie),this.lineTo(O,z+ie),this.lineTo(O,z),this.lineTo(O+X,z),this.lineTo(O,z)},w.prototype.fillRect=function(O,z,X,ie){if(isNaN(O)||isNaN(z)||isNaN(X)||isNaN(ie))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!S.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,z,X,ie),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},w.prototype.strokeRect=function(O,z,X,ie){if(isNaN(O)||isNaN(z)||isNaN(X)||isNaN(ie))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(O,z,X,ie),this.stroke())},w.prototype.clearRect=function(O,z,X,ie){if(isNaN(O)||isNaN(z)||isNaN(X)||isNaN(ie))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,z,X,ie))},w.prototype.save=function(O){O=typeof O!="boolean"||O;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},w.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(z),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(O){var z,X,ie,ae;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))z=0,X=0,ie=0,ae=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(_e!==null)z=parseInt(_e[1]),X=parseInt(_e[2]),ie=parseInt(_e[3]),ae=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)z=parseInt(_e[1]),X=parseInt(_e[2]),ie=parseInt(_e[3]),ae=parseFloat(_e[4]);else{if(ae=1,typeof O=="string"&&O.charAt(0)!=="#"){var pe=new oE(O);O=pe.ok?pe.toHex():"#000000"}O.length===4?(z=O.substring(1,2),z+=z,X=O.substring(2,3),X+=X,ie=O.substring(3,4),ie+=ie):(z=O.substring(1,3),X=O.substring(3,5),ie=O.substring(5,7)),z=parseInt(z,16),X=parseInt(X,16),ie=parseInt(ie,16)}}return{r:z,g:X,b:ie,a:ae,style:O}},S=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},L=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(O,z,X,ie){if(isNaN(z)||isNaN(X)||typeof O!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!S.call(this)){var ae=he(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;P.call(this,{text:O,x:z,y:X,scale:_e,angle:ae,align:this.textAlign,maxWidth:ie})}},w.prototype.strokeText=function(O,z,X,ie){if(isNaN(z)||isNaN(X)||typeof O!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){ie=isNaN(ie)?void 0:ie;var ae=he(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;P.call(this,{text:O,x:z,y:X,scale:_e,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ie})}},w.prototype.measureText=function(O){if(typeof O!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,X=this.pdf.internal.scaleFactor,ie=z.internal.getFontSize(),ae=z.getStringUnitWidth(O)*ie/z.internal.scaleFactor,_e=function(pe){var Ee=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new _e({width:ae*=Math.round(96*X/72*1e4)/1e4})},w.prototype.scale=function(O,z){if(isNaN(O)||isNaN(z))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new f(O,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},w.prototype.rotate=function(O){if(isNaN(O))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},w.prototype.translate=function(O,z){if(isNaN(O)||isNaN(z))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new f(1,0,0,1,O,z);this.ctx.transform=this.ctx.transform.multiply(X)},w.prototype.transform=function(O,z,X,ie,ae,_e){if(isNaN(O)||isNaN(z)||isNaN(X)||isNaN(ie)||isNaN(ae)||isNaN(_e))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new f(O,z,X,ie,ae,_e);this.ctx.transform=this.ctx.transform.multiply(pe)},w.prototype.setTransform=function(O,z,X,ie,ae,_e){O=isNaN(O)?1:O,z=isNaN(z)?0:z,X=isNaN(X)?0:X,ie=isNaN(ie)?1:ie,ae=isNaN(ae)?0:ae,_e=isNaN(_e)?0:_e,this.ctx.transform=new f(O,z,X,ie,ae,_e)};var D=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(O,z,X,ie,ae,_e,pe,Ee,Je){var Ke=this.pdf.getImageProperties(O),tt=1,nt=1,wt=1,Ue=1;ie!==void 0&&Ee!==void 0&&(wt=Ee/ie,Ue=Je/ae,tt=Ke.width/ie*Ee/ie,nt=Ke.height/ae*Je/ae),_e===void 0&&(_e=z,pe=X,z=0,X=0),ie!==void 0&&Ee===void 0&&(Ee=ie,Je=ae),ie===void 0&&Ee===void 0&&(Ee=Ke.width,Je=Ke.height);for(var oe,At=this.ctx.transform.decompose(),dt=he(At.rotate.shx),Ze=new f,et=(Ze=(Ze=(Ze=Ze.multiply(At.translate)).multiply(At.skew)).multiply(At.scale)).applyToRectangle(new c(_e-z*wt,pe-X*Ue,ie*tt,ae*nt)),st=V.call(this,et),ot=[],yt=0;yt<st.length;yt+=1)ot.indexOf(st[yt])===-1&&ot.push(st[yt]);if(ee(ot),this.autoPaging)for(var Rt=ot[0],Ft=ot[ot.length-1],bt=Rt;bt<Ft+1;bt++){this.pdf.setPage(bt);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=bt===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=bt===1?0:pt+(bt-2)*Gt;if(this.ctx.clip_path.length!==0){var er=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(oe,this.posX+this.margin[3],-lt+Ht+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=er}var Yt=JSON.parse(JSON.stringify(et));Yt=W([Yt],this.posX+this.margin[3],-lt+Ht+this.ctx.prevPageLastElemOffset)[0];var Wr=(bt>Rt||bt<Ft)&&D.call(this);Wr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Gt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,dt),Wr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",et.x,et.y,et.w,et.h,null,null,dt)};var V=function(O,z,X){var ie=[];z=z||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ie.push(Math.floor((O.y+ae)/X)+1);break;case"arc":ie.push(Math.floor((O.y+ae-O.radius)/X)+1),ie.push(Math.floor((O.y+ae+O.radius)/X)+1);break;case"qct":var _e=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ie.push(Math.floor((_e.y+ae)/X)+1),ie.push(Math.floor((_e.y+_e.h+ae)/X)+1);break;case"bct":var pe=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ie.push(Math.floor((pe.y+ae)/X)+1),ie.push(Math.floor((pe.y+pe.h+ae)/X)+1);break;case"rect":ie.push(Math.floor((O.y+ae)/X)+1),ie.push(Math.floor((O.y+O.h+ae)/X)+1)}for(var Ee=0;Ee<ie.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Ee];)k.call(this);return ie},k=function(){var O=this.fillStyle,z=this.strokeStyle,X=this.font,ie=this.lineCap,ae=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=z,this.font=X,this.lineCap=ie,this.lineWidth=ae,this.lineJoin=_e},W=function(O,z,X){for(var ie=0;ie<O.length;ie++)switch(O[ie].type){case"bct":O[ie].x2+=z,O[ie].y2+=X;case"qct":O[ie].x1+=z,O[ie].y1+=X;case"mt":case"lt":case"arc":default:O[ie].x+=z,O[ie].y+=X}return O},ee=function(O){return O.sort(function(z,X){return z-X})},le=function(O,z){for(var X,ie,ae=this.fillStyle,_e=this.strokeStyle,pe=this.lineCap,Ee=this.lineWidth,Je=Math.abs(Ee*this.ctx.transform.scaleX),Ke=this.lineJoin,tt=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),wt=[],Ue=0;Ue<nt.length;Ue++)if(nt[Ue].x!==void 0)for(var oe=V.call(this,nt[Ue]),At=0;At<oe.length;At+=1)wt.indexOf(oe[At])===-1&&wt.push(oe[At]);for(var dt=0;dt<wt.length;dt++)for(;this.pdf.internal.getNumberOfPages()<wt[dt];)k.call(this);if(ee(wt),this.autoPaging)for(var Ze=wt[0],et=wt[wt.length-1],st=Ze;st<et+1;st++){this.pdf.setPage(st),this.fillStyle=ae,this.strokeStyle=_e,this.lineCap=pe,this.lineWidth=Je,this.lineJoin=Ke;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=st===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=st===1?0:Rt+(st-2)*Ft;if(this.ctx.clip_path.length!==0){var vt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(X,this.posX+this.margin[3],-bt+yt+this.ctx.prevPageLastElemOffset),ce.call(this,O,!0),this.path=vt}if(ie=JSON.parse(JSON.stringify(tt)),this.path=W(ie,this.posX+this.margin[3],-bt+yt+this.ctx.prevPageLastElemOffset),z===!1||st===0){var Ht=(st>Ze||st<et)&&D.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ft,null).clip().discardPath()),ce.call(this,O,z),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Je,ce.call(this,O,z),this.lineWidth=Ee;this.path=tt},ce=function(O,z){if((O!=="stroke"||z||!L.call(this))&&(O==="stroke"||z||!S.call(this))){for(var X,ie,ae=[],_e=this.path,pe=0;pe<_e.length;pe++){var Ee=_e[pe];switch(Ee.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Je=ae.length;if(_e[pe-1]&&!isNaN(_e[pe-1].x)&&(X=[Ee.x-_e[pe-1].x,Ee.y-_e[pe-1].y],Je>0)){for(;Je>=0;Je--)if(ae[Je-1].close!==!0&&ae[Je-1].begin!==!0){ae[Je-1].deltas.push(X),ae[Je-1].abs.push(Ee);break}}break;case"bct":X=[Ee.x1-_e[pe-1].x,Ee.y1-_e[pe-1].y,Ee.x2-_e[pe-1].x,Ee.y2-_e[pe-1].y,Ee.x-_e[pe-1].x,Ee.y-_e[pe-1].y],ae[ae.length-1].deltas.push(X);break;case"qct":var Ke=_e[pe-1].x+2/3*(Ee.x1-_e[pe-1].x),tt=_e[pe-1].y+2/3*(Ee.y1-_e[pe-1].y),nt=Ee.x+2/3*(Ee.x1-Ee.x),wt=Ee.y+2/3*(Ee.y1-Ee.y),Ue=Ee.x,oe=Ee.y;X=[Ke-_e[pe-1].x,tt-_e[pe-1].y,nt-_e[pe-1].x,wt-_e[pe-1].y,Ue-_e[pe-1].x,oe-_e[pe-1].y],ae[ae.length-1].deltas.push(X);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Ee)}}ie=z?null:O==="stroke"?"stroke":"fill";for(var At=!1,dt=0;dt<ae.length;dt++)if(ae[dt].arc)for(var Ze=ae[dt].abs,et=0;et<Ze.length;et++){var st=Ze[et];st.type==="arc"?N.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,z,!At):M.call(this,st.x,st.y),At=!0}else if(ae[dt].close===!0)this.pdf.internal.out("h"),At=!1;else if(ae[dt].begin!==!0){var ot=ae[dt].start.x,yt=ae[dt].start.y;se.call(this,ae[dt].deltas,ot,yt),At=!0}ie&&j.call(this,ie),z&&G.call(this)}},Ne=function(O){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-X;case"top":return O+z-X;case"hanging":return O+z-2*X;case"middle":return O+z/2-X;case"ideographic":return O;case"alphabetic":default:return O}},U=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(z,X){this.colorStops.push([z,X])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(O,z,X,ie,ae,_e,pe,Ee,Je){for(var Ke=te.call(this,X,ie,ae,_e),tt=0;tt<Ke.length;tt++){var nt=Ke[tt];tt===0&&(Je?C.call(this,nt.x1+O,nt.y1+z):M.call(this,nt.x1+O,nt.y1+z)),Ie.call(this,O,z,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}Ee?G.call(this):j.call(this,pe)},j=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(O,z){this.pdf.internal.out(t(O)+" "+r(z)+" m")},P=function(O){var z;switch(O.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var X=this.pdf.getTextDimensions(O.text),ie=Ne.call(this,O.y),ae=U.call(this,ie)-X.h,_e=this.ctx.transform.applyToPoint(new u(O.x,ie)),pe=this.ctx.transform.decompose(),Ee=new f;Ee=(Ee=(Ee=Ee.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var Je,Ke,tt,nt=this.ctx.transform.applyToRectangle(new c(O.x,ie,X.w,X.h)),wt=Ee.applyToRectangle(new c(O.x,ae,X.w,X.h)),Ue=V.call(this,wt),oe=[],At=0;At<Ue.length;At+=1)oe.indexOf(Ue[At])===-1&&oe.push(Ue[At]);if(ee(oe),this.autoPaging)for(var dt=oe[0],Ze=oe[oe.length-1],et=dt;et<Ze+1;et++){this.pdf.setPage(et);var st=et===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],Rt=yt-this.margin[0],Ft=this.pdf.internal.pageSize.width-this.margin[1],bt=Ft-this.margin[3],vt=et===1?0:ot+(et-2)*Rt;if(this.ctx.clip_path.length!==0){var Ht=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Je,this.posX+this.margin[3],-1*vt+st),ce.call(this,"fill",!0),this.path=Ht}var pt=W([JSON.parse(JSON.stringify(wt))],this.posX+this.margin[3],-vt+st+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*O.scale),tt=this.lineWidth,this.lineWidth=tt*O.scale);var Gt=this.autoPaging!=="text";if(Gt||pt.y+pt.h<=yt){if(Gt||pt.y>=st&&pt.x<=Ft){var lt=Gt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Ft-pt.x)[0],er=W([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-vt+st+this.ctx.prevPageLastElemOffset)[0],Yt=Gt&&(et>dt||et<Ze)&&D.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Rt,null).clip().discardPath()),this.pdf.text(lt,er.x,er.y,{angle:O.angle,align:z,renderingMode:O.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else pt.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-pt.y);O.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=tt)}else O.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*O.scale),tt=this.lineWidth,this.lineWidth=tt*O.scale),this.pdf.text(O.text,_e.x+this.posX,_e.y+this.posY,{angle:O.angle,align:z,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=tt)},M=function(O,z,X,ie){X=X||0,ie=ie||0,this.pdf.internal.out(t(O+X)+" "+r(z+ie)+" l")},se=function(O,z,X){return this.pdf.lines(O,z,X,null,null)},Ie=function(O,z,X,ie,ae,_e,pe,Ee){this.pdf.internal.out([e(a(X+O)),e(o(ie+z)),e(a(ae+O)),e(o(_e+z)),e(a(pe+O)),e(o(Ee+z)),"c"].join(" "))},te=function(O,z,X,ie){for(var ae=2*Math.PI,_e=Math.PI/2;z>X;)z-=ae;var pe=Math.abs(X-z);pe<ae&&ie&&(pe=ae-pe);for(var Ee=[],Je=ie?-1:1,Ke=z;pe>1e-5;){var tt=Ke+Je*Math.min(pe,_e);Ee.push(fe.call(this,O,Ke,tt)),pe-=Math.abs(tt-Ke),Ke=tt}return Ee},fe=function(O,z,X){var ie=(X-z)/2,ae=O*Math.cos(ie),_e=O*Math.sin(ie),pe=ae,Ee=-_e,Je=pe*pe+Ee*Ee,Ke=Je+pe*ae+Ee*_e,tt=4/3*(Math.sqrt(2*Je*Ke)-Ke)/(pe*_e-Ee*ae),nt=pe-tt*Ee,wt=Ee+tt*pe,Ue=nt,oe=-wt,At=ie+z,dt=Math.cos(At),Ze=Math.sin(At);return{x1:O*Math.cos(z),y1:O*Math.sin(z),x2:nt*dt-wt*Ze,y2:nt*Ze+wt*dt,x3:Ue*dt-oe*Ze,y3:Ue*Ze+oe*dt,x4:O*Math.cos(X),y4:O*Math.sin(X)}},he=function(O){return 180*O/Math.PI},Ce=function(O,z,X,ie,ae,_e){var pe=O+.5*(X-O),Ee=z+.5*(ie-z),Je=ae+.5*(X-ae),Ke=_e+.5*(ie-_e),tt=Math.min(O,ae,pe,Je),nt=Math.max(O,ae,pe,Je),wt=Math.min(z,_e,Ee,Ke),Ue=Math.max(z,_e,Ee,Ke);return new c(tt,wt,nt-tt,Ue-wt)},J=function(O,z,X,ie,ae,_e,pe,Ee){var Je,Ke,tt,nt,wt,Ue,oe,At,dt,Ze,et,st,ot,yt,Rt=X-O,Ft=ie-z,bt=ae-X,vt=_e-ie,Ht=pe-ae,pt=Ee-_e;for(Ke=0;Ke<41;Ke++)dt=(oe=(tt=O+(Je=Ke/40)*Rt)+Je*((wt=X+Je*bt)-tt))+Je*(wt+Je*(ae+Je*Ht-wt)-oe),Ze=(At=(nt=z+Je*Ft)+Je*((Ue=ie+Je*vt)-nt))+Je*(Ue+Je*(_e+Je*pt-Ue)-At),Ke==0?(et=dt,st=Ze,ot=dt,yt=Ze):(et=Math.min(et,dt),st=Math.min(st,Ze),ot=Math.max(ot,dt),yt=Math.max(yt,Ze));return new c(Math.round(et),Math.round(st),Math.round(ot-et),Math.round(yt-st))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,z,X=(O=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:z}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Pt.API),function(n){var e=function(o){var u,c,f,d,y,w,E,S,L,D;for(c=[],f=0,d=(o+=u="\0\0\0\0".slice(o.length%4||4)).length;d>f;f+=4)(y=(o.charCodeAt(f)<<24)+(o.charCodeAt(f+1)<<16)+(o.charCodeAt(f+2)<<8)+o.charCodeAt(f+3))!==0?(w=(y=((y=((y=((y=(y-(D=y%85))/85)-(L=y%85))/85)-(S=y%85))/85)-(E=y%85))/85)%85,c.push(w+33,E+33,S+33,L+33,D+33)):c.push(122);return function(V,k){for(var W=k;W>0;W--)V.pop()}(c,u.length),String.fromCharCode.apply(String,c)+"~>"},t=function(o){var u,c,f,d,y,w=String,E="length",S=255,L="charCodeAt",D="slice",V="replace";for(o[D](-2),o=o[D](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),f=[],d=0,y=(o+=u="uuuuu"[D](o[E]%5||5))[E];y>d;d+=5)c=52200625*(o[L](d)-33)+614125*(o[L](d+1)-33)+7225*(o[L](d+2)-33)+85*(o[L](d+3)-33)+(o[L](d+4)-33),f.push(S&c>>24,S&c>>16,S&c>>8,S&c);return function(k,W){for(var ee=W;ee>0;ee--)k.pop()}(f,u[E]),w.fromCharCode.apply(w,f)},r=function(o){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),u.test(o)===!1)return"";for(var c="",f=0;f<o.length;f+=2)c+=String.fromCharCode("0x"+(o[f]+o[f+1]));return c},a=function(o){for(var u=new Uint8Array(o.length),c=o.length;c--;)u[c]=o.charCodeAt(c);return o=(u=N1(u)).reduce(function(f,d){return f+String.fromCharCode(d)},"")};n.processDataByFilters=function(o,u){var c=0,f=o||"",d=[];for(typeof(u=u||[])=="string"&&(u=[u]),c=0;c<u.length;c+=1)switch(u[c]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=r(f),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[c]+'" is not implemented')}return{data:f,reverseChain:d.reverse().join(" ")}}}(Pt.API),function(n){n.loadFile=function(e,t,r){return function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=function(f,d,y){var w=new XMLHttpRequest,E=0,S=function(L){var D=L.length,V=[],k=String.fromCharCode;for(E=0;E<D;E+=1)V.push(k(255&L.charCodeAt(E)));return V.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?y(S(this.responseText)):y(void 0)}),w.send(null),d&&w.status===200)return S(w.responseText)}(a,o,u)}catch{}return c}(e,t,r)},n.loadImageFile=n.loadFile}(Pt.API),function(n){function e(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):S1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):S1(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var c=jn(u);return c==="undefined"?"undefined":c==="string"||u instanceof String?"string":c==="number"||u instanceof Number?"number":c==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(u,c){var f=document.createElement(u);for(var d in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[d]=c.style[d];return f},o=function u(c){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),d=u.convert(Promise.resolve(),f);return d=(d=d.setProgress(1,u,1,[u])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(u,c){return u.__proto__=c||o.prototype,u},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(u,c){return this.then(function(){switch(c=c||function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},o.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function f(d,y){for(var w=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),E=d.firstChild;E;E=E.nextSibling)y!==!0&&E.nodeType===1&&E.nodeName==="SCRIPT"||w.appendChild(f(E,y));return d.nodeType===1&&(d.nodeName==="CANVAS"?(w.width=d.width,w.height=d.height,w.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(w.value=d.value),w.addEventListener("load",function(){w.scrollTop=d.scrollTop,w.scrollLeft=d.scrollLeft},!0)),w}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var f=this.opt.jsPDF,d=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=d,d)for(var E=0;E<d.length;++E){var S=d[E],L=S.src.find(function(D){return D.format==="truetype"});L&&f.addFont(L.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,f.context2d.save(!0),c(this.prop.container,w)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(u,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,c):this.outputPdf(u,c)},o.prototype.outputPdf=function(u,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,c)})},o.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},o.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(u){if(r(u)!=="object")return this;var c=Object.keys(u||{}).map(function(f){if(f in o.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(u,c){return this.then(function(){var f=u in o.template.prop?this.prop[u]:this.opt[u];return c?c(f):f})},o.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},o.prototype.setPageSize=function(u){function c(f,d){return Math.floor(f*d/72*96)}return this.then(function(){(u=u||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:c(u.inner.width,u.k),height:c(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},o.prototype.setProgress=function(u,c,f,d){return u!=null&&(this.progress.val=u),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(u,c,f,d){return this.setProgress(u?this.progress.val+u:null,c||null,f?this.progress.n+f:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(u,c){var f=this;return this.thenCore(u,c,function(d,y){return f.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(w){return f.updateProgress(null,d),w}).then(d,y).then(function(w){return f.updateProgress(1),w})})},o.prototype.thenCore=function(u,c,f){f=f||Promise.prototype.then,u&&(u=u.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),y=f.call(d,u,c);return o.convert(y,this.__proto__)},o.prototype.thenExternal=function(u,c){return Promise.prototype.then.call(this,u,c)},o.prototype.thenList=function(u){var c=this;return u.forEach(function(f){c=c.thenCore(f)}),c},o.prototype.catch=function(u){u&&(u=u.bind(this));var c=Promise.prototype.catch.call(this,u);return o.convert(c,this)},o.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},o.prototype.error=function(u){return this.then(function(){throw new Error(u)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Pt.getPageSize=function(u,c,f){if(jn(u)==="object"){var d=u;u=d.orientation,c=d.unit||c,f=d.format||f}c=c||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var y,w=(""+f).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+c}var S,L=0,D=0;if(E.hasOwnProperty(w))L=E[w][1]/y,D=E[w][0]/y;else try{L=f[1],D=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",D>L&&(S=D,D=L,L=S);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",L>D&&(S=D,D=L,L=S)}return{width:D,height:L,unit:c,k:y,orientation:u}},n.html=function(u,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(O1):null;var f=new o(c);return c.worker?f:f.from(u).doCallback()}}(Pt.API),Pt.API.addJS=function(n){return v_=n,this.internal.events.subscribe("postPutResources",function(){kp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),g_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+v_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kp!==void 0&&g_!==void 0&&this.internal.out("/Names <</JavaScript "+kp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,y=[];for(o=0;o<d;o++){var w=t.internal.newObject();y.push(w);var E=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var S=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<y.length;o++)t.internal.write("(page_"+(o+1)+")"+y[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+S+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var u={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])}(Pt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,u,c){var f,d=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(f=function(w){for(var E,S=256*w.charCodeAt(4)+w.charCodeAt(5),L=w.length,D={width:0,height:0,numcomponents:1},V=4;V<L;V+=2){if(V+=S,e.indexOf(w.charCodeAt(V+1))!==-1){E=256*w.charCodeAt(V+5)+w.charCodeAt(V+6),D={width:256*w.charCodeAt(V+7)+w.charCodeAt(V+8),height:E,numcomponents:w.charCodeAt(V+9)};break}S=256*w.charCodeAt(V+2)+w.charCodeAt(V+3)}return D}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}y={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return y}}(Pt.API);var yh,jp,y_,b_,__,F8=function(){var n,e,t;function r(o){var u,c,f,d,y,w,E,S,L,D,V,k,W,ee;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(u=this.readUInt32(),L=(function(){var le,ce;for(ce=[],le=0;le<4;++le)ce.push(String.fromCharCode(this.data[this.pos++]));return ce}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),d=this.readUInt16()||100,w.delay=1e3*y/d,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for(L==="fdAT"&&(this.pos+=4,u-=4),o=(w!=null?w.data:void 0)||this.imgData,k=0;0<=u?k<u:k>u;0<=u?++k:--k)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((D=f-this.transparency.indexed.length)>0)for(W=0;0<=D?W<D:W>D;0<=D?++W:--W)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":E=(V=this.read(u)).indexOf(0),S=String.fromCharCode.apply(String,V.slice(0,E)),this.text[S]=String.fromCharCode.apply(String,V.slice(E+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(ee=this.colorType)===4||ee===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var u,c;for(c=[],u=0;0<=o?u<o:u>o;0<=o?++u:--u)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var u=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*u),f=0,d=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function y(w,E,S,L){var D,V,k,W,ee,le,ce,Ne,U,N,j,G,C,P,M,se,Ie,te,fe,he,Ce,J=Math.ceil((d.width-w)/S),Te=Math.ceil((d.height-E)/L),O=d.width==J&&d.height==Te;for(P=u*J,G=O?c:new Uint8Array(P*Te),le=o.length,C=0,V=0;C<Te&&f<le;){switch(o[f++]){case 0:for(W=Ie=0;Ie<P;W=Ie+=1)G[V++]=o[f++];break;case 1:for(W=te=0;te<P;W=te+=1)D=o[f++],ee=W<u?0:G[V-u],G[V++]=(D+ee)%256;break;case 2:for(W=fe=0;fe<P;W=fe+=1)D=o[f++],k=(W-W%u)/u,M=C&&G[(C-1)*P+k*u+W%u],G[V++]=(M+D)%256;break;case 3:for(W=he=0;he<P;W=he+=1)D=o[f++],k=(W-W%u)/u,ee=W<u?0:G[V-u],M=C&&G[(C-1)*P+k*u+W%u],G[V++]=(D+Math.floor((ee+M)/2))%256;break;case 4:for(W=Ce=0;Ce<P;W=Ce+=1)D=o[f++],k=(W-W%u)/u,ee=W<u?0:G[V-u],C===0?M=se=0:(M=G[(C-1)*P+k*u+W%u],se=k&&G[(C-1)*P+(k-1)*u+W%u]),ce=ee+M-se,Ne=Math.abs(ce-ee),N=Math.abs(ce-M),j=Math.abs(ce-se),U=Ne<=N&&Ne<=j?ee:N<=j?M:se,G[V++]=(D+U)%256;break;default:throw new Error("Invalid filter algorithm: "+o[f-1])}if(!O){var z=((E+C*L)*d.width+w)*u,X=C*P;for(W=0;W<J;W+=1){for(var ie=0;ie<u;ie+=1)c[z++]=G[X++];z+=(S-1)*u}}C++}}return o=g8(o),d.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),c},r.prototype.decodePalette=function(){var o,u,c,f,d,y,w,E,S;for(c=this.palette,y=this.transparency.indexed||[],d=new Uint8Array((y.length||0)+c.length),f=0,o=0,u=w=0,E=c.length;w<E;u=w+=3)d[f++]=c[u],d[f++]=c[u+1],d[f++]=c[u+2],d[f++]=(S=y[o++])!=null?S:255;return d},r.prototype.copyToImageData=function(o,u){var c,f,d,y,w,E,S,L,D,V,k;if(f=this.colors,D=null,c=this.hasAlphaChannel,this.palette.length&&(D=(k=this._decodedPalette)!=null?k:this._decodedPalette=this.decodePalette(),f=4,c=!0),L=(d=o.data||o).length,w=D||u,y=E=0,f===1)for(;y<L;)S=D?4*u[y/4]:E,V=w[S++],d[y++]=V,d[y++]=V,d[y++]=V,d[y++]=c?w[S++]:255,E=S;else for(;y<L;)S=D?4*u[y/4]:E,d[y++]=w[S++],d[y++]=w[S++],d[y++]=w[S++],d[y++]=c?w[S++]:255,E=S},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var a=function(){if(Object.prototype.toString.call(Dt)==="[object Window]"){try{e=Dt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),n=function(o){var u;if(a()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(u=new Image).src=e.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var u,c,f,d,y,w,E,S;if(this.animation){for(S=[],c=y=0,w=(E=this.animation.frames).length;y<w;c=++y)u=E[c],f=o.createImageData(u.width,u.height),d=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(f,d),u.imageData=f,S.push(u.image=n(f));return S}},r.prototype.renderFrame=function(o,u){var c,f,d;return c=(f=this.animation.frames)[u],d=f[u-1],u===0&&o.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?o.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&o.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&o.clearRect(c.xOffset,c.yOffset,c.width,c.height),o.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(o){var u,c,f,d,y,w,E=this;return c=0,w=this.animation,d=w.numFrames,f=w.frames,y=w.numPlays,(u=function(){var S,L;if(S=c++%d,L=f[S],E.renderFrame(o,S),d>1&&c/d<y)return E.animation._timeout=setTimeout(u,L.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var u,c;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,u=o.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(c=u.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),u.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function U8(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<(7&a)+1;n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,y=[],w=0,E=null,S=0,L=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,L=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var D=n[e++];w=n[e++]|n[e++]<<8,E=n[e++],(1&D)==0&&(E=null),S=D>>2&7,e++;break;case 254:for(;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var V=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,ee=n[e++]|n[e++]<<8,le=n[e++],ce=le>>6&1,Ne=1<<(7&le)+1,U=c,N=f,j=!1;le>>7&&(j=!0,U=e,N=Ne,e+=3*Ne);var G=e;for(e++;;){var C;if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}y.push({x:V,y:k,width:W,height:ee,has_local_palette:j,palette_offset:U,palette_size:N,data_offset:G,data_length:e-G,transparent_index:E,interlaced:!!ce,delay:w,disposal:S});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return L},this.frameInfo=function(P){if(P<0||P>=y.length)throw new Error("Frame index out of range.");return y[P]},this.decodeAndBlitFrameBGRA=function(P,M){var se=this.frameInfo(P),Ie=se.width*se.height,te=new Uint8Array(Ie);w_(n,se.data_offset,te,Ie);var fe=se.palette_offset,he=se.transparent_index;he===null&&(he=256);var Ce=se.width,J=t-Ce,Te=Ce,O=4*(se.y*t+se.x),z=4*((se.y+se.height)*t+se.x),X=O,ie=4*J;se.interlaced===!0&&(ie+=4*t*7);for(var ae=8,_e=0,pe=te.length;_e<pe;++_e){var Ee=te[_e];if(Te===0&&(Te=Ce,(X+=ie)>=z&&(ie=4*J+4*t*(ae-1),X=O+(Ce+J)*(ae<<1),ae>>=1)),Ee===he)X+=4;else{var Je=n[fe+3*Ee],Ke=n[fe+3*Ee+1],tt=n[fe+3*Ee+2];M[X++]=tt,M[X++]=Ke,M[X++]=Je,M[X++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(P,M){var se=this.frameInfo(P),Ie=se.width*se.height,te=new Uint8Array(Ie);w_(n,se.data_offset,te,Ie);var fe=se.palette_offset,he=se.transparent_index;he===null&&(he=256);var Ce=se.width,J=t-Ce,Te=Ce,O=4*(se.y*t+se.x),z=4*((se.y+se.height)*t+se.x),X=O,ie=4*J;se.interlaced===!0&&(ie+=4*t*7);for(var ae=8,_e=0,pe=te.length;_e<pe;++_e){var Ee=te[_e];if(Te===0&&(Te=Ce,(X+=ie)>=z&&(ie=4*J+4*t*(ae-1),X=O+(Ce+J)*(ae<<1),ae>>=1)),Ee===he)X+=4;else{var Je=n[fe+3*Ee],Ke=n[fe+3*Ee+1],tt=n[fe+3*Ee+2];M[X++]=Je,M[X++]=Ke,M[X++]=tt,M[X++]=255}--Te}}}function w_(n,e,t,r){for(var a=n[e++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,y=0,w=0,E=0,S=n[e++],L=new Int32Array(4096),D=null;;){for(;y<16&&S!==0;)w|=n[e++]<<y,y+=8,S===1?S=n[e++]:--S;if(y<f)break;var V=w&d;if(w>>=f,y-=f,V!==o){if(V===u)break;for(var k=V<c?V:D,W=0,ee=k;ee>o;)ee=L[ee]>>8,++W;var le=ee;if(E+W+(k!==V?1:0)>r)return void $n.log("Warning, gif stream longer than expected.");t[E++]=le;var ce=E+=W;for(k!==V&&(t[E++]=le),ee=k;W--;)ee=L[ee],t[--ce]=255&ee,ee>>=8;D!==null&&c<4096&&(L[c++]=D<<8|le,c>=d+1&&f<12&&(++f,d=d<<1|1)),D=V}else c=u+1,d=(1<<(f=a+1))-1,D=null}return E!==r&&$n.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function V0(n){var e,t,r,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),y=new Array(64),w=new Array(65535),E=new Array(65535),S=new Array(64),L=new Array(64),D=[],V=0,k=7,W=new Array(64),ee=new Array(64),le=new Array(64),ce=new Array(256),Ne=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(O,z){for(var X=0,ie=0,ae=new Array,_e=1;_e<=16;_e++){for(var pe=1;pe<=O[_e];pe++)ae[z[ie]]=[],ae[z[ie]][0]=X,ae[z[ie]][1]=_e,ie++,X++;X*=2}return ae}function fe(O){for(var z=O[0],X=O[1]-1;X>=0;)z&1<<X&&(V|=1<<k),X--,--k<0&&(V==255?(he(255),he(0)):he(V),k=7,V=0)}function he(O){D.push(O)}function Ce(O){he(O>>8&255),he(255&O)}function J(O,z,X,ie,ae){for(var _e,pe=ae[0],Ee=ae[240],Je=function(Ze,et){var st,ot,yt,Rt,Ft,bt,vt,Ht,pt,Gt,lt=0;for(pt=0;pt<8;++pt){st=Ze[lt],ot=Ze[lt+1],yt=Ze[lt+2],Rt=Ze[lt+3],Ft=Ze[lt+4],bt=Ze[lt+5],vt=Ze[lt+6];var er=st+(Ht=Ze[lt+7]),Yt=st-Ht,Wr=ot+vt,Qt=ot-vt,Tn=yt+bt,ri=yt-bt,on=Rt+Ft,Aa=Rt-Ft,Mn=er+on,Tr=er-on,Yr=Wr+Tn,Fn=Wr-Tn;Ze[lt]=Mn+Yr,Ze[lt+4]=Mn-Yr;var Et=.707106781*(Fn+Tr);Ze[lt+2]=Tr+Et,Ze[lt+6]=Tr-Et;var ln=.382683433*((Mn=Aa+ri)-(Fn=Qt+Yt)),xi=.5411961*Mn+ln,tr=1.306562965*Fn+ln,Kr=.707106781*(Yr=ri+Qt),Yi=Yt+Kr,ut=Yt-Kr;Ze[lt+5]=ut+xi,Ze[lt+3]=ut-xi,Ze[lt+1]=Yi+tr,Ze[lt+7]=Yi-tr,lt+=8}for(lt=0,pt=0;pt<8;++pt){st=Ze[lt],ot=Ze[lt+8],yt=Ze[lt+16],Rt=Ze[lt+24],Ft=Ze[lt+32],bt=Ze[lt+40],vt=Ze[lt+48];var xn=st+(Ht=Ze[lt+56]),Nn=st-Ht,Hn=ot+vt,Kn=ot-vt,nr=yt+bt,pr=yt-bt,ws=Rt+Ft,mi=Rt-Ft,Ur=xn+ws,xr=xn-ws,mr=Hn+nr,Nr=Hn-nr;Ze[lt]=Ur+mr,Ze[lt+32]=Ur-mr;var Un=.707106781*(Nr+xr);Ze[lt+16]=xr+Un,Ze[lt+48]=xr-Un;var yn=.382683433*((Ur=mi+pr)-(Nr=Kn+Nn)),Ea=.5411961*Ur+yn,Ta=1.306562965*Nr+yn,ii=.707106781*(mr=pr+Kn),Ni=Nn+ii,Ss=Nn-ii;Ze[lt+40]=Ss+Ea,Ze[lt+24]=Ss-Ea,Ze[lt+8]=Ni+Ta,Ze[lt+56]=Ni-Ta,lt++}for(pt=0;pt<64;++pt)Gt=Ze[pt]*et[pt],S[pt]=Gt>0?Gt+.5|0:Gt-.5|0;return S}(O,z),Ke=0;Ke<64;++Ke)L[U[Ke]]=Je[Ke];var tt=L[0]-X;X=L[0],tt==0?fe(ie[0]):(fe(ie[E[_e=32767+tt]]),fe(w[_e]));for(var nt=63;nt>0&&L[nt]==0;)nt--;if(nt==0)return fe(pe),X;for(var wt,Ue=1;Ue<=nt;){for(var oe=Ue;L[Ue]==0&&Ue<=nt;)++Ue;var At=Ue-oe;if(At>=16){wt=At>>4;for(var dt=1;dt<=wt;++dt)fe(Ee);At&=15}_e=32767+L[Ue],fe(ae[(At<<4)+E[_e]]),fe(w[_e]),Ue++}return nt!=63&&fe(pe),X}function Te(O){O=Math.min(Math.max(O,1),100),o!=O&&(function(z){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ae=u((X[ie]*z+50)/100);ae=Math.min(Math.max(ae,1),255),c[U[ie]]=ae}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var Ee=u((_e[pe]*z+50)/100);Ee=Math.min(Math.max(Ee,1),255),f[U[pe]]=Ee}for(var Je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,tt=0;tt<8;tt++)for(var nt=0;nt<8;nt++)d[Ke]=1/(c[U[Ke]]*Je[tt]*Je[nt]*8),y[Ke]=1/(f[U[Ke]]*Je[tt]*Je[nt]*8),Ke++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,z){z&&Te(z),D=new Array,V=0,k=7,Ce(65496),Ce(65504),Ce(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),Ce(1),Ce(1),he(0),he(0),function(){Ce(65499),Ce(132),he(0);for(var ot=0;ot<64;ot++)he(c[ot]);he(1);for(var yt=0;yt<64;yt++)he(f[yt])}(),function(ot,yt){Ce(65472),Ce(17),he(8),Ce(yt),Ce(ot),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)}(O.width,O.height),function(){Ce(65476),Ce(418),he(0);for(var ot=0;ot<16;ot++)he(N[ot+1]);for(var yt=0;yt<=11;yt++)he(j[yt]);he(16);for(var Rt=0;Rt<16;Rt++)he(G[Rt+1]);for(var Ft=0;Ft<=161;Ft++)he(C[Ft]);he(1);for(var bt=0;bt<16;bt++)he(P[bt+1]);for(var vt=0;vt<=11;vt++)he(M[vt]);he(17);for(var Ht=0;Ht<16;Ht++)he(se[Ht+1]);for(var pt=0;pt<=161;pt++)he(Ie[pt])}(),Ce(65498),Ce(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var X=0,ie=0,ae=0;V=0,k=7,this.encode.displayName="_encode_";for(var _e,pe,Ee,Je,Ke,tt,nt,wt,Ue,oe=O.data,At=O.width,dt=O.height,Ze=4*At,et=0;et<dt;){for(_e=0;_e<Ze;){for(Ke=Ze*et+_e,nt=-1,wt=0,Ue=0;Ue<64;Ue++)tt=Ke+(wt=Ue>>3)*Ze+(nt=4*(7&Ue)),et+wt>=dt&&(tt-=Ze*(et+1+wt-dt)),_e+nt>=Ze&&(tt-=_e+nt-Ze+4),pe=oe[tt++],Ee=oe[tt++],Je=oe[tt++],W[Ue]=(Ne[pe]+Ne[Ee+256>>0]+Ne[Je+512>>0]>>16)-128,ee[Ue]=(Ne[pe+768>>0]+Ne[Ee+1024>>0]+Ne[Je+1280>>0]>>16)-128,le[Ue]=(Ne[pe+1280>>0]+Ne[Ee+1536>>0]+Ne[Je+1792>>0]>>16)-128;X=J(W,d,X,e,r),ie=J(ee,y,ie,t,a),ae=J(le,y,ae,t,a),_e+=32}et+=8}if(k>=0){var st=[];st[1]=k+1,st[0]=(1<<k+1)-1,fe(st)}return Ce(65497),new Uint8Array(D)},n=n||50,function(){for(var O=String.fromCharCode,z=0;z<256;z++)ce[z]=O(z)}(),e=te(N,j),t=te(P,M),r=te(G,C),a=te(se,Ie),function(){for(var O=1,z=2,X=1;X<=15;X++){for(var ie=O;ie<z;ie++)E[32767+ie]=X,w[32767+ie]=[],w[32767+ie][1]=X,w[32767+ie][0]=ie;for(var ae=-(z-1);ae<=-O;ae++)E[32767+ae]=X,w[32767+ae]=[],w[32767+ae][1]=X,w[32767+ae][0]=z-1+ae;O<<=1,z<<=1}}(),function(){for(var O=0;O<256;O++)Ne[O]=19595*O,Ne[O+256>>0]=38470*O,Ne[O+512>>0]=7471*O+32768,Ne[O+768>>0]=-11059*O,Ne[O+1024>>0]=-21709*O,Ne[O+1280>>0]=32768*O+8421375,Ne[O+1536>>0]=-27439*O,Ne[O+1792>>0]=-5329*O}(),Te(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ys(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function S_(n){function e(N){if(!N)throw Error("assert :P")}function t(N,j,G){for(var C=0;4>C;C++)if(N[j+C]!=G.charCodeAt(C))return!0;return!1}function r(N,j,G,C,P){for(var M=0;M<P;M++)N[j+M]=G[C+M]}function a(N,j,G,C){for(var P=0;P<C;P++)N[j+P]=G}function o(N){return new Int32Array(N)}function u(N,j){for(var G=[],C=0;C<N;C++)G.push(new j);return G}function c(N,j){var G=[];return function C(P,M,se){for(var Ie=se[M],te=0;te<Ie&&(P.push(se.length>M+1?[]:new j),!(se.length<M+1));te++)C(P[te],M+1,se)}(G,0,N),G}var f=function(){var N=this;function j(p,v){for(var A=1<<v-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function G(p,v,A,I,B){e(!(I%A));do p[v+(I-=A)]=B;while(0<I)}function C(p,v,A,I,B){if(e(2328>=B),512>=B)var H=o(512);else if((H=o(B))==null)return 0;return function($,Y,Z,ne,me,Pe){var Re,Ae,He=Y,Me=1<<Z,ge=o(16),ye=o(16);for(e(me!=0),e(ne!=null),e($!=null),e(0<Z),Ae=0;Ae<me;++Ae){if(15<ne[Ae])return 0;++ge[ne[Ae]]}if(ge[0]==me)return 0;for(ye[1]=0,Re=1;15>Re;++Re){if(ge[Re]>1<<Re)return 0;ye[Re+1]=ye[Re]+ge[Re]}for(Ae=0;Ae<me;++Ae)Re=ne[Ae],0<ne[Ae]&&(Pe[ye[Re]++]=Ae);if(ye[15]==1)return(ne=new P).g=0,ne.value=Pe[0],G($,He,1,Me,ne),Me;var Ve,Ge=-1,qe=Me-1,ct=0,rt=1,_t=1,at=1<<Z;for(Ae=0,Re=1,me=2;Re<=Z;++Re,me<<=1){if(rt+=_t<<=1,0>(_t-=ge[Re]))return 0;for(;0<ge[Re];--ge[Re])(ne=new P).g=Re,ne.value=Pe[Ae++],G($,He+ct,me,at,ne),ct=j(ct,Re)}for(Re=Z+1,me=2;15>=Re;++Re,me<<=1){if(rt+=_t<<=1,0>(_t-=ge[Re]))return 0;for(;0<ge[Re];--ge[Re]){if(ne=new P,(ct&qe)!=Ge){for(He+=at,Ve=1<<(Ge=Re)-Z;15>Ge&&!(0>=(Ve-=ge[Ge]));)++Ge,Ve<<=1;Me+=at=1<<(Ve=Ge-Z),$[Y+(Ge=ct&qe)].g=Ve+Z,$[Y+Ge].value=He-Y-Ge}ne.g=Re-Z,ne.value=Pe[Ae++],G($,He+(ct>>Z),me,at,ne),ct=j(ct,Re)}}return rt!=2*ye[15]-1?0:Me}(p,v,A,I,B,H)}function P(){this.value=this.g=0}function M(){this.value=this.g=0}function se(){this.G=u(5,P),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Cr,M)}function Ie(p,v,A,I){e(p!=null),e(v!=null),e(2147483648>I),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=A,p.Jd=v,p.Yc=A+I,p.Zc=4<=I?A+I-4+1:A,_e(p)}function te(p,v){for(var A=0;0<v--;)A|=Ee(p,128)<<v;return A}function fe(p,v){var A=te(p,v);return pe(p)?-A:A}function he(p,v,A,I){var B,H=0;for(e(p!=null),e(v!=null),e(4294967288>I),p.Sb=I,p.Ra=0,p.u=0,p.h=0,4<I&&(I=4),B=0;B<I;++B)H+=v[A+B]<<8*B;p.Ra=H,p.bb=I,p.oa=v,p.pa=A}function Ce(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ol-8>>>0,++p.bb,p.u-=8;X(p)&&(p.h=1,p.u=0)}function J(p,v){if(e(0<=v),!p.h&&v<=sl){var A=z(p)&yo[v];return p.u+=v,Ce(p),A}return p.h=1,p.u=0}function Te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(p){return p.Ra>>>(p.u&ol-1)>>>0}function X(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ol}function ie(p,v){p.u=v,p.h=X(p)}function ae(p){p.u>=Zl&&(e(p.u>=Zl),Ce(p))}function _e(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function pe(p){return te(p,1)}function Ee(p,v){var A=p.Ca;0>p.b&&_e(p);var I=p.b,B=A*v>>>8,H=(p.I>>>I>B)+0;for(H?(A-=B,p.I-=B+1<<I>>>0):A=B+1,I=A,B=0;256<=I;)B+=8,I>>=8;return I=7^B+Oi[I],p.b-=I,p.Ca=(A<<I)-1,H}function Je(p,v,A){p[v+0]=A>>24&255,p[v+1]=A>>16&255,p[v+2]=A>>8&255,p[v+3]=A>>0&255}function Ke(p,v){return p[v+0]<<0|p[v+1]<<8}function tt(p,v){return Ke(p,v)|p[v+2]<<16}function nt(p,v){return Ke(p,v)|Ke(p,v+2)<<16}function wt(p,v){var A=1<<v;return e(p!=null),e(0<v),p.X=o(A),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Ue(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function At(p,v,A,I){e(A!=null),e(I!=null);var B=A[0],H=I[0];return B==0&&(B=(p*H+v/2)/v),H==0&&(H=(v*B+p/2)/p),0>=B||0>=H?0:(A[0]=B,I[0]=H,1)}function dt(p,v){return p+(1<<v)-1>>>v}function Ze(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function et(p,v){N[v]=function(A,I,B,H,$,Y,Z){var ne;for(ne=0;ne<$;++ne){var me=N[p](Y[Z+ne-1],B,H+ne);Y[Z+ne]=Ze(A[I+ne],me)}}}function st(){this.ud=this.hd=this.jd=0}function ot(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function yt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Rt(p,v){return yt(p+(p-v+.5>>1))}function Ft(p,v,A){return Math.abs(v-A)-Math.abs(p-A)}function bt(p,v,A,I,B,H,$){for(I=H[$-1],A=0;A<B;++A)H[$+A]=I=Ze(p[v+A],I)}function vt(p,v,A,I,B){var H;for(H=0;H<A;++H){var $=p[v+H],Y=$>>8&255,Z=16711935&(Z=(Z=16711935&$)+((Y<<16)+Y));I[B+H]=(4278255360&$)+Z>>>0}}function Ht(p,v){v.jd=p>>0&255,v.hd=p>>8&255,v.ud=p>>16&255}function pt(p,v,A,I,B,H){var $;for($=0;$<I;++$){var Y=v[A+$],Z=Y>>>8,ne=Y,me=255&(me=(me=Y>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));ne=255&(ne=(ne=ne+((p.hd<<24>>24)*(Z<<24>>24)>>>5))+((p.ud<<24>>24)*(me<<24>>24)>>>5)),B[H+$]=(4278255360&Y)+(me<<16)+ne}}function Gt(p,v,A,I,B){N[v]=function(H,$,Y,Z,ne,me,Pe,Re,Ae){for(Z=Pe;Z<Re;++Z)for(Pe=0;Pe<Ae;++Pe)ne[me++]=B(Y[I(H[$++])])},N[p]=function(H,$,Y,Z,ne,me,Pe){var Re=8>>H.b,Ae=H.Ea,He=H.K[0],Me=H.w;if(8>Re)for(H=(1<<H.b)-1,Me=(1<<Re)-1;$<Y;++$){var ge,ye=0;for(ge=0;ge<Ae;++ge)ge&H||(ye=I(Z[ne++])),me[Pe++]=B(He[ye&Me]),ye>>=Re}else N["VP8LMapColor"+A](Z,ne,He,Me,me,Pe,$,Y,Ae)}}function lt(p,v,A,I,B){for(A=v+A;v<A;){var H=p[v++];I[B++]=H>>16&255,I[B++]=H>>8&255,I[B++]=H>>0&255}}function er(p,v,A,I,B){for(A=v+A;v<A;){var H=p[v++];I[B++]=H>>16&255,I[B++]=H>>8&255,I[B++]=H>>0&255,I[B++]=H>>24&255}}function Yt(p,v,A,I,B){for(A=v+A;v<A;){var H=($=p[v++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;I[B++]=H,I[B++]=$}}function Wr(p,v,A,I,B){for(A=v+A;v<A;){var H=($=p[v++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;I[B++]=H,I[B++]=$}}function Qt(p,v,A,I,B){for(A=v+A;v<A;){var H=p[v++];I[B++]=H>>0&255,I[B++]=H>>8&255,I[B++]=H>>16&255}}function Tn(p,v,A,I,B,H){if(H==0)for(A=v+A;v<A;)Je(I,((H=p[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),B+=32;else r(I,B,p,v,A)}function ri(p,v){N[v][0]=N[p+"0"],N[v][1]=N[p+"1"],N[v][2]=N[p+"2"],N[v][3]=N[p+"3"],N[v][4]=N[p+"4"],N[v][5]=N[p+"5"],N[v][6]=N[p+"6"],N[v][7]=N[p+"7"],N[v][8]=N[p+"8"],N[v][9]=N[p+"9"],N[v][10]=N[p+"10"],N[v][11]=N[p+"11"],N[v][12]=N[p+"12"],N[v][13]=N[p+"13"],N[v][14]=N[p+"0"],N[v][15]=N[p+"0"]}function on(p){return p==rc||p==Io||p==ks||p==ru}function Aa(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Aa,this.f.kb=new Mn,this.sd=null}function Yr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Et(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ln(p,v){var A=p.T,I=v.ba.f.RGBA,B=I.eb,H=I.fb+p.ka*I.A,$=zr[v.ba.S],Y=p.y,Z=p.O,ne=p.f,me=p.N,Pe=p.ea,Re=p.W,Ae=v.cc,He=v.dc,Me=v.Mc,ge=v.Nc,ye=p.ka,Ve=p.ka+p.T,Ge=p.U,qe=Ge+1>>1;for(ye==0?$(Y,Z,null,null,ne,me,Pe,Re,ne,me,Pe,Re,B,H,null,null,Ge):($(v.ec,v.fc,Y,Z,Ae,He,Me,ge,ne,me,Pe,Re,B,H-I.A,B,H,Ge),++A);ye+2<Ve;ye+=2)Ae=ne,He=me,Me=Pe,ge=Re,me+=p.Rc,Re+=p.Rc,H+=2*I.A,$(Y,(Z+=2*p.fa)-p.fa,Y,Z,Ae,He,Me,ge,ne,me,Pe,Re,B,H-I.A,B,H,Ge);return Z+=p.fa,p.j+Ve<p.o?(r(v.ec,v.fc,Y,Z,Ge),r(v.cc,v.dc,ne,me,qe),r(v.Mc,v.Nc,Pe,Re,qe),A--):1&Ve||$(Y,Z,null,null,ne,me,Pe,Re,ne,me,Pe,Re,B,H+I.A,null,null,Ge),A}function xi(p,v,A){var I=p.F,B=[p.J];if(I!=null){var H=p.U,$=v.ba.S,Y=$==fl||$==ks;v=v.ba.f.RGBA;var Z=[0],ne=p.ka;Z[0]=p.T,p.Kb&&(ne==0?--Z[0]:(--ne,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-ne));var me=v.eb;ne=v.fb+ne*v.A,p=Jt(I,B[0],p.width,H,Z,me,ne+(Y?0:3),v.A),e(A==Z),p&&on($)&&Ji(me,ne,Y,H,Z,v.A)}return 0}function tr(p){var v=p.ma,A=v.ba.S,I=11>A,B=A==nu||A==nc||A==fl||A==Ds||A==12||on(A);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!vo(v.Oa,p,B?11:12))return 0;if(B&&on(A)&&Qe(),p.da)alert("todo:use_scaling");else{if(I){if(v.Ib=Et,p.Kb){if(A=p.U+1>>1,v.memory=o(p.U+2*A),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+A,v.Ib=ln,Qe()}}else alert("todo:EmitYUV");B&&(v.Jb=xi,I&&Se())}if(I&&!Pd){for(p=0;256>p;++p)sg[p]=89858*(p-128)+Lr>>ds,sc[p]=-22014*(p-128)+Lr,tf[p]=-45773*(p-128),Pr[p]=113618*(p-128)+Lr>>ds;for(p=Lo;p<Kc;++p)v=76283*(p-16)+Lr>>ds,oc[p-Lo]=_n(v,255),nf[p-Lo]=_n(v+8>>4,15);Pd=1}return 1}function Kr(p){var v=p.ma,A=p.U,I=p.T;return e(!(1&p.ka)),0>=A||0>=I?0:(A=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,A),v.Dc+=A,1)}function Yi(p){p.ma.memory=null}function ut(p,v,A,I){return J(p,8)!=47?0:(v[0]=J(p,14)+1,A[0]=J(p,14)+1,I[0]=J(p,1),J(p,3)!=0?0:!p.h)}function xn(p,v){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+J(v,A)+1}function Nn(p,v){return 120<v?v-120:1<=(A=((A=Ms[v-1])>>4)*p+(8-(15&A)))?A:1;var A}function Hn(p,v,A){var I=z(A),B=p[v+=255&I].g-8;return 0<B&&(ie(A,A.u+8),I=z(A),v+=p[v].value,v+=I&(1<<B)-1),ie(A,A.u+p[v].g),p[v].value}function Kn(p,v,A){return A.g+=p.g,A.value+=p.value<<v>>>0,e(8>=A.g),p.g}function nr(p,v,A){var I=p.xc;return e((v=I==0?0:p.vc[p.md*(A>>I)+(v>>I)])<p.Wb),p.Ya[v]}function pr(p,v,A,I){var B=p.ab,H=p.c*v,$=p.C;v=$+v;var Y=A,Z=I;for(I=p.Ta,A=p.Ua;0<B--;){var ne=p.gc[B],me=$,Pe=v,Re=Y,Ae=Z,He=(Z=I,Y=A,ne.Ea);switch(e(me<Pe),e(Pe<=ne.nc),ne.hc){case 2:qc(Re,Ae,(Pe-me)*He,Z,Y);break;case 0:var Me=me,ge=Pe,ye=Z,Ve=Y,Ge=(at=ne).Ea;Me==0&&(Zh(Re,Ae,null,null,1,ye,Ve),bt(Re,Ae+1,0,0,Ge-1,ye,Ve+1),Ae+=Ge,Ve+=Ge,++Me);for(var qe=1<<at.b,ct=qe-1,rt=dt(Ge,at.b),_t=at.K,at=at.w+(Me>>at.b)*rt;Me<ge;){var dn=_t,wn=at,Kt=1;for(ec(Re,Ae,ye,Ve-Ge,1,ye,Ve);Kt<Ge;){var $t=(Kt&~ct)+qe;$t>Ge&&($t=Ge),(0,Ls[dn[wn++]>>8&15])(Re,Ae+ +Kt,ye,Ve+Kt-Ge,$t-Kt,ye,Ve+Kt),Kt=$t}Ae+=Ge,Ve+=Ge,++Me&ct||(at+=rt)}Pe!=ne.nc&&r(Z,Y-He,Z,Y+(Pe-me-1)*He,He);break;case 1:for(He=Re,ge=Ae,Ge=(Re=ne.Ea)-(Ve=Re&~(ye=(Ae=1<<ne.b)-1)),Me=dt(Re,ne.b),qe=ne.K,ne=ne.w+(me>>ne.b)*Me;me<Pe;){for(ct=qe,rt=ne,_t=new st,at=ge+Ve,dn=ge+Re;ge<at;)Ht(ct[rt++],_t),_o(_t,He,ge,Ae,Z,Y),ge+=Ae,Y+=Ae;ge<dn&&(Ht(ct[rt++],_t),_o(_t,He,ge,Ge,Z,Y),ge+=Ge,Y+=Ge),++me&ye||(ne+=Me)}break;case 3:if(Re==Z&&Ae==Y&&0<ne.b){for(ge=Z,Re=He=Y+(Pe-me)*He-(Ve=(Pe-me)*dt(ne.Ea,ne.b)),Ae=Z,ye=Y,Me=[],Ve=(Ge=Ve)-1;0<=Ve;--Ve)Me[Ve]=Ae[ye+Ve];for(Ve=Ge-1;0<=Ve;--Ve)ge[Re+Ve]=Me[Ve];fa(ne,me,Pe,Z,He,Z,Y)}else fa(ne,me,Pe,Re,Ae,Z,Y)}Y=I,Z=A}Z!=A&&r(I,A,Y,Z,H)}function ws(p,v){var A=p.V,I=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var H=p.l,$=p.Ta,Y=p.Ua,Z=H.width;if(pr(p,B,A,I),B=Y=[Y],e((A=p.C)<(I=v)),e(H.v<H.va),I>H.o&&(I=H.o),A<H.j){var ne=H.j-A;A=H.j,B[0]+=ne*Z}if(A>=I?A=0:(B[0]+=4*H.v,H.ka=A-H.j,H.U=H.va-H.v,H.T=I-A,A=1),A){if(Y=Y[0],11>(A=p.ca).S){var me=A.f.RGBA,Pe=(I=A.S,B=H.U,H=H.T,ne=me.eb,me.A),Re=H;for(me=me.fb+p.Ma*me.A;0<Re--;){var Ae=$,He=Y,Me=B,ge=ne,ye=me;switch(I){case ui:vi(Ae,He,Me,ge,ye);break;case nu:Zr(Ae,He,Me,ge,ye);break;case rc:Zr(Ae,He,Me,ge,ye),Ji(ge,ye,0,Me,1,0);break;case us:ka(Ae,He,Me,ge,ye);break;case nc:Tn(Ae,He,Me,ge,ye,1);break;case Io:Tn(Ae,He,Me,ge,ye,1),Ji(ge,ye,0,Me,1,0);break;case fl:Tn(Ae,He,Me,ge,ye,0);break;case ks:Tn(Ae,He,Me,ge,ye,0),Ji(ge,ye,1,Me,1,0);break;case Ds:wo(Ae,He,Me,ge,ye);break;case ru:wo(Ae,He,Me,ge,ye),Xt(ge,ye,Me,1,0);break;case Hc:Di(Ae,He,Me,ge,ye);break;default:e(0)}Y+=Z,me+=Pe}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=v,e(p.C<=p.i)}function mi(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var A=p.Ya[v].G,I=p.Ya[v].H;if(0<A[1][I[1]+0].g||0<A[2][I[2]+0].g||0<A[3][I[3]+0].g)return 0}return 1}function Ur(p,v,A,I,B,H){if(p.Z!=0){var $=p.qd,Y=p.rd;for(e(hs[p.Z]!=null);v<A;++v)hs[p.Z]($,Y,I,B,I,B,H),$=I,Y=B,B+=H;p.qd=$,p.rd=Y}}function xr(p,v){var A=p.l.ma,I=A.Z==0||A.Z==1?p.l.j:p.C;if(I=p.C<I?I:p.C,e(v<=p.l.o),v>I){var B=p.l.width,H=A.ca,$=A.tb+B*I,Y=p.V,Z=p.Ba+p.c*I,ne=p.gc;e(p.ab==1),e(ne[0].hc==3),bo(ne[0],I,v,Y,Z,H,$),Ur(A,I,v,H,$,B)}p.C=p.Ma=v}function mr(p,v,A,I,B,H,$){var Y=p.$/I,Z=p.$%I,ne=p.m,me=p.s,Pe=A+p.$,Re=Pe;B=A+I*B;var Ae=A+I*H,He=280+me.ua,Me=p.Pb?Y:16777216,ge=0<me.ua?me.Wa:null,ye=me.wc,Ve=Pe<Ae?nr(me,Z,Y):null;e(p.C<H),e(Ae<=B);var Ge=!1;e:for(;;){for(;Ge||Pe<Ae;){var qe=0;if(Y>=Me){var ct=Pe-A;e((Me=p).Pb),Me.wd=Me.m,Me.xd=ct,0<Me.s.ua&&Ue(Me.s.Wa,Me.s.vb),Me=Y+Cd}if(Z&ye||(Ve=nr(me,Z,Y)),e(Ve!=null),Ve.Qb&&(v[Pe]=Ve.qb,Ge=!0),!Ge)if(ae(ne),Ve.jc){qe=ne,ct=v;var rt=Pe,_t=Ve.pd[z(qe)&Cr-1];e(Ve.jc),256>_t.g?(ie(qe,qe.u+_t.g),ct[rt]=_t.value,qe=0):(ie(qe,qe.u+_t.g-256),e(256<=_t.value),qe=_t.value),qe==0&&(Ge=!0)}else qe=Hn(Ve.G[0],Ve.H[0],ne);if(ne.h)break;if(Ge||256>qe){if(!Ge)if(Ve.nd)v[Pe]=(Ve.qb|qe<<8)>>>0;else{if(ae(ne),Ge=Hn(Ve.G[1],Ve.H[1],ne),ae(ne),ct=Hn(Ve.G[2],Ve.H[2],ne),rt=Hn(Ve.G[3],Ve.H[3],ne),ne.h)break;v[Pe]=(rt<<24|Ge<<16|qe<<8|ct)>>>0}if(Ge=!1,++Pe,++Z>=I&&(Z=0,++Y,$!=null&&Y<=H&&!(Y%16)&&$(p,Y),ge!=null))for(;Re<Pe;)qe=v[Re++],ge.X[(506832829*qe&4294967295)>>>ge.Mb]=qe}else if(280>qe){if(qe=xn(qe-256,ne),ct=Hn(Ve.G[4],Ve.H[4],ne),ae(ne),ct=Nn(I,ct=xn(ct,ne)),ne.h)break;if(Pe-A<ct||B-Pe<qe)break e;for(rt=0;rt<qe;++rt)v[Pe+rt]=v[Pe+rt-ct];for(Pe+=qe,Z+=qe;Z>=I;)Z-=I,++Y,$!=null&&Y<=H&&!(Y%16)&&$(p,Y);if(e(Pe<=B),Z&ye&&(Ve=nr(me,Z,Y)),ge!=null)for(;Re<Pe;)qe=v[Re++],ge.X[(506832829*qe&4294967295)>>>ge.Mb]=qe}else{if(!(qe<He))break e;for(Ge=qe-280,e(ge!=null);Re<Pe;)qe=v[Re++],ge.X[(506832829*qe&4294967295)>>>ge.Mb]=qe;qe=Pe,e(!(Ge>>>(ct=ge).Xa)),v[qe]=ct.X[Ge],Ge=!0}Ge||e(ne.h==X(ne))}if(p.Pb&&ne.h&&Pe<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ue(p.s.vb,p.s.Wa);else{if(ne.h)break e;$!=null&&$(p,Y>H?H:Y),p.a=0,p.$=Pe-A}return 1}return p.a=3,0}function Nr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Un(){var p=new Xl;return p==null?null:(p.a=0,p.xb=iu,ri("Predictor","VP8LPredictors"),ri("Predictor","VP8LPredictors_C"),ri("PredictorAdd","VP8LPredictorsAdd"),ri("PredictorAdd","VP8LPredictorsAdd_C"),qc=vt,_o=pt,vi=lt,Zr=er,wo=Yt,Di=Wr,ka=Qt,N.VP8LMapColor32b=Br,N.VP8LMapColor8b=tc,p)}function yn(p,v,A,I,B){var H=1,$=[p],Y=[v],Z=I.m,ne=I.s,me=null,Pe=0;e:for(;;){if(A)for(;H&&J(Z,1);){var Re=$,Ae=Y,He=I,Me=1,ge=He.m,ye=He.gc[He.ab],Ve=J(ge,2);if(He.Oc&1<<Ve)H=0;else{switch(He.Oc|=1<<Ve,ye.hc=Ve,ye.Ea=Re[0],ye.nc=Ae[0],ye.K=[null],++He.ab,e(4>=He.ab),Ve){case 0:case 1:ye.b=J(ge,3)+2,Me=yn(dt(ye.Ea,ye.b),dt(ye.nc,ye.b),0,He,ye.K),ye.K=ye.K[0];break;case 3:var Ge,qe=J(ge,8)+1,ct=16<qe?0:4<qe?1:2<qe?2:3;if(Re[0]=dt(ye.Ea,ct),ye.b=ct,Ge=Me=yn(qe,1,0,He,ye.K)){var rt,_t=qe,at=ye,dn=1<<(8>>at.b),wn=o(dn);if(wn==null)Ge=0;else{var Kt=at.K[0],$t=at.w;for(wn[0]=at.K[0][0],rt=1;rt<1*_t;++rt)wn[rt]=Ze(Kt[$t+rt],wn[rt-1]);for(;rt<4*dn;++rt)wn[rt]=0;at.K[0]=null,at.K[0]=wn,Ge=1}}Me=Ge;break;case 2:break;default:e(0)}H=Me}}if($=$[0],Y=Y[0],H&&J(Z,1)&&!(H=1<=(Pe=J(Z,4))&&11>=Pe)){I.a=3;break e}var Cn;if(Cn=H)t:{var Sn,Vt,Pn,Tt=I,Ot=$,fn=Y,pn=Pe,Hr=A,Or=Tt.m,cr=Tt.s,hr=[null],br=1,ga=0,An=pl[pn];n:for(;;){if(Hr&&J(Or,1)){var _r=J(Or,3)+2,Fa=dt(Ot,_r),Po=dt(fn,_r),vl=Fa*Po;if(!yn(Fa,Po,0,Tt,hr))break n;for(hr=hr[0],cr.xc=_r,Sn=0;Sn<vl;++Sn){var Oo=hr[Sn]>>8&65535;hr[Sn]=Oo,Oo>=br&&(br=Oo+1)}}if(Or.h)break n;for(Vt=0;5>Vt;++Vt){var Wn=Zi[Vt];!Vt&&0<pn&&(Wn+=1<<pn),ga<Wn&&(ga=Wn)}var lc=u(br*An,P),Qc=br,bi=u(Qc,se);if(bi==null)var Qn=null;else e(65536>=Qc),Qn=bi;var yl=o(ga);if(Qn==null||yl==null||lc==null){Tt.a=1;break n}var Do=lc;for(Sn=Pn=0;Sn<br;++Sn){var ji=Qn[Sn],ko=ji.G,Mi=ji.H,uc=0,su=1,Xc=0;for(Vt=0;5>Vt;++Vt){Wn=Zi[Vt],ko[Vt]=Do,Mi[Vt]=Pn,!Vt&&0<pn&&(Wn+=1<<pn);i:{var cc,Jc=Wn,hc=Tt,ou=yl,kd=Do,jd=Pn,fc=0,Bs=hc.m,lg=J(Bs,1);if(a(ou,0,0,Jc),lg){var Md=J(Bs,1)+1,Fd=J(Bs,1),rf=J(Bs,Fd==0?1:8);ou[rf]=1,Md==2&&(ou[rf=J(Bs,8)]=1);var lu=1}else{var af=o(19),sf=J(Bs,4)+4;if(19<sf){hc.a=3;var dc=0;break i}for(cc=0;cc<sf;++cc)af[js[cc]]=J(Bs,3);var Zc=void 0,uu=void 0,Ud=hc,Vd=af,qs=Jc,pc=ou,eh=0,Ua=Ud.m,cu=8,of=u(128,P);r:for(;C(of,0,7,Vd,19);){if(J(Ua,1)){var Bd=2+2*J(Ua,3);if((Zc=2+J(Ua,Bd))>qs)break r}else Zc=qs;for(uu=0;uu<qs&&Zc--;){ae(Ua);var lf=of[0+(127&z(Ua))];ie(Ua,Ua.u+lf.g);var bl=lf.value;if(16>bl)pc[uu++]=bl,bl!=0&&(cu=bl);else{var qd=bl==16,uf=bl-16,cf=ma[uf],hf=J(Ua,Gc[uf])+cf;if(uu+hf>qs)break r;for(var zd=qd?cu:0;0<hf--;)pc[uu++]=zd}}eh=1;break r}eh||(Ud.a=3),lu=eh}(lu=lu&&!Bs.h)&&(fc=C(kd,jd,8,ou,Jc)),lu&&fc!=0?dc=fc:(hc.a=3,dc=0)}if(dc==0)break n;if(su&&dl[Vt]==1&&(su=Do[Pn].g==0),uc+=Do[Pn].g,Pn+=dc,3>=Vt){var _l,th=yl[0];for(_l=1;_l<Wn;++_l)yl[_l]>th&&(th=yl[_l]);Xc+=th}}if(ji.nd=su,ji.Qb=0,su&&(ji.qb=(ko[3][Mi[3]+0].value<<24|ko[1][Mi[1]+0].value<<16|ko[2][Mi[2]+0].value)>>>0,uc==0&&256>ko[0][Mi[0]+0].value&&(ji.Qb=1,ji.qb+=ko[0][Mi[0]+0].value<<8)),ji.jc=!ji.Qb&&6>Xc,ji.jc){var mc,zs=ji;for(mc=0;mc<Cr;++mc){var ps=mc,Hs=zs.pd[ps],gc=zs.G[0][zs.H[0]+ps];256<=gc.value?(Hs.g=gc.g+256,Hs.value=gc.value):(Hs.g=0,Hs.value=0,ps>>=Kn(gc,8,Hs),ps>>=Kn(zs.G[1][zs.H[1]+ps],16,Hs),ps>>=Kn(zs.G[2][zs.H[2]+ps],0,Hs),Kn(zs.G[3][zs.H[3]+ps],24,Hs))}}}cr.vc=hr,cr.Wb=br,cr.Ya=Qn,cr.yc=lc,Cn=1;break t}Cn=0}if(!(H=Cn)){I.a=3;break e}if(0<Pe){if(ne.ua=1<<Pe,!wt(ne.Wa,Pe)){I.a=1,H=0;break e}}else ne.ua=0;var vc=I,ff=$,Hd=Y,df=vc.s,pf=df.xc;if(vc.c=ff,vc.i=Hd,df.md=dt(ff,pf),df.wc=pf==0?-1:(1<<pf)-1,A){I.xb=Ld;break e}if((me=o($*Y))==null){I.a=1,H=0;break e}H=(H=mr(I,me,0,$,Y,Y,null))&&!Z.h;break e}return H?(B!=null?B[0]=me:(e(me==null),e(A)),I.$=0,A||Nr(ne)):Nr(ne),H}function Ea(p,v){var A=p.c*p.i,I=A+v+16*v;return e(p.c<=v),p.V=o(I),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+v,1)}function Ta(p,v){var A=p.C,I=v-A,B=p.V,H=p.Ba+p.c*A;for(e(v<=p.l.o);0<I;){var $=16<I?16:I,Y=p.l.ma,Z=p.l.width,ne=Z*$,me=Y.ca,Pe=Y.tb+Z*A,Re=p.Ta,Ae=p.Ua;pr(p,$,B,H),Bn(Re,Ae,me,Pe,ne),Ur(Y,A,A+$,me,Pe,Z),I-=$,B+=$*p.c,A+=$}e(A==v),p.C=p.Ma=v}function ii(){this.ub=this.yd=this.td=this.Rb=0}function Ni(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ss(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Xo(){this.Yb=function(){var p=[];return function v(A,I,B){for(var H=B[I],$=0;$<H&&(A.push(B.length>I+1?[]:0),!(B.length<I+1));$++)v(A[$],I+1,B)}(p,0,[3,11]),p}()}function As(){this.jb=o(3),this.Wc=c([4,8],Xo),this.Xc=c([4,17],Xo)}function Gl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ki(){this.ld=this.La=this.dd=this.tc=0}function Qi(){this.Na=this.la=0}function Ir(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $l(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ki),this.Y=0,this.ya=Array(new xa),this.aa=0,this.l=new Na}function ra(){this.y=o(16),this.f=o(8),this.ea=o(8)}function lo(){this.cb=this.a=0,this.sc="",this.m=new Te,this.Od=new ii,this.Kc=new Ni,this.ed=new Gl,this.Qa=new Ss,this.Ic=this.$c=this.Aa=0,this.D=new $l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,Te),this.ia=0,this.pb=u(4,Ir),this.Pa=new As,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ra),this.Hd=0,this.rb=Array(new Qi),this.sb=0,this.wa=Array(new Ki),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xa),this.L=this.aa=0,this.gd=c([4,2],Ki),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Na(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jo(){var p=new lo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Rr||(Rr=Wl)),p}function Vn(p,v,A){return p.a==0&&(p.a=v,p.sc=A,p.cb=0),0}function Vr(p,v,A){return 3<=A&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function uo(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return Vn(p,2,"null VP8Io passed to VP8GetHeaders()");var A=v.data,I=v.w,B=v.ha;if(4>B)return Vn(p,7,"Truncated header.");var H=A[I+0]|A[I+1]<<8|A[I+2]<<16,$=p.Od;if($.Rb=!(1&H),$.td=H>>1&7,$.yd=H>>4&1,$.ub=H>>5,3<$.td)return Vn(p,3,"Incorrect keyframe parameters.");if(!$.yd)return Vn(p,4,"Frame not displayable.");I+=3,B-=3;var Y=p.Kc;if($.Rb){if(7>B)return Vn(p,7,"cannot parse picture header");if(!Vr(A,I,B))return Vn(p,3,"Bad code word");Y.c=16383&(A[I+4]<<8|A[I+3]),Y.Td=A[I+4]>>6,Y.i=16383&(A[I+6]<<8|A[I+5]),Y.Ud=A[I+6]>>6,I+=7,B-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,v.width=Y.c,v.height=Y.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if($.ub>B)return Vn(p,7,"bad partition length");Ie(H=p.m,A,I,$.ub),I+=$.ub,B-=$.ub,$.Rb&&(Y.Ld=pe(H),Y.Kd=pe(H)),Y=p.Qa;var Z,ne=p.Pa;if(e(H!=null),e(Y!=null),Y.Cb=pe(H),Y.Cb){if(Y.Bb=pe(H),pe(H)){for(Y.Fb=pe(H),Z=0;4>Z;++Z)Y.Zb[Z]=pe(H)?fe(H,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=pe(H)?fe(H,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)ne.jb[Z]=pe(H)?te(H,8):255}else Y.Bb=0;if(H.Ka)return Vn(p,3,"cannot parse segment header");if((Y=p.ed).zd=pe(H),Y.Tb=te(H,6),Y.wb=te(H,3),Y.Pc=pe(H),Y.Pc&&pe(H)){for(ne=0;4>ne;++ne)pe(H)&&(Y.vd[ne]=fe(H,6));for(ne=0;4>ne;++ne)pe(H)&&(Y.od[ne]=fe(H,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,H.Ka)return Vn(p,3,"cannot parse filter header");var me=B;if(B=Z=I,I=Z+me,Y=me,p.Xb=(1<<te(p.m,2))-1,me<3*(ne=p.Xb))A=7;else{for(Z+=3*ne,Y-=3*ne,me=0;me<ne;++me){var Pe=A[B+0]|A[B+1]<<8|A[B+2]<<16;Pe>Y&&(Pe=Y),Ie(p.Jc[+me],A,Z,Pe),Z+=Pe,Y-=Pe,B+=3}Ie(p.Jc[+ne],A,Z,Y),A=Z<I?0:5}if(A!=0)return Vn(p,A,"cannot parse partitions");for(A=te(Z=p.m,7),B=pe(Z)?fe(Z,4):0,I=pe(Z)?fe(Z,4):0,Y=pe(Z)?fe(Z,4):0,ne=pe(Z)?fe(Z,4):0,Z=pe(Z)?fe(Z,4):0,me=p.Qa,Pe=0;4>Pe;++Pe){if(me.Cb){var Re=me.Zb[Pe];me.Fb||(Re+=A)}else{if(0<Pe){p.pb[Pe]=p.pb[0];continue}Re=A}var Ae=p.pb[Pe];Ae.Sc[0]=ic[_n(Re+B,127)],Ae.Sc[1]=ac[_n(Re+0,127)],Ae.Eb[0]=2*ic[_n(Re+I,127)],Ae.Eb[1]=101581*ac[_n(Re+Y,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=ic[_n(Re+ne,117)],Ae.Qc[1]=ac[_n(Re+Z,127)],Ae.lc=Re+Z}if(!$.Rb)return Vn(p,4,"Not a key frame.");for(pe(H),$=p.Pa,A=0;4>A;++A){for(B=0;8>B;++B)for(I=0;3>I;++I)for(Y=0;11>Y;++Y)ne=Ee(H,ml[A][B][I][Y])?te(H,8):cs[A][B][I][Y],$.Wc[A][B].Yb[I][Y]=ne;for(B=0;17>B;++B)$.Xc[A][B]=$.Wc[A][Rd[B]]}return p.kc=pe(H),p.kc&&(p.Bd=te(H,8)),p.cb=1}function Wl(p,v,A,I,B,H,$){var Y=v[B].Yb[A];for(A=0;16>B;++B){if(!Ee(p,Y[A+0]))return B;for(;!Ee(p,Y[A+1]);)if(Y=v[++B].Yb[0],A=0,B==16)return 16;var Z=v[B+1].Yb;if(Ee(p,Y[A+2])){var ne=p,me=0;if(Ee(ne,(Re=Y)[(Pe=A)+3]))if(Ee(ne,Re[Pe+6])){for(Y=0,Pe=2*(me=Ee(ne,Re[Pe+8]))+(Re=Ee(ne,Re[Pe+9+me])),me=0,Re=ar[Pe];Re[Y];++Y)me+=me+Ee(ne,Re[Y]);me+=3+(8<<Pe)}else Ee(ne,Re[Pe+7])?(me=7+2*Ee(ne,165),me+=Ee(ne,145)):me=5+Ee(ne,159);else me=Ee(ne,Re[Pe+4])?3+Ee(ne,Re[Pe+5]):2;Y=Z[2]}else me=1,Y=Z[1];Z=$+vn[B],0>(ne=p).b&&_e(ne);var Pe,Re=ne.b,Ae=(Pe=ne.Ca>>1)-(ne.I>>Re)>>31;--ne.b,ne.Ca+=Ae,ne.Ca|=1,ne.I-=(Pe+1&Ae)<<Re,H[Z]=((me^Ae)-Ae)*I[(0<B)+0]}return 16}function Ka(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Zo(p,v){if(p==null)return 0;if(v==null)return Vn(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!uo(p,v))return 0;if(e(p.cb),v.ac==null||v.ac(v)){v.ob&&(p.L=0);var A=Vs[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=v.v-A>>4,p.zb=v.j-A>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=v.o+15+A>>4,p.Hb=v.va+15+A>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var I=p.ed;for(A=0;4>A;++A){var B;if(p.Qa.Cb){var H=p.Qa.Lb[A];p.Qa.Fb||(H+=I.Tb)}else H=I.Tb;for(B=0;1>=B;++B){var $=p.gd[A][B],Y=H;if(I.Pc&&(Y+=I.vd[0],B&&(Y+=I.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var Z=Y;0<I.wb&&(Z=4<I.wb?Z>>2:Z>>1)>9-I.wb&&(Z=9-I.wb),1>Z&&(Z=1),$.dd=Z,$.tc=2*Y+Z,$.ld=40<=Y?2:15<=Y?1:0}else $.tc=0;$.La=B}}}A=0}else Vn(p,6,"Frame setup failed"),A=p.a;if(A=A==0){if(A){p.$c=0,0<p.Aa||(p.Ic=Od);e:{A=p.Ic,I=4*(Z=p.za);var ne=32*Z,me=Z+1,Pe=0<p.L?Z*(0<p.Aa?2:1):0,Re=(p.Aa==2?2:1)*Z;if(($=I+832+(B=3*(16*A+Vs[p.L])/2*ne)+(H=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=$)A=0;else{if($>p.Vb){if(p.Vb=0,p.Ec=o($),p.Fc=0,p.Ec==null){A=Vn(p,1,"no memory during frame initialization.");break e}p.Vb=$}$=p.Ec,Y=p.Fc,p.Ac=$,p.Bc=Y,Y+=I,p.Gd=u(ne,ra),p.Hd=0,p.rb=u(me+1,Qi),p.sb=1,p.wa=Pe?u(Pe,Ki):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=Z),e(!0),p.oc=$,p.pc=Y,Y+=832,p.ya=u(Re,xa),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=Z),p.R=16*Z,p.B=8*Z,Z=(ne=Vs[p.L])*p.R,ne=ne/2*p.B,p.sa=$,p.ta=Y+Z,p.qa=p.sa,p.ra=p.ta+16*A*p.R+ne,p.Ha=p.qa,p.Ia=p.ra+8*A*p.B+ne,p.$c=0,Y+=B,p.mb=H?$:null,p.nb=H?Y:null,e(Y+H<=p.Fc+p.Vb),Ka(p),a(p.Ac,p.Bc,0,I),A=1}}if(A){if(v.ka=0,v.y=p.sa,v.O=p.ta,v.f=p.qa,v.N=p.ra,v.ea=p.Ha,v.Vd=p.Ia,v.fa=p.R,v.Rc=p.B,v.F=null,v.J=0,!Os){for(A=-255;255>=A;++A)ur[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)da[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)xo[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)No[255+A]=0>A?0:255<A?255:A;Os=1}os=Ii,ja=Xa,Ma=ia,yr=bn,ki=Ja,rr=Qa,ll=ns,ls=Oa,eu=po,So=il,Ao=fo,Eo=xs,ul=Ns,tu=rs,To=Xi,Ps=oi,cl=vr,ir=Ql,yi[0]=ai,yi[1]=Yl,yi[2]=oa,yi[3]=Kl,yi[4]=Ci,yi[5]=la,yi[6]=gi,yi[7]=Ri,yi[8]=Pa,yi[9]=Za,Fs[0]=aa,Fs[1]=tl,Fs[2]=Ca,Fs[3]=ho,Fs[4]=Ln,Fs[5]=La,Fs[6]=sa,ea[0]=ua,ea[1]=el,ea[2]=nl,ea[3]=Li,ea[4]=tn,ea[5]=gr,ea[6]=es,A=1}else A=0}A&&(A=function(Ae,He){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Me,ge=Ae.Jc[Ae.M&Ae.Xb],ye=Ae.m,Ve=Ae;for(Me=0;Me<Ve.za;++Me){var Ge=ye,qe=Ve,ct=qe.Ac,rt=qe.Bc+4*Me,_t=qe.zc,at=qe.ya[qe.aa+Me];if(qe.Qa.Bb?at.$b=Ee(Ge,qe.Pa.jb[0])?2+Ee(Ge,qe.Pa.jb[2]):Ee(Ge,qe.Pa.jb[1]):at.$b=0,qe.kc&&(at.Ad=Ee(Ge,qe.Bd)),at.Za=!Ee(Ge,145)+0,at.Za){var dn=at.Ob,wn=0;for(qe=0;4>qe;++qe){var Kt,$t=_t[0+qe];for(Kt=0;4>Kt;++Kt){$t=ef[ct[rt+Kt]][$t];for(var Cn=Co[Ee(Ge,$t[0])];0<Cn;)Cn=Co[2*Cn+Ee(Ge,$t[Cn])];$t=-Cn,ct[rt+Kt]=$t}r(dn,wn,ct,rt,4),wn+=4,_t[0+qe]=$t}}else $t=Ee(Ge,156)?Ee(Ge,128)?1:3:Ee(Ge,163)?2:0,at.Ob[0]=$t,a(ct,rt,$t,4),a(_t,0,$t,4);at.Dd=Ee(Ge,142)?Ee(Ge,114)?Ee(Ge,183)?1:3:2:0}if(Ve.m.Ka)return Vn(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(Ve=ge,Ge=(ye=Ae).rb[ye.sb-1],ct=ye.rb[ye.sb+ye.ja],Me=ye.ya[ye.aa+ye.ja],rt=ye.kc?Me.Ad:0)Ge.la=ct.la=0,Me.Za||(Ge.Na=ct.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var Sn,Vt;if(Ge=ct,ct=Ve,rt=ye.Pa.Xc,_t=ye.ya[ye.aa+ye.ja],at=ye.pb[_t.$b],qe=_t.ad,dn=0,wn=ye.rb[ye.sb-1],$t=Kt=0,a(qe,dn,0,384),_t.Za)var Pn=0,Tt=rt[3];else{Cn=o(16);var Ot=Ge.Na+wn.Na;if(Ot=Rr(ct,rt[1],Ot,at.Eb,0,Cn,0),Ge.Na=wn.Na=(0<Ot)+0,1<Ot)os(Cn,0,qe,dn);else{var fn=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)qe[dn+Cn]=fn}Pn=1,Tt=rt[0]}var pn=15&Ge.la,Hr=15&wn.la;for(Cn=0;4>Cn;++Cn){var Or=1&Hr;for(fn=Vt=0;4>fn;++fn)pn=pn>>1|(Or=(Ot=Rr(ct,Tt,Ot=Or+(1&pn),at.Sc,Pn,qe,dn))>Pn)<<7,Vt=Vt<<2|(3<Ot?3:1<Ot?2:qe[dn+0]!=0),dn+=16;pn>>=4,Hr=Hr>>1|Or<<7,Kt=(Kt<<8|Vt)>>>0}for(Tt=pn,Pn=Hr>>4,Sn=0;4>Sn;Sn+=2){for(Vt=0,pn=Ge.la>>4+Sn,Hr=wn.la>>4+Sn,Cn=0;2>Cn;++Cn){for(Or=1&Hr,fn=0;2>fn;++fn)Ot=Or+(1&pn),pn=pn>>1|(Or=0<(Ot=Rr(ct,rt[2],Ot,at.Qc,0,qe,dn)))<<3,Vt=Vt<<2|(3<Ot?3:1<Ot?2:qe[dn+0]!=0),dn+=16;pn>>=2,Hr=Hr>>1|Or<<5}$t|=Vt<<4*Sn,Tt|=pn<<4<<Sn,Pn|=(240&Hr)<<Sn}Ge.la=Tt,wn.la=Pn,_t.Hc=Kt,_t.Gc=$t,_t.ia=43690&$t?0:at.ia,rt=!(Kt|$t)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[Me.$b][Me.Za],ye.wa[ye.Y+ye.ja].La|=!rt),Ve.Ka)return Vn(Ae,7,"Premature end-of-file encountered.")}if(Ka(Ae),ye=He,Ve=1,Me=(ge=Ae).D,Ge=0<ge.L&&ge.M>=ge.zb&&ge.M<=ge.Va,ge.Aa==0)e:{if(Me.M=ge.M,Me.uc=Ge,Pi(ge,Me),Ve=1,Me=(Vt=ge.D).Nb,Ge=($t=Vs[ge.L])*ge.R,ct=$t/2*ge.B,Cn=16*Me*ge.R,fn=8*Me*ge.B,rt=ge.sa,_t=ge.ta-Ge+Cn,at=ge.qa,qe=ge.ra-ct+fn,dn=ge.Ha,wn=ge.Ia-ct+fn,Hr=(pn=Vt.M)==0,Kt=pn>=ge.Va-1,ge.Aa==2&&Pi(ge,Vt),Vt.uc)for(Or=(Ot=ge).D.M,e(Ot.D.uc),Vt=Ot.yb;Vt<Ot.Hb;++Vt){Pn=Vt,Tt=Or;var cr=(hr=(Wn=Ot).D).Nb;Sn=Wn.R;var hr=hr.wa[hr.Y+Pn],br=Wn.sa,ga=Wn.ta+16*cr*Sn+16*Pn,An=hr.dd,_r=hr.tc;if(_r!=0)if(e(3<=_r),Wn.L==1)0<Pn&&Ps(br,ga,Sn,_r+4),hr.La&&ir(br,ga,Sn,_r),0<Tt&&To(br,ga,Sn,_r+4),hr.La&&cl(br,ga,Sn,_r);else{var Fa=Wn.B,Po=Wn.qa,vl=Wn.ra+8*cr*Fa+8*Pn,Oo=Wn.Ha,Wn=Wn.Ia+8*cr*Fa+8*Pn;cr=hr.ld,0<Pn&&(ls(br,ga,Sn,_r+4,An,cr),So(Po,vl,Oo,Wn,Fa,_r+4,An,cr)),hr.La&&(Eo(br,ga,Sn,_r,An,cr),tu(Po,vl,Oo,Wn,Fa,_r,An,cr)),0<Tt&&(ll(br,ga,Sn,_r+4,An,cr),eu(Po,vl,Oo,Wn,Fa,_r+4,An,cr)),hr.La&&(Ao(br,ga,Sn,_r,An,cr),ul(Po,vl,Oo,Wn,Fa,_r,An,cr))}}if(ge.ia&&alert("todo:DitherRow"),ye.put!=null){if(Vt=16*pn,pn=16*(pn+1),Hr?(ye.y=ge.sa,ye.O=ge.ta+Cn,ye.f=ge.qa,ye.N=ge.ra+fn,ye.ea=ge.Ha,ye.W=ge.Ia+fn):(Vt-=$t,ye.y=rt,ye.O=_t,ye.f=at,ye.N=qe,ye.ea=dn,ye.W=wn),Kt||(pn-=$t),pn>ye.o&&(pn=ye.o),ye.F=null,ye.J=null,ge.Fa!=null&&0<ge.Fa.length&&Vt<pn&&(ye.J=go(ge,ye,Vt,pn-Vt),ye.F=ge.mb,ye.F==null&&ye.F.length==0)){Ve=Vn(ge,3,"Could not decode alpha data.");break e}Vt<ye.j&&($t=ye.j-Vt,Vt=ye.j,e(!(1&$t)),ye.O+=ge.R*$t,ye.N+=ge.B*($t>>1),ye.W+=ge.B*($t>>1),ye.F!=null&&(ye.J+=ye.width*$t)),Vt<pn&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=Vt-ye.j,ye.U=ye.va-ye.v,ye.T=pn-Vt,Ve=ye.put(ye))}Me+1!=ge.Ic||Kt||(r(ge.sa,ge.ta-Ge,rt,_t+16*ge.R,Ge),r(ge.qa,ge.ra-ct,at,qe+8*ge.B,ct),r(ge.Ha,ge.Ia-ct,dn,wn+8*ge.B,ct))}if(!Ve)return Vn(Ae,6,"Output aborted.")}return 1}(p,v)),v.bc!=null&&v.bc(v),A&=1}return A?(p.cb=0,A):0}function Qr(p,v,A,I,B){B=p[v+A+32*I]+(B>>3),p[v+A+32*I]=-256&B?0>B?0:255:B}function co(p,v,A,I,B,H){Qr(p,v,0,A,I+B),Qr(p,v,1,A,I+H),Qr(p,v,2,A,I-H),Qr(p,v,3,A,I-B)}function hn(p){return(20091*p>>16)+p}function Xr(p,v,A,I){var B,H=0,$=o(16);for(B=0;4>B;++B){var Y=p[v+0]+p[v+8],Z=p[v+0]-p[v+8],ne=(35468*p[v+4]>>16)-hn(p[v+12]),me=hn(p[v+4])+(35468*p[v+12]>>16);$[H+0]=Y+me,$[H+1]=Z+ne,$[H+2]=Z-ne,$[H+3]=Y-me,H+=4,v++}for(B=H=0;4>B;++B)Y=(p=$[H+0]+4)+$[H+8],Z=p-$[H+8],ne=(35468*$[H+4]>>16)-hn($[H+12]),Qr(A,I,0,0,Y+(me=hn($[H+4])+(35468*$[H+12]>>16))),Qr(A,I,1,0,Z+ne),Qr(A,I,2,0,Z-ne),Qr(A,I,3,0,Y-me),H++,I+=32}function Qa(p,v,A,I){var B=p[v+0]+4,H=35468*p[v+4]>>16,$=hn(p[v+4]),Y=35468*p[v+1]>>16;co(A,I,0,B+$,p=hn(p[v+1]),Y),co(A,I,1,B+H,p,Y),co(A,I,2,B-H,p,Y),co(A,I,3,B-$,p,Y)}function Xa(p,v,A,I,B){Xr(p,v,A,I),B&&Xr(p,v+16,A,I+4)}function ia(p,v,A,I){ja(p,v+0,A,I,1),ja(p,v+32,A,I+128,1)}function bn(p,v,A,I){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)Qr(A,I,v,B,p)}function Ja(p,v,A,I){p[v+0]&&yr(p,v+0,A,I),p[v+16]&&yr(p,v+16,A,I+4),p[v+32]&&yr(p,v+32,A,I+128),p[v+48]&&yr(p,v+48,A,I+128+4)}function Ii(p,v,A,I){var B,H=o(16);for(B=0;4>B;++B){var $=p[v+0+B]+p[v+12+B],Y=p[v+4+B]+p[v+8+B],Z=p[v+4+B]-p[v+8+B],ne=p[v+0+B]-p[v+12+B];H[0+B]=$+Y,H[8+B]=$-Y,H[4+B]=ne+Z,H[12+B]=ne-Z}for(B=0;4>B;++B)$=(p=H[0+4*B]+3)+H[3+4*B],Y=H[1+4*B]+H[2+4*B],Z=H[1+4*B]-H[2+4*B],ne=p-H[3+4*B],A[I+0]=$+Y>>3,A[I+16]=ne+Z>>3,A[I+32]=$-Y>>3,A[I+48]=ne-Z>>3,I+=64}function Ia(p,v,A){var I,B=v-32,H=qr,$=255-p[B-1];for(I=0;I<A;++I){var Y,Z=H,ne=$+p[v-1];for(Y=0;Y<A;++Y)p[v+Y]=Z[ne+p[B+Y]];v+=32}}function Yl(p,v){Ia(p,v,4)}function el(p,v){Ia(p,v,8)}function tl(p,v){Ia(p,v,16)}function Ca(p,v){var A;for(A=0;16>A;++A)r(p,v+32*A,p,v-32,16)}function ho(p,v){var A;for(A=16;0<A;--A)a(p,v,p[v-1],16),v+=32}function Ra(p,v,A){var I;for(I=0;16>I;++I)a(v,A+32*I,p,16)}function aa(p,v){var A,I=16;for(A=0;16>A;++A)I+=p[v-1+32*A]+p[v+A-32];Ra(I>>5,p,v)}function Ln(p,v){var A,I=8;for(A=0;16>A;++A)I+=p[v-1+32*A];Ra(I>>4,p,v)}function La(p,v){var A,I=8;for(A=0;16>A;++A)I+=p[v+A-32];Ra(I>>4,p,v)}function sa(p,v){Ra(128,p,v)}function Nt(p,v,A){return p+2*v+A+2>>2}function oa(p,v){var A,I=v-32;for(I=new Uint8Array([Nt(p[I-1],p[I+0],p[I+1]),Nt(p[I+0],p[I+1],p[I+2]),Nt(p[I+1],p[I+2],p[I+3]),Nt(p[I+2],p[I+3],p[I+4])]),A=0;4>A;++A)r(p,v+32*A,I,0,I.length)}function Kl(p,v){var A=p[v-1],I=p[v-1+32],B=p[v-1+64],H=p[v-1+96];Je(p,v+0,16843009*Nt(p[v-1-32],A,I)),Je(p,v+32,16843009*Nt(A,I,B)),Je(p,v+64,16843009*Nt(I,B,H)),Je(p,v+96,16843009*Nt(B,H,H))}function ai(p,v){var A,I=4;for(A=0;4>A;++A)I+=p[v+A-32]+p[v-1+32*A];for(I>>=3,A=0;4>A;++A)a(p,v+32*A,I,4)}function Ci(p,v){var A=p[v-1+0],I=p[v-1+32],B=p[v-1+64],H=p[v-1-32],$=p[v+0-32],Y=p[v+1-32],Z=p[v+2-32],ne=p[v+3-32];p[v+0+96]=Nt(I,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=Nt(A,I,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=Nt(H,A,I),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Nt($,H,A),p[v+3+64]=p[v+2+32]=p[v+1+0]=Nt(Y,$,H),p[v+3+32]=p[v+2+0]=Nt(Z,Y,$),p[v+3+0]=Nt(ne,Z,Y)}function gi(p,v){var A=p[v+1-32],I=p[v+2-32],B=p[v+3-32],H=p[v+4-32],$=p[v+5-32],Y=p[v+6-32],Z=p[v+7-32];p[v+0+0]=Nt(p[v+0-32],A,I),p[v+1+0]=p[v+0+32]=Nt(A,I,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=Nt(I,B,H),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Nt(B,H,$),p[v+3+32]=p[v+2+64]=p[v+1+96]=Nt(H,$,Y),p[v+3+64]=p[v+2+96]=Nt($,Y,Z),p[v+3+96]=Nt(Y,Z,Z)}function la(p,v){var A=p[v-1+0],I=p[v-1+32],B=p[v-1+64],H=p[v-1-32],$=p[v+0-32],Y=p[v+1-32],Z=p[v+2-32],ne=p[v+3-32];p[v+0+0]=p[v+1+64]=H+$+1>>1,p[v+1+0]=p[v+2+64]=$+Y+1>>1,p[v+2+0]=p[v+3+64]=Y+Z+1>>1,p[v+3+0]=Z+ne+1>>1,p[v+0+96]=Nt(B,I,A),p[v+0+64]=Nt(I,A,H),p[v+0+32]=p[v+1+96]=Nt(A,H,$),p[v+1+32]=p[v+2+96]=Nt(H,$,Y),p[v+2+32]=p[v+3+96]=Nt($,Y,Z),p[v+3+32]=Nt(Y,Z,ne)}function Ri(p,v){var A=p[v+0-32],I=p[v+1-32],B=p[v+2-32],H=p[v+3-32],$=p[v+4-32],Y=p[v+5-32],Z=p[v+6-32],ne=p[v+7-32];p[v+0+0]=A+I+1>>1,p[v+1+0]=p[v+0+64]=I+B+1>>1,p[v+2+0]=p[v+1+64]=B+H+1>>1,p[v+3+0]=p[v+2+64]=H+$+1>>1,p[v+0+32]=Nt(A,I,B),p[v+1+32]=p[v+0+96]=Nt(I,B,H),p[v+2+32]=p[v+1+96]=Nt(B,H,$),p[v+3+32]=p[v+2+96]=Nt(H,$,Y),p[v+3+64]=Nt($,Y,Z),p[v+3+96]=Nt(Y,Z,ne)}function Za(p,v){var A=p[v-1+0],I=p[v-1+32],B=p[v-1+64],H=p[v-1+96];p[v+0+0]=A+I+1>>1,p[v+2+0]=p[v+0+32]=I+B+1>>1,p[v+2+32]=p[v+0+64]=B+H+1>>1,p[v+1+0]=Nt(A,I,B),p[v+3+0]=p[v+1+32]=Nt(I,B,H),p[v+3+32]=p[v+1+64]=Nt(B,H,H),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=H}function Pa(p,v){var A=p[v-1+0],I=p[v-1+32],B=p[v-1+64],H=p[v-1+96],$=p[v-1-32],Y=p[v+0-32],Z=p[v+1-32],ne=p[v+2-32];p[v+0+0]=p[v+2+32]=A+$+1>>1,p[v+0+32]=p[v+2+64]=I+A+1>>1,p[v+0+64]=p[v+2+96]=B+I+1>>1,p[v+0+96]=H+B+1>>1,p[v+3+0]=Nt(Y,Z,ne),p[v+2+0]=Nt($,Y,Z),p[v+1+0]=p[v+3+32]=Nt(A,$,Y),p[v+1+32]=p[v+3+64]=Nt(I,A,$),p[v+1+64]=p[v+3+96]=Nt(B,I,A),p[v+1+96]=Nt(H,B,I)}function nl(p,v){var A;for(A=0;8>A;++A)r(p,v+32*A,p,v-32,8)}function Li(p,v){var A;for(A=0;8>A;++A)a(p,v,p[v-1],8),v+=32}function si(p,v,A){var I;for(I=0;8>I;++I)a(v,A+32*I,p,8)}function ua(p,v){var A,I=8;for(A=0;8>A;++A)I+=p[v+A-32]+p[v-1+32*A];si(I>>4,p,v)}function gr(p,v){var A,I=4;for(A=0;8>A;++A)I+=p[v+A-32];si(I>>3,p,v)}function tn(p,v){var A,I=4;for(A=0;8>A;++A)I+=p[v-1+32*A];si(I>>3,p,v)}function es(p,v){si(128,p,v)}function ca(p,v,A){var I=p[v-A],B=p[v+0],H=3*(B-I)+zc[1020+p[v-2*A]-p[v+A]],$=hl[112+(H+4>>3)];p[v-A]=qr[255+I+hl[112+(H+3>>3)]],p[v+0]=qr[255+B-$]}function rl(p,v,A,I){var B=p[v+0],H=p[v+A];return pa[255+p[v-2*A]-p[v-A]]>I||pa[255+H-B]>I}function Es(p,v,A,I){return 4*pa[255+p[v-A]-p[v+0]]+pa[255+p[v-2*A]-p[v+A]]<=I}function Ts(p,v,A,I,B){var H=p[v-3*A],$=p[v-2*A],Y=p[v-A],Z=p[v+0],ne=p[v+A],me=p[v+2*A],Pe=p[v+3*A];return 4*pa[255+Y-Z]+pa[255+$-ne]>I?0:pa[255+p[v-4*A]-H]<=B&&pa[255+H-$]<=B&&pa[255+$-Y]<=B&&pa[255+Pe-me]<=B&&pa[255+me-ne]<=B&&pa[255+ne-Z]<=B}function Xi(p,v,A,I){var B=2*I+1;for(I=0;16>I;++I)Es(p,v+I,A,B)&&ca(p,v+I,A)}function oi(p,v,A,I){var B=2*I+1;for(I=0;16>I;++I)Es(p,v+I*A,1,B)&&ca(p,v+I*A,1)}function vr(p,v,A,I){var B;for(B=3;0<B;--B)Xi(p,v+=4*A,A,I)}function Ql(p,v,A,I){var B;for(B=3;0<B;--B)oi(p,v+=4,A,I)}function ts(p,v,A,I,B,H,$,Y){for(H=2*H+1;0<B--;){if(Ts(p,v,A,H,$))if(rl(p,v,A,Y))ca(p,v,A);else{var Z=p,ne=v,me=A,Pe=Z[ne-2*me],Re=Z[ne-me],Ae=Z[ne+0],He=Z[ne+me],Me=Z[ne+2*me],ge=27*(Ve=zc[1020+3*(Ae-Re)+zc[1020+Pe-He]])+63>>7,ye=18*Ve+63>>7,Ve=9*Ve+63>>7;Z[ne-3*me]=qr[255+Z[ne-3*me]+Ve],Z[ne-2*me]=qr[255+Pe+ye],Z[ne-me]=qr[255+Re+ge],Z[ne+0]=qr[255+Ae-ge],Z[ne+me]=qr[255+He-ye],Z[ne+2*me]=qr[255+Me-Ve]}v+=I}}function Jr(p,v,A,I,B,H,$,Y){for(H=2*H+1;0<B--;){if(Ts(p,v,A,H,$))if(rl(p,v,A,Y))ca(p,v,A);else{var Z=p,ne=v,me=A,Pe=Z[ne-me],Re=Z[ne+0],Ae=Z[ne+me],He=hl[112+((Me=3*(Re-Pe))+4>>3)],Me=hl[112+(Me+3>>3)],ge=He+1>>1;Z[ne-2*me]=qr[255+Z[ne-2*me]+ge],Z[ne-me]=qr[255+Pe+Me],Z[ne+0]=qr[255+Re-He],Z[ne+me]=qr[255+Ae-ge]}v+=I}}function ns(p,v,A,I,B,H){ts(p,v,A,1,16,I,B,H)}function Oa(p,v,A,I,B,H){ts(p,v,1,A,16,I,B,H)}function fo(p,v,A,I,B,H){var $;for($=3;0<$;--$)Jr(p,v+=4*A,A,1,16,I,B,H)}function xs(p,v,A,I,B,H){var $;for($=3;0<$;--$)Jr(p,v+=4,1,A,16,I,B,H)}function po(p,v,A,I,B,H,$,Y){ts(p,v,B,1,8,H,$,Y),ts(A,I,B,1,8,H,$,Y)}function il(p,v,A,I,B,H,$,Y){ts(p,v,1,B,8,H,$,Y),ts(A,I,1,B,8,H,$,Y)}function Ns(p,v,A,I,B,H,$,Y){Jr(p,v+4*B,B,1,8,H,$,Y),Jr(A,I+4*B,B,1,8,H,$,Y)}function rs(p,v,A,I,B,H,$,Y){Jr(p,v+4,1,B,8,H,$,Y),Jr(A,I+4,1,B,8,H,$,Y)}function Is(){this.ba=new Tr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Cs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function is(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new P}function Xl(){this.xb=this.a=0,this.l=new Na,this.ca=new Tr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new is,this.ab=0,this.gc=u(4,Cs),this.Oc=0}function Da(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Na,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function as(p,v,A,I,B,H,$){for(p=p==null?0:p[v+0],v=0;v<$;++v)B[H+v]=p+A[I+v]&255,p=B[H+v]}function Rs(p,v,A,I,B,H,$){var Y;if(p==null)as(null,null,A,I,B,H,$);else for(Y=0;Y<$;++Y)B[H+Y]=p[v+Y]+A[I+Y]&255}function li(p,v,A,I,B,H,$){if(p==null)as(null,null,A,I,B,H,$);else{var Y,Z=p[v+0],ne=Z,me=Z;for(Y=0;Y<$;++Y)ne=me+(Z=p[v+Y])-ne,me=A[I+Y]+(-256&ne?0>ne?0:255:ne)&255,ne=Z,B[H+Y]=me}}function go(p,v,A,I){var B=v.width,H=v.o;if(e(p!=null&&v!=null),0>A||0>=I||A+I>H)return null;if(!p.Cc){if(p.ga==null){var $;if(p.ga=new Da,($=p.ga==null)||($=v.width*v.o,e(p.Gb.length==0),p.Gb=o($),p.Uc=0,p.Gb==null?$=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,$=1),$=!$),!$){$=p.ga;var Y=p.Fa,Z=p.P,ne=p.qc,me=p.mb,Pe=p.nb,Re=Z+1,Ae=ne-1,He=$.l;if(e(Y!=null&&me!=null&&v!=null),hs[0]=null,hs[1]=as,hs[2]=Rs,hs[3]=li,$.ca=me,$.tb=Pe,$.c=v.width,$.i=v.height,e(0<$.c&&0<$.i),1>=ne)v=0;else if($.$a=Y[Z+0]>>0&3,$.Z=Y[Z+0]>>2&3,$.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||Z)v=0;else if(He.put=Kr,He.ac=tr,He.bc=Yi,He.ma=$,He.width=v.width,He.height=v.height,He.Da=v.Da,He.v=v.v,He.va=v.va,He.j=v.j,He.o=v.o,$.$a)e:{e($.$a==1),v=Un();t:for(;;){if(v==null){v=0;break e}if(e($!=null),$.mc=v,v.c=$.c,v.i=$.i,v.l=$.l,v.l.ma=$,v.l.width=$.c,v.l.height=$.i,v.a=0,he(v.m,Y,Re,Ae),!yn($.c,$.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&mi(v.s)?($.ic=1,Y=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Y),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):($.ic=0,v=Ea(v,$.c)),!v))break t;v=1;break e}$.mc=null,v=0}else v=Ae>=$.c*$.i;$=!v}if($)return null;p.ga.Lc!=1?p.Ga=0:I=H-A}e(p.ga!=null),e(A+I<=H);e:{if(v=(Y=p.ga).c,H=Y.l.o,Y.$a==0){if(Re=p.rc,Ae=p.Vc,He=p.Fa,Z=p.P+1+A*v,ne=p.mb,me=p.nb+A*v,e(Z<=p.P+p.qc),Y.Z!=0)for(e(hs[Y.Z]!=null),$=0;$<I;++$)hs[Y.Z](Re,Ae,He,Z,ne,me,v),Re=ne,Ae=me,me+=v,Z+=v;else for($=0;$<I;++$)r(ne,me,He,Z,v),Re=ne,Ae=me,me+=v,Z+=v;p.rc=Re,p.Vc=Ae}else{if(e(Y.mc!=null),v=A+I,e(($=Y.mc)!=null),e(v<=$.i),$.C>=v)v=1;else if(Y.ic||Se(),Y.ic){Y=$.V,Re=$.Ba,Ae=$.c;var Me=$.i,ge=(He=1,Z=$.$/Ae,ne=$.$%Ae,me=$.m,Pe=$.s,$.$),ye=Ae*Me,Ve=Ae*v,Ge=Pe.wc,qe=ge<Ve?nr(Pe,ne,Z):null;e(ge<=ye),e(v<=Me),e(mi(Pe));t:for(;;){for(;!me.h&&ge<Ve;){if(ne&Ge||(qe=nr(Pe,ne,Z)),e(qe!=null),ae(me),256>(Me=Hn(qe.G[0],qe.H[0],me)))Y[Re+ge]=Me,++ge,++ne>=Ae&&(ne=0,++Z<=v&&!(Z%16)&&xr($,Z));else{if(!(280>Me)){He=0;break t}Me=xn(Me-256,me);var ct,rt=Hn(qe.G[4],qe.H[4],me);if(ae(me),!(ge>=(rt=Nn(Ae,rt=xn(rt,me)))&&ye-ge>=Me)){He=0;break t}for(ct=0;ct<Me;++ct)Y[Re+ge+ct]=Y[Re+ge+ct-rt];for(ge+=Me,ne+=Me;ne>=Ae;)ne-=Ae,++Z<=v&&!(Z%16)&&xr($,Z);ge<Ve&&ne&Ge&&(qe=nr(Pe,ne,Z))}e(me.h==X(me))}xr($,Z>v?v:Z);break t}!He||me.h&&ge<ye?(He=0,$.a=me.h?5:3):$.$=ge,v=He}else v=mr($,$.V,$.Ba,$.c,$.i,v,Ta);if(!v){I=0;break e}}A+I>=H&&(p.Cc=1),I=1}if(!I)return null;if(p.Cc&&((I=p.ga)!=null&&(I.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*B}function _(p,v,A,I,B,H){for(;0<B--;){var $,Y=p,Z=v+(A?1:0),ne=p,me=v+(A?0:3);for($=0;$<I;++$){var Pe=ne[me+4*$];Pe!=255&&(Pe*=32897,Y[Z+4*$+0]=Y[Z+4*$+0]*Pe>>23,Y[Z+4*$+1]=Y[Z+4*$+1]*Pe>>23,Y[Z+4*$+2]=Y[Z+4*$+2]*Pe>>23)}v+=H}}function q(p,v,A,I,B){for(;0<I--;){var H;for(H=0;H<A;++H){var $=p[v+2*H+0],Y=15&(ne=p[v+2*H+1]),Z=4369*Y,ne=(240&ne|ne>>4)*Z>>16;p[v+2*H+0]=(240&$|$>>4)*Z>>16&240|(15&$|$<<4)*Z>>16>>4&15,p[v+2*H+1]=240&ne|Y}v+=B}}function re(p,v,A,I,B,H,$,Y){var Z,ne,me=255;for(ne=0;ne<B;++ne){for(Z=0;Z<I;++Z){var Pe=p[v+Z];H[$+4*Z]=Pe,me&=Pe}v+=A,$+=Y}return me!=255}function de(p,v,A,I,B){var H;for(H=0;H<B;++H)A[I+H]=p[v+H]>>8}function Se(){Ji=_,Xt=q,Jt=re,Bn=de}function Fe(p,v,A){N[p]=function(I,B,H,$,Y,Z,ne,me,Pe,Re,Ae,He,Me,ge,ye,Ve,Ge){var qe,ct=Ge-1>>1,rt=Y[Z+0]|ne[me+0]<<16,_t=Pe[Re+0]|Ae[He+0]<<16;e(I!=null);var at=3*rt+_t+131074>>2;for(v(I[B+0],255&at,at>>16,Me,ge),H!=null&&(at=3*_t+rt+131074>>2,v(H[$+0],255&at,at>>16,ye,Ve)),qe=1;qe<=ct;++qe){var dn=Y[Z+qe]|ne[me+qe]<<16,wn=Pe[Re+qe]|Ae[He+qe]<<16,Kt=rt+dn+_t+wn+524296,$t=Kt+2*(dn+_t)>>3;at=$t+rt>>1,rt=(Kt=Kt+2*(rt+wn)>>3)+dn>>1,v(I[B+2*qe-1],255&at,at>>16,Me,ge+(2*qe-1)*A),v(I[B+2*qe-0],255&rt,rt>>16,Me,ge+(2*qe-0)*A),H!=null&&(at=Kt+_t>>1,rt=$t+wn>>1,v(H[$+2*qe-1],255&at,at>>16,ye,Ve+(2*qe-1)*A),v(H[$+2*qe+0],255&rt,rt>>16,ye,Ve+(2*qe+0)*A)),rt=dn,_t=wn}1&Ge||(at=3*rt+_t+131074>>2,v(I[B+Ge-1],255&at,at>>16,Me,ge+(Ge-1)*A),H!=null&&(at=3*_t+rt+131074>>2,v(H[$+Ge-1],255&at,at>>16,ye,Ve+(Ge-1)*A)))}}function Qe(){zr[ui]=Us,zr[nu]=fs,zr[us]=Ro,zr[nc]=$c,zr[fl]=Wc,zr[Ds]=au,zr[Hc]=Yc,zr[rc]=fs,zr[Io]=$c,zr[ks]=Wc,zr[ru]=au}function it(p){return p&-16384?0>p?0:255:p>>ag}function m(p,v){return it((19077*p>>8)+(26149*v>>8)-14234)}function x(p,v,A){return it((19077*p>>8)-(6419*v>>8)-(13320*A>>8)+8708)}function R(p,v){return it((19077*p>>8)+(33050*v>>8)-17685)}function K(p,v,A,I,B){I[B+0]=m(p,A),I[B+1]=x(p,v,A),I[B+2]=R(p,v)}function we(p,v,A,I,B){I[B+0]=R(p,v),I[B+1]=x(p,v,A),I[B+2]=m(p,A)}function Oe(p,v,A,I,B){var H=x(p,v,A);v=H<<3&224|R(p,v)>>3,I[B+0]=248&m(p,A)|H>>5,I[B+1]=v}function Xe(p,v,A,I,B){var H=240&R(p,v)|15;I[B+0]=240&m(p,A)|x(p,v,A)>>4,I[B+1]=H}function It(p,v,A,I,B){I[B+0]=255,K(p,v,A,I,B+1)}function nn(p,v,A,I,B){we(p,v,A,I,B),I[B+3]=255}function Ut(p,v,A,I,B){K(p,v,A,I,B),I[B+3]=255}function _n(p,v){return 0>p?0:p>v?v:p}function In(p,v,A){N[p]=function(I,B,H,$,Y,Z,ne,me,Pe){for(var Re=me+(-2&Pe)*A;me!=Re;)v(I[B+0],H[$+0],Y[Z+0],ne,me),v(I[B+1],H[$+0],Y[Z+0],ne,me+A),B+=2,++$,++Z,me+=2*A;1&Pe&&v(I[B+0],H[$+0],Y[Z+0],ne,me)}}function ha(p,v,A){return A==0?p==0?v==0?6:5:v==0?4:0:A}function lr(p,v,A,I,B){switch(p>>>30){case 3:ja(v,A,I,B,0);break;case 2:rr(v,A,I,B);break;case 1:yr(v,A,I,B)}}function Pi(p,v){var A,I,B=v.M,H=v.Nb,$=p.oc,Y=p.pc+40,Z=p.oc,ne=p.pc+584,me=p.oc,Pe=p.pc+600;for(A=0;16>A;++A)$[Y+32*A-1]=129;for(A=0;8>A;++A)Z[ne+32*A-1]=129,me[Pe+32*A-1]=129;for(0<B?$[Y-1-32]=Z[ne-1-32]=me[Pe-1-32]=129:(a($,Y-32-1,127,21),a(Z,ne-32-1,127,9),a(me,Pe-32-1,127,9)),I=0;I<p.za;++I){var Re=v.ya[v.aa+I];if(0<I){for(A=-1;16>A;++A)r($,Y+32*A-4,$,Y+32*A+12,4);for(A=-1;8>A;++A)r(Z,ne+32*A-4,Z,ne+32*A+4,4),r(me,Pe+32*A-4,me,Pe+32*A+4,4)}var Ae=p.Gd,He=p.Hd+I,Me=Re.ad,ge=Re.Hc;if(0<B&&(r($,Y-32,Ae[He].y,0,16),r(Z,ne-32,Ae[He].f,0,8),r(me,Pe-32,Ae[He].ea,0,8)),Re.Za){var ye=$,Ve=Y-32+16;for(0<B&&(I>=p.za-1?a(ye,Ve,Ae[He].y[15],4):r(ye,Ve,Ae[He+1].y,0,4)),A=0;4>A;A++)ye[Ve+128+A]=ye[Ve+256+A]=ye[Ve+384+A]=ye[Ve+0+A];for(A=0;16>A;++A,ge<<=2)ye=$,Ve=Y+gl[A],yi[Re.Ob[A]](ye,Ve),lr(ge,Me,16*+A,ye,Ve)}else if(ye=ha(I,B,Re.Ob[0]),Fs[ye]($,Y),ge!=0)for(A=0;16>A;++A,ge<<=2)lr(ge,Me,16*+A,$,Y+gl[A]);for(A=Re.Gc,ye=ha(I,B,Re.Dd),ea[ye](Z,ne),ea[ye](me,Pe),ge=Me,ye=Z,Ve=ne,255&(Re=A>>0)&&(170&Re?Ma(ge,256,ye,Ve):ki(ge,256,ye,Ve)),Re=me,ge=Pe,255&(A>>=8)&&(170&A?Ma(Me,320,Re,ge):ki(Me,320,Re,ge)),B<p.Ub-1&&(r(Ae[He].y,0,$,Y+480,16),r(Ae[He].f,0,Z,ne+224,8),r(Ae[He].ea,0,me,Pe+224,8)),A=8*H*p.B,Ae=p.sa,He=p.ta+16*I+16*H*p.R,Me=p.qa,Re=p.ra+8*I+A,ge=p.Ha,ye=p.Ia+8*I+A,A=0;16>A;++A)r(Ae,He+A*p.R,$,Y+32*A,16);for(A=0;8>A;++A)r(Me,Re+A*p.B,Z,ne+32*A,8),r(ge,ye+A*p.B,me,Pe+32*A,8)}}function ss(p,v,A,I,B,H,$,Y,Z){var ne=[0],me=[0],Pe=0,Re=Z!=null?Z.kd:0,Ae=Z??new mo;if(p==null||12>A)return 7;Ae.data=p,Ae.w=v,Ae.ha=A,v=[v],A=[A],Ae.gb=[Ae.gb];e:{var He=v,Me=A,ge=Ae.gb;if(e(p!=null),e(Me!=null),e(ge!=null),ge[0]=0,12<=Me[0]&&!t(p,He[0],"RIFF")){if(t(p,He[0]+8,"WEBP")){ge=3;break e}var ye=nt(p,He[0]+4);if(12>ye||4294967286<ye){ge=3;break e}if(Re&&ye>Me[0]-8){ge=7;break e}ge[0]=ye,He[0]+=12,Me[0]-=12}ge=0}if(ge!=0)return ge;for(ye=0<Ae.gb[0],A=A[0];;){e:{var Ve=p;Me=v,ge=A;var Ge=ne,qe=me,ct=He=[0];if((at=Pe=[Pe])[0]=0,8>ge[0])ge=7;else{if(!t(Ve,Me[0],"VP8X")){if(nt(Ve,Me[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var rt=nt(Ve,Me[0]+8),_t=1+tt(Ve,Me[0]+12);if(2147483648<=_t*(Ve=1+tt(Ve,Me[0]+15))){ge=3;break e}ct!=null&&(ct[0]=rt),Ge!=null&&(Ge[0]=_t),qe!=null&&(qe[0]=Ve),Me[0]+=18,ge[0]-=18,at[0]=1}ge=0}}if(Pe=Pe[0],He=He[0],ge!=0)return ge;if(Me=!!(2&He),!ye&&Pe)return 3;if(H!=null&&(H[0]=!!(16&He)),$!=null&&($[0]=Me),Y!=null&&(Y[0]=0),$=ne[0],He=me[0],Pe&&Me&&Z==null){ge=0;break}if(4>A){ge=7;break}if(ye&&Pe||!ye&&!Pe&&!t(p,v[0],"ALPH")){A=[A],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{rt=p,ge=v,ye=A;var at=Ae.gb;Ge=Ae.na,qe=Ae.P,ct=Ae.Sa,_t=22,e(rt!=null),e(ye!=null),Ve=ge[0];var dn=ye[0];for(e(Ge!=null),e(ct!=null),Ge[0]=null,qe[0]=null,ct[0]=0;;){if(ge[0]=Ve,ye[0]=dn,8>dn){ge=7;break e}var wn=nt(rt,Ve+4);if(4294967286<wn){ge=3;break e}var Kt=8+wn+1&-2;if(_t+=Kt,0<at&&_t>at){ge=3;break e}if(!t(rt,Ve,"VP8 ")||!t(rt,Ve,"VP8L")){ge=0;break e}if(dn[0]<Kt){ge=7;break e}t(rt,Ve,"ALPH")||(Ge[0]=rt,qe[0]=Ve+8,ct[0]=wn),Ve+=Kt,dn-=Kt}}if(A=A[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],ge!=0)break}A=[A],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(at=p,ge=v,ye=A,Ge=Ae.gb[0],qe=Ae.Ja,ct=Ae.xa,rt=ge[0],Ve=!t(at,rt,"VP8 "),_t=!t(at,rt,"VP8L"),e(at!=null),e(ye!=null),e(qe!=null),e(ct!=null),8>ye[0])ge=7;else{if(Ve||_t){if(at=nt(at,rt+4),12<=Ge&&at>Ge-12){ge=3;break e}if(Re&&at>ye[0]-8){ge=7;break e}qe[0]=at,ge[0]+=8,ye[0]-=8,ct[0]=_t}else ct[0]=5<=ye[0]&&at[rt+0]==47&&!(at[rt+4]>>5),qe[0]=ye[0];ge=0}if(A=A[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],v=v[0],ge!=0)break;if(4294967286<Ae.Ja)return 3;if(Y==null||Me||(Y[0]=Ae.xa?2:1),$=[$],He=[He],Ae.xa){if(5>A){ge=7;break}Y=$,Re=He,Me=H,p==null||5>A?p=0:5<=A&&p[v+0]==47&&!(p[v+4]>>5)?(ye=[0],at=[0],Ge=[0],he(qe=new O,p,v,A),ut(qe,ye,at,Ge)?(Y!=null&&(Y[0]=ye[0]),Re!=null&&(Re[0]=at[0]),Me!=null&&(Me[0]=Ge[0]),p=1):p=0):p=0}else{if(10>A){ge=7;break}Y=He,p==null||10>A||!Vr(p,v+3,A-3)?p=0:(Re=p[v+0]|p[v+1]<<8|p[v+2]<<16,Me=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=Ae.Ja||!Me||!p?p=0:($&&($[0]=Me),Y&&(Y[0]=p),p=1))}if(!p||($=$[0],He=He[0],Pe&&(ne[0]!=$||me[0]!=He)))return 3;Z!=null&&(Z[0]=Ae,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-A));break}return ge==0||ge==7&&Pe&&Z==null?(H!=null&&(H[0]|=Ae.na!=null&&0<Ae.na.length),I!=null&&(I[0]=$),B!=null&&(B[0]=He),0):ge}function vo(p,v,A){var I=v.width,B=v.height,H=0,$=0,Y=I,Z=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(Y=p.cd,Z=p.bd,H=p.v,$=p.j,11>A||(H&=-2,$&=-2),0>H||0>$||0>=Y||0>=Z||H+Y>I||$+Z>B))return 0;if(v.v=H,v.j=$,v.va=H+Y,v.o=$+Z,v.U=Y,v.T=Z,v.da=p!=null&&0<p.da,v.da){if(!At(Y,Z,A=[p.ib],H=[p.hb]))return 0;v.ib=A[0],v.hb=H[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*I/4&&v.hb<3*B/4,v.Kb=0),1}function Jl(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function al(p,v,A,I){if(I==null||0>=p||0>=v)return 2;if(A!=null){if(A.Da){var B=A.cd,H=A.bd,$=-2&A.v,Y=-2&A.j;if(0>$||0>Y||0>=B||0>=H||$+B>p||Y+H>v)return 2;p=B,v=H}if(A.da){if(!At(p,v,B=[A.ib],H=[A.hb]))return 2;p=B[0],v=H[0]}}I.width=p,I.height=v;e:{var Z=I.width,ne=I.height;if(p=I.S,0>=Z||0>=ne||!(p>=ui&&13>p))p=2;else{if(0>=I.Rd&&I.sd==null){$=H=B=v=0;var me=(Y=Z*Dd[p])*ne;if(11>p||(H=(ne+1)/2*(v=(Z+1)/2),p==12&&($=(B=Z)*ne)),(ne=o(me+2*H+$))==null){p=1;break e}I.sd=ne,11>p?((Z=I.f.RGBA).eb=ne,Z.fb=0,Z.A=Y,Z.size=me):((Z=I.f.kb).y=ne,Z.O=0,Z.fa=Y,Z.Fd=me,Z.f=ne,Z.N=0+me,Z.Ab=v,Z.Cd=H,Z.ea=ne,Z.W=0+me+H,Z.Db=v,Z.Ed=H,p==12&&(Z.F=ne,Z.J=0+me+2*H),Z.Tc=$,Z.lb=B)}if(v=1,B=I.S,H=I.width,$=I.height,B>=ui&&13>B)if(11>B)p=I.f.RGBA,v&=(Y=Math.abs(p.A))*($-1)+H<=p.size,v&=Y>=H*Dd[B],v&=p.eb!=null;else{p=I.f.kb,Y=(H+1)/2,me=($+1)/2,Z=Math.abs(p.fa),ne=Math.abs(p.Ab);var Pe=Math.abs(p.Db),Re=Math.abs(p.lb),Ae=Re*($-1)+H;v&=Z*($-1)+H<=p.Fd,v&=ne*(me-1)+Y<=p.Cd,v=(v&=Pe*(me-1)+Y<=p.Ed)&Z>=H&ne>=Y&Pe>=Y,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=Re>=H,v&=Ae<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||A!=null&&A.fd&&(p=Jl(I)),p}var Cr=64,yo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sl=24,ol=32,Zl=8,Oi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(p){return p},N.Predictor2=function(p,v,A){return v[A+0]},N.Predictor3=function(p,v,A){return v[A+1]},N.Predictor4=function(p,v,A){return v[A-1]},N.Predictor5=function(p,v,A){return ot(ot(p,v[A+1]),v[A+0])},N.Predictor6=function(p,v,A){return ot(p,v[A-1])},N.Predictor7=function(p,v,A){return ot(p,v[A+0])},N.Predictor8=function(p,v,A){return ot(v[A-1],v[A+0])},N.Predictor9=function(p,v,A){return ot(v[A+0],v[A+1])},N.Predictor10=function(p,v,A){return ot(ot(p,v[A-1]),ot(v[A+0],v[A+1]))},N.Predictor11=function(p,v,A){var I=v[A+0];return 0>=Ft(I>>24&255,p>>24&255,(v=v[A-1])>>24&255)+Ft(I>>16&255,p>>16&255,v>>16&255)+Ft(I>>8&255,p>>8&255,v>>8&255)+Ft(255&I,255&p,255&v)?I:p},N.Predictor12=function(p,v,A){var I=v[A+0];return(yt((p>>24&255)+(I>>24&255)-((v=v[A-1])>>24&255))<<24|yt((p>>16&255)+(I>>16&255)-(v>>16&255))<<16|yt((p>>8&255)+(I>>8&255)-(v>>8&255))<<8|yt((255&p)+(255&I)-(255&v)))>>>0},N.Predictor13=function(p,v,A){var I=v[A-1];return(Rt((p=ot(p,v[A+0]))>>24&255,I>>24&255)<<24|Rt(p>>16&255,I>>16&255)<<16|Rt(p>>8&255,I>>8&255)<<8|Rt(p>>0&255,I>>0&255))>>>0};var Zh=N.PredictorAdd0;N.PredictorAdd1=bt,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var ec=N.PredictorAdd2;Gt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var qc,fa=N.ColorIndexInverseTransform,Br=N.MapARGB,bo=N.VP8LColorIndexInverseTransformAlpha,tc=N.MapAlpha,Ls=N.VP8LPredictorsAdd=[];Ls.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var _o,vi,Zr,wo,Di,ka,os,ja,rr,Ma,yr,ki,ll,ls,eu,So,Ao,Eo,ul,tu,To,Ps,cl,ir,Ji,Xt,Jt,Bn,ur=o(511),da=o(2041),xo=o(225),No=o(767),Os=0,zc=da,hl=xo,qr=No,pa=ur,ui=0,nu=1,us=2,nc=3,fl=4,Ds=5,Hc=6,rc=7,Io=8,ks=9,ru=10,Gc=[2,3,7],ma=[3,3,11],Zi=[280,256,256,256,40],dl=[0,1,1,1,0],js=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ms=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cd=8,ic=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ac=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rr=null,ar=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Co=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ef=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ml=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Rd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fs=[],yi=[],ea=[],Ld=1,iu=2,hs=[],zr=[];Fe("UpsampleRgbLinePair",K,3),Fe("UpsampleBgrLinePair",we,3),Fe("UpsampleRgbaLinePair",Ut,4),Fe("UpsampleBgraLinePair",nn,4),Fe("UpsampleArgbLinePair",It,4),Fe("UpsampleRgba4444LinePair",Xe,2),Fe("UpsampleRgb565LinePair",Oe,2);var Us=N.UpsampleRgbLinePair,Ro=N.UpsampleBgrLinePair,fs=N.UpsampleRgbaLinePair,$c=N.UpsampleBgraLinePair,Wc=N.UpsampleArgbLinePair,au=N.UpsampleRgba4444LinePair,Yc=N.UpsampleRgb565LinePair,ds=16,Lr=1<<ds-1,Lo=-227,Kc=482,ag=6,Pd=0,sg=o(256),Pr=o(256),tf=o(256),sc=o(256),oc=o(Kc-Lo),nf=o(Kc-Lo);In("YuvToRgbRow",K,3),In("YuvToBgrRow",we,3),In("YuvToRgbaRow",Ut,4),In("YuvToBgraRow",nn,4),In("YuvToArgbRow",It,4),In("YuvToRgba4444Row",Xe,2),In("YuvToRgb565Row",Oe,2);var gl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vs=[0,2,8],og=[8,7,6,4,4,2,2,2,1,1,1,1],Od=1;this.WebPDecodeRGBA=function(p,v,A,I,B){var H=nu,$=new Is,Y=new Tr;$.ba=Y,Y.S=H,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,ne=Y.height,me=new Yr;if(me==null||p==null)var Pe=2;else e(me!=null),Pe=ss(p,v,A,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Pe!=0?Z=0:(Z!=null&&(Z[0]=me.width[0]),ne!=null&&(ne[0]=me.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],I!=null&&(I[0]=Y.width),B!=null&&(B[0]=Y.height);e:{if(I=new Na,(B=new mo).data=p,B.w=v,B.ha=A,B.kd=1,v=[0],e(B!=null),((p=ss(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e($!=null),I.data=B.data,I.w=B.w+B.offset,I.ha=B.ha-B.offset,I.put=Kr,I.ac=tr,I.bc=Yi,I.ma=$,B.xa){if((p=Un())==null){$=1;break e}if(function(Re,Ae){var He=[0],Me=[0],ge=[0];t:for(;;){if(Re==null)return 0;if(Ae==null)return Re.a=2,0;if(Re.l=Ae,Re.a=0,he(Re.m,Ae.data,Ae.w,Ae.ha),!ut(Re.m,He,Me,ge)){Re.a=3;break t}if(Re.xb=iu,Ae.width=He[0],Ae.height=Me[0],!yn(He[0],Me[0],1,Re,null))break t;return 1}return e(Re.a!=0),0}(p,I)){if(I=(v=al(I.width,I.height,$.Oa,$.ba))==0){t:{I=p;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((A=I.l)!=null),e((B=A.ma)!=null),I.xb!=0){if(I.ca=B.ba,I.tb=B.tb,e(I.ca!=null),!vo(B.Oa,A,nc)){I.a=2;break n}if(!Ea(I,A.width)||A.da)break n;if((A.da||on(I.ca.S))&&Se(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Se()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!wt(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!mr(I,I.V,I.Ba,I.c,I.i,A.o,ws))break n;B.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(v=p.a)}else v=p.a}else{if((p=new Jo)==null){$=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,uo(p,I)){if((v=al(I.width,I.height,$.Oa,$.ba))==0){if(p.Aa=0,A=$.Oa,e((B=p)!=null),A!=null){if(0<(Z=0>(Z=A.Md)?0:100<Z?255:255*Z/100)){for(ne=me=0;4>ne;++ne)12>(Pe=B.pb[ne]).lc&&(Pe.ia=Z*og[0>Pe.lc?0:Pe.lc]>>3),me|=Pe.ia;me&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=A.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}Zo(p,I)||(v=p.a)}}else v=p.a}v==0&&$.Oa!=null&&$.Oa.fd&&(v=Jl($.ba))}$=v}H=$!=0?null:11>H?Y.f.RGBA.eb:Y.f.kb.y}else H=null;return H};var Dd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(N,j){for(var G="",C=0;C<4;C++)G+=String.fromCharCode(N[j++]);return G}function y(N,j){return(N[j+0]<<0|N[j+1]<<8|N[j+2]<<16)>>>0}function w(N,j){return(N[j+0]<<0|N[j+1]<<8|N[j+2]<<16|N[j+3]<<24)>>>0}new f;var E=[0],S=[0],L=[],D=new f,V=n,k=function(N,j){var G={},C=0,P=!1,M=0,se=0;if(G.frames=[],!function(z,X,ie,ae){for(var _e=0;_e<ae;_e++)if(z[X+_e]!=ie.charCodeAt(_e))return!0;return!1}(N,j,"RIFF",4)){for(w(N,j+=4),j+=8;j<N.length;){var Ie=d(N,j),te=w(N,j+=4);j+=4;var fe=te+(1&te);switch(Ie){case"VP8 ":case"VP8L":G.frames[C]===void 0&&(G.frames[C]={}),(J=G.frames[C]).src_off=P?se:j-8,J.src_size=M+te+8,C++,P&&(P=!1,M=0,se=0);break;case"VP8X":(J=G.header={}).feature_flags=N[j];var he=j+4;J.canvas_width=1+y(N,he),he+=3,J.canvas_height=1+y(N,he),he+=3;break;case"ALPH":P=!0,M=fe+8,se=j-8;break;case"ANIM":(J=G.header).bgcolor=w(N,j),he=j+4,J.loop_count=(Te=N)[(O=he)+0]<<0|Te[O+1]<<8,he+=2;break;case"ANMF":var Ce,J;(J=G.frames[C]={}).offset_x=2*y(N,j),j+=3,J.offset_y=2*y(N,j),j+=3,J.width=1+y(N,j),j+=3,J.height=1+y(N,j),j+=3,J.duration=y(N,j),j+=3,Ce=N[j++],J.dispose=1&Ce,J.blend=Ce>>1&1}Ie!="ANMF"&&(j+=fe)}var Te,O;return G}}(V,0);k.response=V,k.rgbaoutput=!0,k.dataurl=!1;var W=k.header?k.header:null,ee=k.frames?k.frames:null;if(W){W.loop_counter=W.loop_count,E=[W.canvas_height],S=[W.canvas_width];for(var le=0;le<ee.length&&ee[le].blend!=0;le++);}var ce=ee[0],Ne=D.WebPDecodeRGBA(V,ce.src_off,ce.src_size,S,E);ce.rgba=Ne,ce.imgwidth=S[0],ce.imgheight=E[0];for(var U=0;U<S[0]*E[0]*4;U++)L[U]=Ne[U];return this.width=S,this.height=E,this.data=L,this}(function(n){var e=function(){return typeof N1=="function"},t=function(E,S,L,D){var V=4,k=u;switch(D){case n.image_compression.FAST:V=1,k=o;break;case n.image_compression.MEDIUM:V=6,k=c;break;case n.image_compression.SLOW:V=9,k=f}E=r(E,S,L,k);var W=N1(E,{level:V});return n.__addimage__.arrayBufferToBinaryString(W)},r=function(E,S,L,D){for(var V,k,W,ee=E.length/S,le=new Uint8Array(E.length+ee),ce=y(),Ne=0;Ne<ee;Ne+=1){if(W=Ne*S,V=E.subarray(W,W+S),D)le.set(D(V,L,k),W+Ne);else{for(var U,N=ce.length,j=[];U<N;U+=1)j[U]=ce[U](V,L,k);var G=w(j.concat());le.set(j[G],W+Ne)}k=V}return le},a=function(E){var S=Array.apply([],E);return S.unshift(0),S},o=function(E,S){var L,D=[],V=E.length;D[0]=1;for(var k=0;k<V;k+=1)L=E[k-S]||0,D[k+1]=E[k]-L+256&255;return D},u=function(E,S,L){var D,V=[],k=E.length;V[0]=2;for(var W=0;W<k;W+=1)D=L&&L[W]||0,V[W+1]=E[W]-D+256&255;return V},c=function(E,S,L){var D,V,k=[],W=E.length;k[0]=3;for(var ee=0;ee<W;ee+=1)D=E[ee-S]||0,V=L&&L[ee]||0,k[ee+1]=E[ee]+256-(D+V>>>1)&255;return k},f=function(E,S,L){var D,V,k,W,ee=[],le=E.length;ee[0]=4;for(var ce=0;ce<le;ce+=1)D=E[ce-S]||0,V=L&&L[ce]||0,k=L&&L[ce-S]||0,W=d(D,V,k),ee[ce+1]=E[ce]-W+256&255;return ee},d=function(E,S,L){if(E===S&&S===L)return E;var D=Math.abs(S-L),V=Math.abs(E-L),k=Math.abs(E+S-L-L);return D<=V&&D<=k?E:V<=k?S:L},y=function(){return[a,o,u,c,f]},w=function(E){var S=E.map(function(L){return L.reduce(function(D,V){return D+Math.abs(V)},0)});return S.indexOf(Math.min.apply(null,S))};n.processPNG=function(E,S,L,D){var V,k,W,ee,le,ce,Ne,U,N,j,G,C,P,M,se,Ie=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(E)&&(E=new Uint8Array(E)),this.__addimage__.isArrayBufferView(E)){if(E=(W=new F8(E)).imgData,k=W.bits,V=W.colorSpace,le=W.colors,[4,6].indexOf(W.colorType)!==-1){if(W.bits===8){N=(U=W.pixelBitlength==32?new Uint32Array(W.decodePixels().buffer):W.pixelBitlength==16?new Uint16Array(W.decodePixels().buffer):new Uint8Array(W.decodePixels().buffer)).length,G=new Uint8Array(N*W.colors),j=new Uint8Array(N);var fe,he=W.pixelBitlength-W.bits;for(M=0,se=0;M<N;M++){for(P=U[M],fe=0;fe<he;)G[se++]=P>>>fe&255,fe+=W.bits;j[M]=P>>>fe&255}}if(W.bits===16){N=(U=new Uint32Array(W.decodePixels().buffer)).length,G=new Uint8Array(N*(32/W.pixelBitlength)*W.colors),j=new Uint8Array(N*(32/W.pixelBitlength)),C=W.colors>1,M=0,se=0;for(var Ce=0;M<N;)P=U[M++],G[se++]=P>>>0&255,C&&(G[se++]=P>>>16&255,P=U[M++],G[se++]=P>>>0&255),j[Ce++]=P>>>16&255;k=8}D!==n.image_compression.NONE&&e()?(E=t(G,W.width*W.colors,W.colors,D),Ne=t(j,W.width,1,D)):(E=G,Ne=j,Ie=void 0)}if(W.colorType===3&&(V=this.color_spaces.INDEXED,ce=W.palette,W.transparency.indexed)){var J=W.transparency.indexed,Te=0;for(M=0,N=J.length;M<N;++M)Te+=J[M];if((Te/=255)===N-1&&J.indexOf(0)!==-1)ee=[J.indexOf(0)];else if(Te!==N){for(U=W.decodePixels(),j=new Uint8Array(U.length),M=0,N=U.length;M<N;M++)j[M]=J[U[M]];Ne=t(j,W.width,1)}}var O=function(z){var X;switch(z){case n.image_compression.FAST:X=11;break;case n.image_compression.MEDIUM:X=13;break;case n.image_compression.SLOW:X=14;break;default:X=12}return X}(D);return Ie===this.decode.FLATE_DECODE&&(te="/Predictor "+O+" "),te+="/Colors "+le+" /BitsPerComponent "+k+" /Columns "+W.width,(this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),(Ne&&this.__addimage__.isArrayBuffer(Ne)||this.__addimage__.isArrayBufferView(Ne))&&(Ne=this.__addimage__.arrayBufferToBinaryString(Ne)),{alias:L,data:E,index:S,filter:Ie,decodeParameters:te,transparency:ee,palette:ce,sMask:Ne,predictor:O,width:W.width,height:W.height,bitsPerComponent:k,colorSpace:V}}}})(Pt.API),function(n){n.processGIF89A=function(e,t,r,a){var o=new U8(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},y=new V0(100).encode(d,100);return n.processJPEG.call(this,y,t,r,a)},n.processGIF87A=n.processGIF89A}(Pt.API),Ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ys.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){$n.log("bit decode error:"+t)}},Ys.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ys.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},Ys.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Ys.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,y=r*this.width*4+4*a;this.data[y]=f,this.data[y+1]=c,this.data[y+2]=u,this.data[y+3]=d}this.pos+=n}},Ys.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,y=a*this.width*4+4*o;this.data[y]=d,this.data[y+1]=f,this.data[y+2]=c,this.data[y+3]=255}this.pos+=n}},Ys.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},Ys.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=u}},Ys.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,a){var o=new Ys(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new V0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}}(Pt.API),S_.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,a){var o=new S_(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new V0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}}(Pt.API),Pt.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var y=r[d],w=r[d+1],E=r[d+2],S=r[d+3];o[c++]=y,o[c++]=w,o[c++]=E,u[f++]=S}var L=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:L,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Pt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yh=Pt.API,jp=yh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,y=d.fof?d.fof:1,w=e.doKerning!==!1,E=0,S=n.length,L=0,D=c[0]||f,V=[];for(t=0;t<S;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?V.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(E=w&&jn(d[r])==="object"&&!isNaN(parseInt(d[r][L],10))?d[r][L]/y:0,V.push((c[r]||D)/f+E)),L=r;return V},y_=yh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return yh.processArabic&&(n=yh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:jp.apply(this,arguments).reduce(function(o,u){return o+u},0)},b_=function(n,e,t,r){for(var a=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;a.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(a.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},__=function(n,e,t){t||(t={});var r,a,o,u,c,f,d,y=[],w=[y],E=t.textIndent||0,S=0,L=0,D=n.split(" "),V=jp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?D[0].length+2:t.lineIndent||0){var k=Array(f).join(" "),W=[];D.map(function(le){(le=le.split(/\s*\n/)).length>1?W=W.concat(le.map(function(ce,Ne){return(Ne&&ce.length?`
`:"")+ce})):W.push(le[0])}),D=W,f=y_.apply(this,[k,t])}for(o=0,u=D.length;o<u;o++){var ee=0;if(r=D[o],f&&r[0]==`
`&&(r=r.substr(1),ee=1),E+S+(L=(a=jp.apply(this,[r,t])).reduce(function(le,ce){return le+ce},0))>e||ee){if(L>e){for(c=b_.apply(this,[r,a,e-(E+S),e]),y.push(c.shift()),y=[c.pop()];c.length;)w.push([c.shift()]);L=a.slice(r.length-(y[0]?y[0].length:0)).reduce(function(le,ce){return le+ce},0)}else y=[r];w.push(y),E=L+f,S=V}else y.push(r),E+=S+L,S=V}return d=f?function(le,ce){return(ce?k:"")+le.join(" ")}:function(le){return le.join(" ")},w.map(d)},yh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var w=this.internal.getFont(y.fontName,y.fontStyle);return w.metadata.Unicode?{widths:w.metadata.Unicode.widths||{0:1},kerning:w.metadata.Unicode.kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(__.apply(this,[r[c],u,o]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},a=0;a<e.length;a++)t[e[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=e[a];var o=function(w){return"0x"+parseInt(w,10).toString(16)},u=n.__fontmetrics__.compress=function(w){var E,S,L,D,V=["{"];for(var k in w){if(E=w[k],isNaN(parseInt(k,10))?S="'"+k+"'":(k=parseInt(k,10),S=(S=o(k).slice(2)).slice(0,-1)+r[S.slice(-1)]),typeof E=="number")E<0?(L=o(E).slice(3),D="-"):(L=o(E).slice(2),D=""),L=D+L.slice(0,-1)+r[L.slice(-1)];else{if(jn(E)!=="object")throw new Error("Don't know what to do with value type "+jn(E)+".");L=u(E)}V.push(S+L)}return V.push("}"),V.join("")},c=n.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,S,L,D,V={},k=1,W=V,ee=[],le="",ce="",Ne=w.length-1,U=1;U<Ne;U+=1)(D=w[U])=="'"?E?(L=E.join(""),E=void 0):E=[]:E?E.push(D):D=="{"?(ee.push([W,L]),W={},L=void 0):D=="}"?((S=ee.pop())[0][S[1]]=W,L=void 0,W=S[0]):D=="-"?k=-1:L===void 0?t.hasOwnProperty(D)?(le+=t[D],L=parseInt(le,16)*k,k=1,le=""):le+=D:t.hasOwnProperty(D)?(ce+=t[D],W[L]=parseInt(ce,16)*k,k=1,L=void 0,ce=""):ce+=D;return V},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},y={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(w){var E=w.font,S=y.Unicode[E.postScriptName];S&&(E.metadata.Unicode={},E.metadata.Unicode.widths=S.widths,E.metadata.Unicode.kerning=S.kerning);var L=d.Unicode[E.postScriptName];L&&(E.metadata.Unicode.encoding=L,E.encoding=L.codePages[0])}])}(Pt.API),function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(rd(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,r)}}])}(Pt),function(n){function e(){return(Dt.canvg?Promise.resolve(Dt.canvg):S1(()=>import("./index.es-CyWU91kP.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Pt.API.addSvgAsImage=function(t,r,a,o,u,c,f,d){if(isNaN(r)||isNaN(a))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(u))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=o,y.height=u;var w=y.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,y.width,y.height);var E={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return e().then(function(L){return L.fromString(w,t,E)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(L){return L.render(E)}).then(function(){S.addImage(y.toDataURL("image/jpeg",1),r,a,o,u,f,d)})}}(),Pt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Pt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,y=0,w=0;function E(L,D){var V,k=!1;for(V=0;V<L.length;V+=1)L[V]===D&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var S=c.length;for(w=0;w<S;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(jn(n)==="object"){for(a in n)if(o=n[a],E(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&E(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(y=0;y<o[d].length;y+=1)typeof o[d][y]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,D=[];for(L in t)t[L].explicitSet===!0&&(t[L].type==="name"?D.push("/"+L+" /"+t[L].value):D.push("/"+L+" "+t[L].value));D.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+D.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Pt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],y=[""],w=0,E=o.length;w<E;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return y.join("");c=c.toString(16),y.push(d[4-c.length],c)}return y.join("")},r=function(o){var u,c,f,d,y,w,E;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,E=(c=Object.keys(o).sort(function(S,L){return S-L})).length;w<E;w++)u=c[w],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,E=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),S="",L=0;L<E.length;L++)S+=String.fromCharCode(E[L]);var D=d();y({data:S,addLength1:!0,objectId:D}),f("endobj");var V=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:V}),f("endobj");var k=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Eh(c.fontName)),f("/FontFile2 "+D+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var W=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Eh(c.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+V+" 0 R"),f("/BaseFont /"+Eh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+W+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,y=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,E="",S=0;S<w.length;S++)E+=String.fromCharCode(w[S]);var L=d();y({data:E,addLength1:!0,objectId:L}),f("endobj");var D=d();y({data:r(c.metadata.toUnicode),addLength1:!0,objectId:D}),f("endobj");var V=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+L+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Eh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var k=0;k<c.metadata.hmtx.widths.length;k++)c.metadata.hmtx.widths[k]=parseInt(c.metadata.hmtx.widths[k]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+D+" 0 R/BaseFont/"+Eh(c.fontName)+"/FontDescriptor "+V+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,y=o.options||{},w=o.mutex||{},E=w.pdfEscape,S=w.activeFontKey,L=w.fonts,D=S,V="",k=0,W="",ee=L[D].encoding;if(L[D].encoding!=="Identity-H")return{text:c,x:f,y:d,options:y,mutex:w};for(W=c,D=S,Array.isArray(c)&&(W=c[0]),k=0;k<W.length;k+=1)L[D].metadata.hasOwnProperty("cmap")&&(u=L[D].metadata.cmap.unicode.codeMap[W[k].charCodeAt(0)]),u||W[k].charCodeAt(0)<256&&L[D].metadata.hasOwnProperty("Unicode")?V+=W[k]:V+="";var le="";return parseInt(D.slice(1))<14||ee==="WinAnsiEncoding"?le=E(V,D).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):ee==="Identity-H"&&(le=t(V,L[D])),w.isHex=!0,{text:le,x:f,y:d,options:y,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])}(Pt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Pt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,u,c,f,d,y,w=e,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},D={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},V=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,ee=0;this.__bidiEngine__={};var le=function(C){var P=C.charCodeAt(),M=P>>8,se=D[M];return se!==void 0?w[256*se+(255&P)]:M===252||M===253?"AL":k.test(M)?"L":M===8?"R":"N"},ce=function(C){for(var P,M=0;M<C.length;M++){if((P=le(C.charAt(M)))==="L")return!1;if(P==="R")return!0}return!1},Ne=function(C,P,M,se){var Ie,te,fe,he,Ce=P[se];switch(Ce){case"L":case"R":W=!1;break;case"N":case"AN":break;case"EN":W&&(Ce="AN");break;case"AL":W=!0,Ce="R";break;case"WS":Ce="N";break;case"CS":se<1||se+1>=P.length||(Ie=M[se-1])!=="EN"&&Ie!=="AN"||(te=P[se+1])!=="EN"&&te!=="AN"?Ce="N":W&&(te="AN"),Ce=te===Ie?te:"N";break;case"ES":Ce=(Ie=se>0?M[se-1]:"B")==="EN"&&se+1<P.length&&P[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&M[se-1]==="EN"){Ce="EN";break}if(W){Ce="N";break}for(fe=se+1,he=P.length;fe<he&&P[fe]==="ET";)fe++;Ce=fe<he&&P[fe]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(he=P.length,fe=se+1;fe<he&&P[fe]==="NSM";)fe++;if(fe<he){var J=C[se],Te=J>=1425&&J<=2303||J===64286;if(Ie=P[fe],Te&&(Ie==="R"||Ie==="AL")){Ce="R";break}}}Ce=se<1||(Ie=P[se-1])==="B"?"N":M[se-1];break;case"B":W=!1,a=!0,Ce=ee;break;case"S":o=!0,Ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"BN":Ce="N"}return Ce},U=function(C,P,M){var se=C.split("");return M&&N(se,M,{hiLevel:ee}),se.reverse(),P&&P.reverse(),se.join("")},N=function(C,P,M){var se,Ie,te,fe,he,Ce=-1,J=C.length,Te=0,O=[],z=ee?S:E,X=[];for(W=!1,a=!1,o=!1,Ie=0;Ie<J;Ie++)X[Ie]=le(C[Ie]);for(te=0;te<J;te++){if(he=Te,O[te]=Ne(C,X,O,te),se=240&(Te=z[he][L[O[te]]]),Te&=15,P[te]=fe=z[Te][5],se>0)if(se===16){for(Ie=Ce;Ie<te;Ie++)P[Ie]=1;Ce=-1}else Ce=-1;if(z[Te][6])Ce===-1&&(Ce=te);else if(Ce>-1){for(Ie=Ce;Ie<te;Ie++)P[Ie]=fe;Ce=-1}X[te]==="B"&&(P[te]=0),M.hiLevel|=fe}o&&function(ie,ae,_e){for(var pe=0;pe<_e;pe++)if(ie[pe]==="S"){ae[pe]=ee;for(var Ee=pe-1;Ee>=0&&ie[Ee]==="WS";Ee--)ae[Ee]=ee}}(X,P,J)},j=function(C,P,M,se,Ie){if(!(Ie.hiLevel<C)){if(C===1&&ee===1&&!a)return P.reverse(),void(M&&M.reverse());for(var te,fe,he,Ce,J=P.length,Te=0;Te<J;){if(se[Te]>=C){for(he=Te+1;he<J&&se[he]>=C;)he++;for(Ce=Te,fe=he-1;Ce<fe;Ce++,fe--)te=P[Ce],P[Ce]=P[fe],P[fe]=te,M&&(te=M[Ce],M[Ce]=M[fe],M[fe]=te);Te=he}Te++}}},G=function(C,P,M){var se=C.split(""),Ie={hiLevel:ee};return M||(M=[]),N(se,M,Ie),function(te,fe,he){if(he.hiLevel!==0&&y)for(var Ce,J=0;J<te.length;J++)fe[J]===1&&(Ce=V.indexOf(te[J]))>=0&&(te[J]=V[Ce+1])}(se,M,Ie),j(2,se,P,M,Ie),j(1,se,P,M,Ie),se.join("")};return this.__bidiEngine__.doBidiReorder=function(C,P,M){if(function(Ie,te){if(te)for(var fe=0;fe<Ie.length;fe++)te[fe]=fe;c===void 0&&(c=ce(Ie)),d===void 0&&(d=ce(Ie))}(C,P),u||!f||d)if(u&&f&&c^d)ee=c?1:0,C=U(C,P,M);else if(!u&&f&&d)ee=c?1:0,C=G(C,P,M),C=U(C,P);else if(!u||c||f||d){if(u&&!f&&c^d)C=U(C,P),c?(ee=0,C=G(C,P,M)):(ee=1,C=G(C,P,M),C=U(C,P));else if(u&&c&&!f&&d)ee=1,C=G(C,P,M),C=U(C,P);else if(!u&&!f&&c^d){var se=y;c?(ee=1,C=G(C,P,M),ee=0,y=!1,C=G(C,P,M),y=se):(ee=0,C=G(C,P,M),C=U(C,P),ee=1,y=!1,C=G(C,P,M),y=se,C=U(C,P))}}else ee=0,C=G(C,P,M);else ee=c?1:0,C=G(C,P,M);return C},this.__bidiEngine__.setOptions=function(C){C&&(u=C.isInputVisual,f=C.isOutputVisual,c=C.isInputRtl,d=C.isOutputRtl,y=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([t.doBidiReorder(a[c])]);r.text=u}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])}(Pt),Pt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Wu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new e7(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new V8(this.contents),this.head=new q8(this),this.name=new W8(this),this.cmap=new vE(this),this.toUnicode={},this.hhea=new z8(this),this.maxp=new Y8(this),this.hmtx=new K8(this),this.post=new G8(this),this.os2=new H8(this),this.loca=new Z8(this),this.glyf=new Q8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),(32768&(t=a>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var oo,Wu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),V8=function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,u,c,f,d,y,w,E,S,L,D;for(D in S=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(S)/f),u=Math.floor(w/f),y=16*S-w,(a=new Wu).writeInt(this.scalarType),a.writeShort(S),a.writeShort(w),a.writeShort(u),a.writeShort(y),o=16*S,d=a.pos+o,c=null,L=[],t)for(E=t[D],a.writeString(D),a.writeInt(n(E)),a.writeInt(d),a.writeInt(E.length),L=L.concat(E),D==="head"&&(c=d),d+=E.length;d%4;)L.push(0),d++;return a.write(L),r=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,u;for(t=yE.call(t);t.length%4;)t.push(0);for(o=new Wu(t),a=0,r=0,u=t.length;r<u;r=r+=4)a+=o.readUInt32();return 4294967295&a},e}(),B8={}.hasOwnProperty,Qo=function(n,e){for(var t in e)B8.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};oo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var q8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Wu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),A_=function(){function n(e,t){var r,a,o,u,c,f,d,y,w,E,S,L,D,V,k,W,ee;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(S=e.readUInt16(),E=S/2,e.pos+=6,o=function(){var le,ce;for(ce=[],f=le=0;0<=E?le<E:le>E;f=0<=E?++le:--le)ce.push(e.readUInt16());return ce}(),e.pos+=2,D=function(){var le,ce;for(ce=[],f=le=0;0<=E?le<E:le>E;f=0<=E?++le:--le)ce.push(e.readUInt16());return ce}(),d=function(){var le,ce;for(ce=[],f=le=0;0<=E?le<E:le>E;f=0<=E?++le:--le)ce.push(e.readUInt16());return ce}(),y=function(){var le,ce;for(ce=[],f=le=0;0<=E?le<E:le>E;f=0<=E?++le:--le)ce.push(e.readUInt16());return ce}(),a=(this.length-e.pos+this.offset)/2,c=function(){var le,ce;for(ce=[],f=le=0;0<=a?le<a:le>a;f=0<=a?++le:--le)ce.push(e.readUInt16());return ce}(),f=k=0,ee=o.length;k<ee;f=++k)for(V=o[f],r=W=L=D[f];L<=V?W<=V:W>=V;r=L<=V?++W:--W)y[f]===0?u=r+d[f]:(u=c[y[f]/2+(r-L)-(E-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=w}return n.encode=function(e,t){var r,a,o,u,c,f,d,y,w,E,S,L,D,V,k,W,ee,le,ce,Ne,U,N,j,G,C,P,M,se,Ie,te,fe,he,Ce,J,Te,O,z,X,ie,ae,_e,pe,Ee,Je,Ke,tt;switch(se=new Wu,u=Object.keys(e).sort(function(nt,wt){return nt-wt}),t){case"macroman":for(D=0,V=function(){var nt=[];for(L=0;L<256;++L)nt.push(0);return nt}(),W={0:0},o={},Ie=0,Ce=u.length;Ie<Ce;Ie++)W[Ee=e[a=u[Ie]]]==null&&(W[Ee]=++D),o[a]={old:e[a],new:W[e[a]]},V[a]=W[e[a]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(V),{charMap:o,subtable:se.data,maxGlyphID:D+1};case"unicode":for(P=[],w=[],ee=0,W={},r={},k=d=null,te=0,J=u.length;te<J;te++)W[ce=e[a=u[te]]]==null&&(W[ce]=++ee),r[a]={old:ce,new:W[ce]},c=W[ce]-a,k!=null&&c===d||(k&&w.push(k),P.push(a),d=c),k=a;for(k&&w.push(k),w.push(65535),P.push(65535),G=2*(j=P.length),N=2*Math.pow(Math.log(j)/Math.LN2,2),E=Math.log(N/2)/Math.LN2,U=2*j-N,f=[],Ne=[],S=[],L=fe=0,Te=P.length;fe<Te;L=++fe){if(C=P[L],y=w[L],C===65535){f.push(0),Ne.push(0);break}if(C-(M=r[C].new)>=32768)for(f.push(0),Ne.push(2*(S.length+j-L)),a=he=C;C<=y?he<=y:he>=y;a=C<=y?++he:--he)S.push(r[a].new);else f.push(M-C),Ne.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*j+2*S.length),se.writeUInt16(0),se.writeUInt16(G),se.writeUInt16(N),se.writeUInt16(E),se.writeUInt16(U),_e=0,O=w.length;_e<O;_e++)a=w[_e],se.writeUInt16(a);for(se.writeUInt16(0),pe=0,z=P.length;pe<z;pe++)a=P[pe],se.writeUInt16(a);for(Je=0,X=f.length;Je<X;Je++)c=f[Je],se.writeUInt16(c);for(Ke=0,ie=Ne.length;Ke<ie;Ke++)le=Ne[Ke],se.writeUInt16(le);for(tt=0,ae=S.length;tt<ae;tt++)D=S[tt],se.writeUInt16(D);return{charMap:r,subtable:se.data,maxGlyphID:ee+1}}},n}(),vE=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)r=new A_(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,o;return r==null&&(r="macroman"),a=A_.encode(t,r),(o=new Wu).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},e}(),z8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),H8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),G8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var u;for(a=t.readUInt16(),this.glyphNameIndex=[],u=0;0<=a?u<a:u>a;u=0<=a?++u:--u)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 196608:break;case 262144:return this.map=(function(){var c,f,d;for(d=[],u=c=0,f=this.file.maxp.numGlyphs;0<=f?c<f:c>f;u=0<=f?++c:--c)d.push(t.readUInt32());return d}).call(this)}},e}(),$8=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},W8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,o,u,c,f,d,y,w,E,S;for(t.pos=this.offset,t.readShort(),r=t.readShort(),f=t.readShort(),a=[],u=0;0<=r?u<r:u>r;u=0<=r?++u:--u)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+f+t.readShort()});for(d={},u=w=0,E=a.length;w<E;u=++w)o=a[u],t.pos=o.offset,y=t.readString(o.length),c=new $8(y,o),d[S=o.nameID]==null&&(d[S]=[]),d[o.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),Y8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),K8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,o,u,c,f,d;for(t.pos=this.offset,this.metrics=[],r=0,f=this.file.hhea.numberOfMetrics;0<=f?r<f:r>f;r=0<=f?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var y,w;for(w=[],r=y=0;0<=o?y<o:y>o;r=0<=o?++y:--y)w.push(t.readInt16());return w}(),this.widths=(function(){var y,w,E,S;for(S=[],y=0,w=(E=this.metrics).length;y<w;y++)u=E[y],S.push(u.advance);return S}).call(this),a=this.widths[this.widths.length-1],d=[],r=c=0;0<=o?c<o:c>o;r=0<=o?++c:--c)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),yE=[].slice,Q8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,o,u,c,f,d,y,w,E;return t in this.cache?this.cache[t]:(u=this.file.loca,r=this.file.contents,a=u.indexOf(t),(o=u.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,c=(f=new Wu(r.read(o))).readShort(),y=f.readShort(),E=f.readShort(),d=f.readShort(),w=f.readShort(),this.cache[t]=c===-1?new J8(f,y,E,d,w):new X8(f,c,y,E,d,w),this.cache[t]))},e.prototype.encode=function(t,r,a){var o,u,c,f,d;for(c=[],u=[],f=0,d=r.length;f<d;f++)o=t[r[f]],u.push(c.length),o&&(c=c.concat(o.encode(a)));return u.push(c.length),{table:c,offsets:u}},e}(),X8=function(){function n(e,t,r,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),J8=function(){function n(e,t,r,a,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Wu(yE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Z8=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Qo(e,oo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,u;for(u=[],a=0,o=this.length;a<o;a+=2)u.push(2*t.readUInt16());return u}).call(this):(function(){var o,u;for(u=[],a=0,o=this.length;a<o;a+=4)u.push(t.readUInt32());return u}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),o=0,u=0,c=0;c<a.length;++c)if(a[c]=o,u<r.length&&r[u]==c){++u,a[c]=o;var f=this.offsets[c],d=this.offsets[c+1]-f;d>0&&(o+=d)}for(var y=new Array(4*a.length),w=0;w<a.length;++w)y[4*w+3]=255&a[w],y[4*w+2]=(65280&a[w])>>8,y[4*w+1]=(16711680&a[w])>>16,y[4*w]=(4278190080&a[w])>>24;return y},e}(),e7=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,u,c,f,d,y,w,E,S,L,D,V,k;for(a in r=vE.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),S={0:0},k=r.charMap)S[(f=k[a]).old]=f.new;for(L in E=r.maxGlyphID,u)L in S||(S[L]=E++);return y=function(W){var ee,le;for(ee in le={},W)le[W[ee]]=ee;return le}(S),w=Object.keys(y).sort(function(W,ee){return W-ee}),D=function(){var W,ee,le;for(le=[],W=0,ee=w.length;W<ee;W++)c=w[W],le.push(y[c]);return le}(),o=this.font.glyf.encode(u,D,S),d=this.font.loca.encode(o.offsets,D),V={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(V["OS/2"]=this.font.os2.raw()),this.font.directory.encode(V)},n}();Pt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,u;if(Array.isArray(t))return"["+function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e}();function bE(n,e,t,r,a){r=r||{};var o=1.15,u=a.internal.scaleFactor,c=a.internal.getFontSize()/u,f=a.getLineHeightFactor?a.getLineHeightFactor():o,d=c*f,y=/\r\n|\r|\n/g,w="",E=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(w=typeof n=="string"?n.split(y):n,E=w.length||1),t+=c*(2-o),r.valign==="middle"?t-=E/2*d:r.valign==="bottom"&&(t-=E*d),r.halign==="center"||r.halign==="right"){var S=c;if(r.halign==="center"&&(S*=.5),w&&E>=1){for(var L=0;L<w.length;L++)a.text(w[L],e-a.getStringUnitWidth(w[L])*S,t),t+=d;return a}e-=a.getStringUnitWidth(n)*S}return r.halign==="justify"?a.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var E_={},Dh=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:E_=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,a,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,f=u.fontName;if(e.font&&(f=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(f,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var y=n.unifyColor(e.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=n.unifyColor(e.textColor),y&&(a=this.jsPDFDocument).setTextColor.apply(a,y),y=n.unifyColor(e.lineColor),y&&(o=this.jsPDFDocument).setDrawColor.apply(o,y),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,a,o){return this.jsPDFDocument.rect(e,t,r,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return E_||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),D1=function(n,e){return D1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},D1(n,e)};function _E(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");D1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wE=function(n){_E(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e}(Array);function t7(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function n7(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function xm(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],a=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return a}function SE(n,e,t,r){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var u=AE(a,!1);u&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,u)}function AE(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function rg(n,e){var t,r,a,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function EE(n,e){var t=rg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function r7(n,e,t,r,a){var o={},u=1.3333333333333333,c=B0(e,function(ee){return a.getComputedStyle(ee).backgroundColor});c!=null&&(o.fillColor=c);var f=B0(e,function(ee){return a.getComputedStyle(ee).color});f!=null&&(o.textColor=f);var d=a7(r,t);d&&(o.cellPadding=d);var y="borderTopColor",w=u*t,E=r.borderTopWidth;if(r.borderBottomWidth===E&&r.borderRightWidth===E&&r.borderLeftWidth===E){var S=(parseFloat(E)||0)/w;S&&(o.lineWidth=S)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/w,right:(parseFloat(r.borderRightWidth)||0)/w,bottom:(parseFloat(r.borderBottomWidth)||0)/w,left:(parseFloat(r.borderLeftWidth)||0)/w},o.lineWidth.top||(o.lineWidth.right?y="borderRightColor":o.lineWidth.bottom?y="borderBottomColor":o.lineWidth.left&&(y="borderLeftColor"));var L=B0(e,function(ee){return a.getComputedStyle(ee)[y]});L!=null&&(o.lineColor=L);var D=["left","right","center","justify"];D.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),D=["middle","bottom","top"],D.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var V=parseInt(r.fontSize||"");isNaN(V)||(o.fontSize=V/u);var k=i7(r);k&&(o.fontStyle=k);var W=(r.fontFamily||"").toLowerCase();return n.indexOf(W)!==-1&&(o.font=W),o}function i7(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function B0(n,e){var t=TE(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function TE(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:TE(n.parentElement,e):t}function a7(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(c){return parseInt(c||"0")/r}),u=rg(o,0);return a>u.top&&(u.top=a),a>u.bottom&&(u.bottom=a),u}function xE(n,e,t,r,a){var o,u;r===void 0&&(r=!1),a===void 0&&(a=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),y=[],w=[],E=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:y,body:w,foot:E};for(var S=0;S<c.rows.length;S++){var L=c.rows[S],D=(u=(o=L==null?void 0:L.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),V=s7(f,d,t,L,r,a);V&&(D==="thead"?y.push(V):D==="tfoot"?E.push(V):w.push(V))}return{head:y,body:w,foot:E}}function s7(n,e,t,r,a,o){for(var u=new wE(r),c=0;c<r.cells.length;c++){var f=r.cells[c],d=t.getComputedStyle(f);if(a||d.display!=="none"){var y=void 0;o&&(y=r7(n,f,e,d,t)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:y,_element:f,content:o7(f)})}}var w=t.getComputedStyle(r);if(u.length>0&&(a||w.display!=="none"))return u}function o7(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function l7(n,e,t){for(var r=0,a=[n,e,t];r<a.length;r++){var o=a[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Pl(n,e,t,r,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o}function NE(n,e){var t=new Dh(n),r=t.getDocumentOptions(),a=t.getGlobalOptions();l7(a,r,e);var o=Pl({},a,r,e),u;typeof window<"u"&&(u=window);var c=u7(a,r,e),f=c7(a,r,e),d=h7(t,o),y=d7(t,o,u);return{id:e.tableId,content:y,hooks:f,styles:c,settings:d}}function u7(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(f){if(f==="columnStyles"){var d=n[f],y=e[f],w=t[f];r.columnStyles=Pl({},d,y,w)}else{var E=[n,e,t],S=E.map(function(L){return L[f]||{}});r[f]=Pl({},S[0],S[1],S[2])}},o=0,u=Object.keys(r);o<u.length;o++){var c=u[o];a(c)}return r}function c7(n,e,t){for(var r=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=r;o<u.length;o++){var c=u[o];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function h7(n,e){var t,r,a,o,u,c,f,d,y,w,E,S,L=rg(e.margin,40/n.scaleFactor()),D=(t=f7(n,e.startY))!==null&&t!==void 0?t:L.top,V;e.showFoot===!0?V="everyPage":e.showFoot===!1?V="never":V=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var W=(o=e.useCss)!==null&&o!==void 0?o:!1,ee=e.theme||(W?"plain":"striped"),le=!!e.horizontalPageBreak,ce=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:W,theme:ee,startY:D,margin:L,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(y=e.tableWidth)!==null&&y!==void 0?y:"auto",showHead:k,showFoot:V,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(E=e.tableLineColor)!==null&&E!==void 0?E:200,horizontalPageBreak:le,horizontalPageBreakRepeat:ce,horizontalPageBreakBehaviour:(S=e.horizontalPageBreakBehaviour)!==null&&S!==void 0?S:"afterAllRows"}}function f7(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),a=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var u=t.startPageNumber+t.pageNumber-1;o=u===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function d7(n,e,t){var r=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(t){var c=xE(n,e.html,t,u,e.useCss)||{};r=c.head||r,a=c.body||r,o=c.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||p7(r,a,o);return{columns:f,head:r,body:a,foot:o}}function p7(n,e,t){var r=n[0]||e[0]||t[0]||[],a=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,c;Array.isArray(r)?c=r[parseInt(o)]:c=r[o],typeof c=="object"&&!Array.isArray(c)&&(u=(c==null?void 0:c.colSpan)||1);for(var f=0;f<u;f++){var d=void 0;Array.isArray(r)?d=a.length:d=o+(f>0?"_".concat(f):"");var y={dataKey:d};a.push(y)}}),a}var k1=function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n}(),m7=function(n){_E(e,n);function e(t,r,a,o,u,c){var f=n.call(this,t,r,c)||this;return f.cell=a,f.row=o,f.column=u,f.section=o.section,f}return e}(k1),g7=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,a,o,u){for(var c=0,f=t;c<f.length;c++){var d=f[c],y=new m7(e,this,r,a,o,u),w=d(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],w)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var o=a[r];o(new k1(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var o=a[r];o(new k1(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n}(),IE=function(){function n(e,t,r,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof wE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,a){var o;return Math.max(r,((o=t.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var a=t.cells[r.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(a,o){var u=r.cells[o.index];if(!u)return 0;var c=t.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),d=f+c;return d>a?d:a},0)},n}(),CE=function(){function n(e,t,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,o=r*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=rg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),v7=function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,a=e.allRows();r<a.length;r++){var o=a[r],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(t=Math.max(t,u.styles.cellWidth))}return t},n}();function y7(n,e){b7(n,e);var t=[],r=0;e.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(e);u?o.width=u:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var a=e.getWidth(n.pageSize().width)-r;a&&(a=j1(t,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=j1(t,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),w7(e),S7(e,n),_7(e)}function b7(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,a=EE(n,e);e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){var y=e.hooks.didParseCell;e.callCellHooks(n,y,d,o,f,null);var w=d.padding("horizontal");d.contentWidth=xm(d.text,d.styles,n)+w;var E=xm(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=E+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var S=10/t;d.minWidth=d.styles.minCellWidth||S,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var y=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},w=y.cellWidth||y.minCellWidth;w&&typeof w=="number"&&(f.minWidth=w,f.wrappedWidth=w)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function j1(n,e,t){for(var r=e,a=n.reduce(function(S,L){return S+L.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],c=u.wrappedWidth/a,f=r*c,d=u.width+f,y=t(u),w=d<y?y:d;e-=w-u.width,u.width=w}if(e=Math.round(e*1e10)/1e10,e){var E=n.filter(function(S){return e<0?S.width>t(S):!0});E.length&&(e=j1(E,e,t))}return e}function _7(n){for(var e={},t=1,r=n.allRows(),a=0;a<r.length;a++)for(var o=r[a],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var y=o.cells[f.index];if(!y)continue;if(y.height=o.height,y.rowSpan>1){var w=r.length-a,E=y.rowSpan>w?w:y.rowSpan;e[f.index]={cell:y,left:E,row:o}}}}}function w7(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],a=null,o=0,u=0,c=0;c<n.columns.length;c++){var f=n.columns[c];if(u-=1,u>1&&n.columns[c+1])o+=f.width,delete r.cells[f.index];else if(a){var d=a;delete r.cells[f.index],a=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){a=d,o+=f.width;continue}d.width=f.width+o}}}function S7(n,e){for(var t={count:0,height:0},r=0,a=n.allRows();r<a.length;r++){for(var o=a[r],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var y=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,y+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=T_(d.text,y,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=T_(d.text,y,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var w=d.styles.overflow(d.text,y);typeof w=="string"?d.text=[w]:d.text=w}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var E=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<E*d.rowSpan?t={height:E,count:d.rowSpan}:t&&t.count>0&&t.height>E&&(E=t.height),E>o.height&&(o.height=E)}}t.count--}}function T_(n,e,t,r,a){return n.map(function(o){return A7(o,e,t,r,a)})}function A7(n,e,t,r,a){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=xm(n,t,r))return n;for(;e<xm(n+a,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function RE(n,e){var t=new Dh(n),r=E7(e,t.scaleFactor()),a=new g7(e,r);return y7(t,a),t.applyStyles(t.userStyles),a}function E7(n,e){var t=n.content,r=x7(t.columns);if(t.head.length===0){var a=x_(r,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=x_(r,"foot");a&&t.foot.push(a)}var o=n.settings.theme,u=n.styles;return{columns:r,head:q0("head",t.head,r,u,o,e),body:q0("body",t.body,r,u,o,e),foot:q0("foot",t.foot,r,u,o,e)}}function q0(n,e,t,r,a,o){var u={},c=e.map(function(f,d){for(var y=0,w={},E=0,S=0,L=0,D=t;L<D.length;L++){var V=D[L];if(u[V.index]==null||u[V.index].left===0)if(S===0){var k=void 0;Array.isArray(f)?k=f[V.index-E-y]:k=f[V.dataKey];var W={};typeof k=="object"&&!Array.isArray(k)&&(W=(k==null?void 0:k.styles)||{});var ee=N7(n,V,d,a,r,o,W),le=new CE(k,ee,n);w[V.dataKey]=le,w[V.index]=le,S=le.colSpan-1,u[V.index]={left:le.rowSpan-1,times:S}}else S--,E++;else u[V.index].left--,S=u[V.index].times,y++}return new IE(f,d,n,w)});return c}function x_(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var a=T7(e,r.raw);a!=null&&(t[r.dataKey]=a)}}),Object.keys(t).length>0?t:null}function T7(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function x7(n){return n.map(function(e,t){var r,a;return typeof e=="object"?a=(r=e.dataKey)!==null&&r!==void 0?r:t:a=t,new v7(a,e,t)})}function N7(n,e,t,r,a,o,u){var c=n7(r),f;n==="head"?f=a.headStyles:n==="body"?f=a.bodyStyles:n==="foot"&&(f=a.footStyles);var d=Pl({},c.table,c[n],a.styles,f),y=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},w=n==="body"?y:{},E=n==="body"&&t%2===0?Pl({},c.alternateRow,a.alternateRowStyles):{},S=t7(o),L=Pl({},S,d,E,w);return Pl(L,u)}function I7(n,e,t){var r;t===void 0&&(t={});var a=EE(n,e),o=new Map,u=[],c=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(E){var S=e.columns.find(function(L){return L.dataKey===E||L.index===E});S&&!o.has(S.index)&&(o.set(S.index,!0),u.push(S.index),c.push(e.columns[S.index]),a-=S.wrappedWidth)});for(var d=!0,y=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;y<e.columns.length;){if(o.has(y)){y++;continue}var w=e.columns[y].wrappedWidth;if(d||a>=w)d=!1,u.push(y),c.push(e.columns[y]),a-=w;else break;y++}return{colIndexes:u,columns:c,lastIndex:y-1}}function C7(n,e){for(var t=[],r=0;r<e.columns.length;r++){var a=I7(n,e,{start:r});a.columns.length&&(t.push(a),r=a.lastIndex)}return t}function LE(n,e){var t=e.settings,r=t.startY,a=t.margin,o={x:a.left,y:r},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+a.bottom+u;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(E,S){return E+S.height},0);c+=d}var y=new Dh(n);(t.pageBreak==="always"||t.startY!=null&&c>y.pageSize().height)&&(OE(y),o.y=a.top),e.callWillDrawPageHooks(y,o);var w=Pl({},o);e.startPageNumber=y.pageNumber(),t.horizontalPageBreak?R7(y,e,w,o):(y.applyStyles(y.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(E){return ql(y,e,E,o,e.columns)}),y.applyStyles(y.userStyles),e.body.forEach(function(E,S){var L=S===e.body.length-1;Nm(y,e,E,L,w,o,e.columns)}),y.applyStyles(y.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(E){return ql(y,e,E,o,e.columns)})),SE(y,e,w,o),e.callEndPageHooks(y,o),e.finalY=o.y,n.lastAutoTable=e,y.applyStyles(y.userStyles)}function R7(n,e,t,r){var a=C7(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,y){n.applyStyles(n.userStyles),y>0?id(n,e,t,r,d.columns,!0):N_(n,e,r,d.columns),L7(n,e,t,r,d.columns),z0(n,e,r,d.columns)});else for(var u=-1,c=a[0],f=function(){var d=u;if(c){n.applyStyles(n.userStyles);var y=c.columns;u>=0?id(n,e,t,r,y,!0):N_(n,e,r,y),d=I_(n,e,u+1,r,y),z0(n,e,r,y)}var w=d-u;a.slice(1).forEach(function(E){n.applyStyles(n.userStyles),id(n,e,t,r,E.columns,!0),I_(n,e,u+1,r,E.columns,w),z0(n,e,r,E.columns)}),u=d};u<e.body.length-1;)f()}function N_(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return ql(n,e,o,t,r)})}function L7(n,e,t,r,a){n.applyStyles(n.userStyles),e.body.forEach(function(o,u){var c=u===e.body.length-1;Nm(n,e,o,c,t,r,a)})}function I_(n,e,t,r,a,o){n.applyStyles(n.userStyles),o=o??e.body.length;var u=Math.min(t+o,e.body.length),c=-1;return e.body.slice(t,u).forEach(function(f,d){var y=t+d===e.body.length-1,w=PE(n,e,y,r);f.canEntireRowFit(w,a)&&(ql(n,e,f,r,a),c=t+d)}),c}function z0(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return ql(n,e,o,t,r)})}function P7(n,e,t){var r=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((e-a)/r);return Math.max(0,o)}function O7(n,e,t,r){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,c=t.columns;u<c.length;u++){var f=c[u],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var y=new CE(d.raw,d.styles,d.section);y=Pl(y,d),y.text=[];var w=P7(d,e,r);d.text.length>w&&(y.text=d.text.splice(w,d.text.length));var E=r.scaleFactor(),S=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(E,S),d.contentHeight>=e&&(d.contentHeight=e,y.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),y.contentHeight=y.getContentHeight(E,S),y.contentHeight>o&&(o=y.contentHeight),a[f.index]=y}}var L=new IE(n.raw,-1,n.section,a,!0);L.height=o;for(var D=0,V=t.columns;D<V.length;D++){var f=V[D],y=L.cells[f.index];y&&(y.height=L.height);var d=n.cells[f.index];d&&(d.height=n.height)}return L}function D7(n,e,t,r){var a=n.pageSize().height,o=r.settings.margin,u=o.top+o.bottom,c=a-u;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var y=e.hasRowSpan(r.columns),w=e.getMaxCellHeight(r.columns)>c;return w?(y&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function Nm(n,e,t,r,a,o,u){var c=PE(n,e,r,o);if(t.canEntireRowFit(c,u))ql(n,e,t,o,u);else if(D7(n,t,c,e)){var f=O7(t,c,e,n);ql(n,e,t,o,u),id(n,e,a,o,u),Nm(n,e,f,r,a,o,u)}else id(n,e,a,o,u),Nm(n,e,t,r,a,o,u)}function ql(n,e,t,r,a){r.x=e.settings.margin.left;for(var o=0,u=a;o<u.length;o++){var c=u[o],f=t.cells[c.index];if(!f){r.x+=c.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,c,r);if(d===!1){r.x+=c.width;continue}k7(n,f,r);var y=f.getTextPos();bE(f.text,y.x,y.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,c,r),r.x+=c.width}r.y+=t.height}function k7(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=AE(r.lineWidth,r.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),j7(n,e,t,r.lineWidth))}function j7(n,e,t,r){var a,o,u,c;r.top&&(a=t.x,o=t.y,u=t.x+e.width,c=t.y,r.right&&(u+=.5*r.right),r.left&&(a-=.5*r.left),f(r.top,a,o,u,c)),r.bottom&&(a=t.x,o=t.y+e.height,u=t.x+e.width,c=t.y+e.height,r.right&&(u+=.5*r.right),r.left&&(a-=.5*r.left),f(r.bottom,a,o,u,c)),r.left&&(a=t.x,o=t.y,u=t.x,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.left,a,o,u,c)),r.right&&(a=t.x+e.width,o=t.y,u=t.x+e.width,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.right,a,o,u,c));function f(d,y,w,E,S){n.getDocument().setLineWidth(d),n.getDocument().line(y,w,E,S,"S")}}function PE(n,e,t,r){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-a}function id(n,e,t,r,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return ql(n,e,c,r,a)}),e.callEndPageHooks(n,r);var u=e.settings.margin;SE(n,e,t,r),OE(n),e.pageNumber++,r.x=u.left,r.y=u.top,t.y=u.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return ql(n,e,c,r,a)}),n.applyStyles(n.userStyles))}function OE(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function M7(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=NE(this,r),o=RE(this,a);return LE(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,a){bE(e,t,r,a,this)},n.API.autoTableSetDefaults=function(e){return Dh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Dh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Dh(this),o=xE(a,e,window,t,!1),u=o.head,c=o.body,f=((r=u[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:c,data:c}}}var H0;function F7(n,e){var t=NE(n,e),r=RE(n,t);LE(n,r)}try{if(typeof window<"u"&&window){var C_=window,R_=C_.jsPDF||((H0=C_.jspdf)===null||H0===void 0?void 0:H0.jsPDF);R_&&M7(R_)}}catch(n){console.error("Could not apply autoTable plugin",n)}const U7=n=>{const e=n.getFullYear(),t=`orcamento_contador_${e}`;let r=1;const a=localStorage.getItem(t);a&&(r=parseInt(a,10)+1),localStorage.setItem(t,r.toString());const o=r.toString().padStart(3,"0");return`${e}/${o}`},L_=n=>{if(!n)return"";const e=n.replace(/\D/g,"");return e.length<=2?e.length>0?`(${e})`:e:e.length<=6?`(${e.substring(0,2)}) ${e.substring(2)}`:e.length<=10?`(${e.substring(0,2)}) ${e.substring(2,6)}-${e.substring(6)}`:`(${e.substring(0,2)}) ${e.substring(2,7)}-${e.substring(7,11)}`},DE=async(n,e)=>{try{if(e.firestoreId)return await Ar(Jn,"users",n,"orcamentos",e.firestoreId),e.firestoreId;{const t=e.itens.reduce((a,o)=>{const u=o.valorUnitario||o.precoUnitario;return a+u*o.quantidade},0);return(await NL(md(Jn,"users",n,"orcamentos"),{numeroOrcamento:e.numeroOrcamento,cliente:e.cliente,itens:e.itens,observacoes:e.observacoes,data:e.data,empresa:e.empresa,valorTotal:t,status:"Pendente",dataCriacao:new Date,userId:n})).id}}catch(t){throw console.error("Erro ao salvar oramento no Firestore:",t),t}},V7=async n=>{try{const e=`cached_clients_${n}`,t=localStorage.getItem(e);if(t)try{const{clients:f,timestamp:d}=JSON.parse(t),y=Date.now()-60*60*1e3;if(d>y)return console.log("Usando clientes em cache"),f}catch(f){console.error("Erro ao ler clientes do cache:",f)}const r=new Set,a=md(Jn,"users",n,"orcamentos"),o=_m(a,_A("dataCriacao","desc"),wA(10)),u=await Wv(o),c=[];return u.forEach(f=>{const d=f.data(),y=d.cliente.nome;r.has(y)||(r.add(y),c.push({nome:y,telefone:d.cliente.telefone,email:d.cliente.email}))}),localStorage.setItem(e,JSON.stringify({clients:c,timestamp:Date.now()})),c}catch(e){console.error("Erro ao buscar clientes:",e);try{const t=`cached_clients_${n}`,r=localStorage.getItem(t);if(r){const{clients:a}=JSON.parse(r);return a}}catch(t){console.error("No foi possvel recuperar clientes do cache:",t)}return[]}},M1=async(n,e,t)=>{const r=new Pt({orientation:"portrait",unit:"mm",format:"a4"}),a={secundaria:[52,73,94],texto:[44,62,80],cinzaClaro:[245,245,245],cinzaLinha:[220,220,220]},o=r.internal.pageSize.getWidth(),u=r.internal.pageSize.getHeight(),c=20,f=7;let d=25,y;if(n.numeroOrcamento)y=n.numeroOrcamento;else{const te=new Date(n.data);y=U7(te)}r.setTextColor(a.texto[0],a.texto[1],a.texto[2]),r.setFontSize(20),r.setFont("helvetica","bold");const w=`ORAMENTO ${y}`;r.text(w,o/2,d,{align:"center"}),d+=f*1.5,r.setFontSize(10),r.setFont("helvetica","normal");const S=new Date(n.data).toLocaleDateString("pt-BR");r.text(`Data: ${S}`,o-c,d,{align:"right"}),d+=f+3,r.setDrawColor(a.cinzaLinha[0],a.cinzaLinha[1],a.cinzaLinha[2]),r.setLineWidth(.5),r.line(c,d,o-c,d),d+=f;const L=n.empresa||{nome:"EMPRESA EXEMPLO LTDA",cnpj:"00.000.000/0001-00",telefone:"(00) 0000-0000",email:"contato@empresa.com",endereco:"Rua Exemplo, 123 - Cidade - UF"};if(r.setFontSize(14),r.setFont("helvetica","bold"),r.setTextColor(a.secundaria[0],a.secundaria[1],a.secundaria[2]),r.text(L.nome.toUpperCase(),c,d),d+=f,r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(a.texto[0],a.texto[1],a.texto[2]),L.cnpj&&(r.text(`CNPJ: ${L.cnpj}`,c,d),d+=f),L.telefone){const te=L_(L.telefone);r.text(`Telefone: ${te}`,c,d),d+=f}if(L.email&&(r.text(`Email: ${L.email}`,c,d),d+=f),L.endereco&&(r.text(`Endereo: ${L.endereco}`,c,d),d+=f),d+=f,r.setDrawColor(a.cinzaLinha[0],a.cinzaLinha[1],a.cinzaLinha[2]),r.setLineWidth(.5),r.line(c,d,o-c,d),d+=f,r.setFontSize(14),r.setFont("helvetica","bold"),r.setTextColor(a.secundaria[0],a.secundaria[1],a.secundaria[2]),r.text("CLIENTE",c,d),d+=f,r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(a.texto[0],a.texto[1],a.texto[2]),r.text(`Nome: ${n.cliente.nome}`,c,d),d+=f,n.cliente.telefone){const te=L_(n.cliente.telefone);r.text(`Telefone: ${te}`,c,d),d+=f}n.cliente.email&&(r.text(`Email: ${n.cliente.email}`,c,d),d+=f),d+=10;const D=["Item","Descrio","Qtd","Preo","Total"],V=[];n.itens.forEach((te,fe)=>{const he=`R$${te.precoUnitario.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ce=`R$${(te.quantidade*te.precoUnitario).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`;let J=te.descricao;te.detalhes&&(J+=` - ${te.detalhes}`),V.push([(fe+1).toString(),J,te.quantidade.toString(),he,Ce])}),F7(r,{head:[D],body:V,startY:d,theme:"grid",styles:{fontSize:10,cellPadding:8,lineColor:[180,180,180],lineWidth:.1,textColor:[50,50,50],font:"helvetica",halign:"center",valign:"middle",minCellHeight:14},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold",halign:"center",valign:"middle",fontSize:10,cellPadding:{top:8,right:5,bottom:8,left:5},minCellHeight:16},columnStyles:{0:{cellWidth:18,halign:"center"},1:{cellWidth:"auto",halign:"left"},2:{cellWidth:20,halign:"center"},3:{cellWidth:40,halign:"right"},4:{cellWidth:40,halign:"right"}},didDrawPage:()=>{}});let k=r.lastAutoTable.finalY+10;k>u-70&&(r.addPage(),k=20);const W=n.itens.reduce((te,fe)=>te+fe.quantidade*fe.precoUnitario,0);r.setFillColor(a.cinzaClaro[0],a.cinzaClaro[1],a.cinzaClaro[2]),r.setFontSize(12),r.setFont("helvetica","bold"),r.setTextColor(a.secundaria[0],a.secundaria[1],a.secundaria[2]);const ee=`TOTAL: R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,le=r.getTextWidth(ee);if(r.rect(o-c-le-5,k-5,le+10,10,"F"),r.text(ee,o-c,k,{align:"right"}),k+=f*2,r.setTextColor(a.texto[0],a.texto[1],a.texto[2]),n.observacoes){k>u-90&&(r.addPage(),k=30),r.setFontSize(12),r.setFont("helvetica","bold"),r.setTextColor(a.secundaria[0],a.secundaria[1],a.secundaria[2]);const te="OBSERVAES",fe=r.getTextDimensions(te);r.text(te,c,k),k+=7,r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(a.texto[0],a.texto[1],a.texto[2]);const he=r.splitTextToSize(n.observacoes,o-c*2),Ce=r.getTextDimensions(he.join(`
`)),J=fe.h+Ce.h+10;r.setFillColor(248,248,248),r.rect(c-2,k-fe.h-7,o-c*2+4,J,"F"),r.setFontSize(12),r.setFont("helvetica","bold"),r.setTextColor(a.secundaria[0],a.secundaria[1],a.secundaria[2]),r.text(te,c,k-Ce.h-3),r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(a.texto[0],a.texto[1],a.texto[2]),r.text(he,c,k),k+=Ce.h+15}const ce=["1. Oramento vlido por 15 dias.","2. Forma de pagamento a combinar.","3. Prazo de entrega a combinar aps confirmao do pedido."],Ne="CONDIES GERAIS:",U=9,N=7,j=8;r.setFontSize(11),r.setFont("helvetica","bold");const G=r.getTextDimensions(Ne),C=G.h+ce.length*N+j;k+C>u-30&&(r.addPage(),k=30),r.setFillColor(a.cinzaClaro[0],a.cinzaClaro[1],a.cinzaClaro[2]),r.rect(c-2,k-2,o-c*2+4,C,"F");const P=k+G.h;r.setFontSize(11),r.setFont("helvetica","bold"),r.setTextColor(a.secundaria[0],a.secundaria[1],a.secundaria[2]),r.text(Ne,c,P),r.setFontSize(U),r.setFont("helvetica","normal"),r.setTextColor(a.texto[0],a.texto[1],a.texto[2]);let M=P+N;ce.forEach(te=>{r.text(te,c,M),M+=N}),k+=C+5;function se(te,fe){r.setFontSize(8),r.setTextColor(100,100,100);const he=fe?`Pgina ${te} de ${fe}`:`Pgina ${te}`;r.text(he,o/2,u-18,{align:"center"}),r.setFontSize(8),r.setTextColor(100,100,100),r.text(L.nome,o/2,u-13,{align:"center"}),r.setFontSize(6),r.setTextColor(220,220,220),r.text("Desenvolvido por Cauan Almeida / (21) 97262-5476",o/2,u-3,{align:"center"})}if(e)try{const te=await DE(e,n);console.log("Oramento salvo no Firestore com ID:",te)}catch(te){console.error("Erro ao salvar oramento:",te)}const Ie=r.getNumberOfPages();for(let te=1;te<=Ie;te++)r.setPage(te),se(te,Ie);r.save(`orcamento_${y.replace("/","_")}.pdf`),t&&t()},kE=async n=>{try{const e=JSON.parse(localStorage.getItem("offline_orcamentos")||"[]");if(e.length===0)return;if(navigator.onLine){console.log(`Tentando sincronizar ${e.length} oramentos offline`);const t=[],r=[];for(const a of e)try{await DE(n,a),t.push(a)}catch(o){console.error("Erro ao sincronizar oramento offline:",o),r.push(a)}localStorage.setItem("offline_orcamentos",JSON.stringify(r)),t.length>0&&alert(`${t.length} oramento(s) sincronizado(s) com sucesso.`)}}catch(e){console.error("Erro ao verificar oramentos offline:",e)}},B7=n=>{window.addEventListener("online",()=>{console.log("Conexo restabelecida, verificando dados offline"),kE(n)})},ig=()=>{const[n,e]=be.useState(navigator.onLine),[t,r]=be.useState(!1);return be.useEffect(()=>{const a=()=>{e(!0),r(!0),setTimeout(()=>r(!1),3e3)},o=()=>{e(!1),r(!0)};return window.addEventListener("online",a),window.addEventListener("offline",o),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",o)}},[]),t?T.jsx("div",{className:`connection-status ${n?"online":"offline"}`,children:n?T.jsx("span",{children:" Online - Seus dados esto sendo sincronizados"}):T.jsx("span",{children:" Offline - Seus dados sero salvos localmente"})}):null},q7=()=>{try{const n=Object.keys(localStorage),t=Date.now()-7*24*60*60*1e3;for(const a of n)if(a.startsWith("cached_"))try{const o=JSON.parse(localStorage.getItem(a)||"{}");o.timestamp&&o.timestamp<t&&(localStorage.removeItem(a),console.log(`Cache antigo removido: ${a}`))}catch{}const r=localStorage.getItem("offline_orcamentos");if(r)try{const a=JSON.parse(r);Array.isArray(a)&&a.length>10&&localStorage.setItem("offline_orcamentos",JSON.stringify(a.slice(0,10)))}catch{}return!0}catch(n){return console.error("Erro ao limpar dados antigos:",n),!1}},z7=()=>{console.log("Otimizao de listeners executada")},H7=()=>{if("caches"in window)try{caches.delete("image-cache").then(()=>{console.log("Cache de imagens limpo")})}catch(n){console.error("Erro ao limpar cache:",n)}},G7=()=>{q7(),z7(),H7(),console.log("Otimizao do aplicativo concluda")},P_={},$7=5*60*1e3;async function O_(n,e,t,r=$7){const a=`${n}_${e||"collection"}_${JSON.stringify(t||[])}`,o=P_[a],u=Date.now();if(o&&u-o.timestamp<o.expiresIn)return console.log(`Usando dados em cache para ${a}`),o.data;let c;try{if(e){const f=Ar(Jn,n,e),d=await Bl(f);if(d.exists())c={id:d.id,...d.data()};else throw new Error(`Documento no encontrado: ${n}/${e}`)}else{const f=md(Jn,n),d=t?_m(f,...t):_m(f);c=(await Wv(d)).docs.map(w=>({id:w.id,...w.data()}))}return P_[a]={data:c,timestamp:u,expiresIn:r},c}catch(f){throw console.error(`Erro ao buscar dados do Firestore: ${f}`),f}}const W7={Pendente:"Oramento em elaborao, ainda no enviado ao cliente",Enviado:"Oramento enviado ao cliente, aguardando resposta",Aprovado:"Oramento aprovado pelo cliente",Recusado:"Oramento recusado pelo cliente"},Y7=n=>n.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().substring(0,2),K7=n=>{const e=["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6","#1abc9c","#d35400","#34495e","#16a085","#c0392b"];let t=0;for(let a=0;a<n.length;a++)t=n.charCodeAt(a)+((t<<5)-t);const r=Math.abs(t%e.length);return e[r]},Q7=n=>{if(!n)return"Data no disponvel";try{return n&&typeof n.toDate=="function"?n.toDate().toLocaleDateString("pt-BR"):typeof n=="string"?new Date(n).toLocaleDateString("pt-BR"):n instanceof Date?n.toLocaleDateString("pt-BR"):"Data invlida"}catch(e){return console.error("Erro ao formatar data:",e,n),"Erro na data"}},X7=()=>{const[n,e]=be.useState(!0),[t,r]=be.useState(null),[a,o]=be.useState([]),[u,c]=be.useState([]),{config:f}=t2(),d=io(),y=be.useRef(null),[w,E]=be.useState(null),S=async U=>{try{if(!window.confirm("Tem certeza que deseja excluir este oramento? Esta ao no pode ser desfeita."))return;e(!0),console.log("Apagando oramento:",U);const N=kn.currentUser;if(!N){alert("Voc precisa estar logado para excluir um oramento.");return}try{const j=Ar(Jn,`users/${N.uid}/orcamentos/${U}`);await Yb(j),console.log("Oramento excludo do Firestore com sucesso")}catch(j){console.error("Erro ao excluir do Firestore:",j);try{const G=Ar(Jn,`orcamentos/${U}`);await Yb(G),console.log("Oramento excludo do Firestore (caminho alternativo) com sucesso")}catch(G){console.error("Erro ao excluir do Firestore (caminho alternativo):",G)}}try{const G=JSON.parse(localStorage.getItem("orcamentos")||"[]").filter(C=>C.id!==U);localStorage.setItem("orcamentos",JSON.stringify(G)),console.log("Oramento removido do localStorage")}catch(j){console.error("Erro ao remover do localStorage:",j)}o(a.filter(j=>j.id!==U)),alert("Oramento excludo com sucesso!")}catch(N){console.error("Erro ao excluir oramento:",N),alert("Ocorreu um erro ao excluir o oramento. Tente novamente.")}finally{e(!1)}},L=async(U,N)=>{try{e(!0),console.log(`Atualizando status do oramento ${U} para ${N}`);const j=kn.currentUser;if(!j){alert("Voc precisa estar logado para atualizar o status do oramento.");return}try{const G=Ar(Jn,`users/${j.uid}/orcamentos/${U}`);await wm(G,{status:N}),console.log("Status atualizado no Firestore com sucesso")}catch(G){console.error("Erro ao atualizar status no Firestore:",G);try{const C=Ar(Jn,`orcamentos/${U}`);await wm(C,{status:N}),console.log("Status atualizado no Firestore (caminho alternativo) com sucesso")}catch(C){console.error("Erro ao atualizar status no Firestore (caminho alternativo):",C)}}try{const C=JSON.parse(localStorage.getItem("orcamentos")||"[]").map(P=>P.id===U?{...P,status:N}:P);localStorage.setItem("orcamentos",JSON.stringify(C)),console.log("Status atualizado no localStorage")}catch(G){console.error("Erro ao atualizar status no localStorage:",G)}o(a.map(G=>G.id===U?{...G,status:N}:G)),alert(`Status do oramento atualizado para ${N}`)}catch(j){console.error("Erro ao atualizar status:",j),alert("Ocorreu um erro ao atualizar o status. Tente novamente.")}finally{e(!1)}},D=U=>new Intl.NumberFormat(f.idioma,{style:"currency",currency:f.formatoMonetario}).format(U);be.useEffect(()=>{const U=()=>{document.visibilityState==="visible"&&y.current&&(console.log("Pgina em foco, recarregando oramentos"),V(y.current))},N=()=>{y.current&&(console.log("Janela em foco, recarregando oramentos"),V(y.current))};return document.addEventListener("visibilitychange",U),window.addEventListener("focus",N),()=>{document.removeEventListener("visibilitychange",U),window.removeEventListener("focus",N)}},[]),be.useEffect(()=>{sessionStorage.getItem("dashboard_needs_refresh")==="true"&&y.current&&(console.log("Flag de atualizao detectada, recarregando oramentos"),V(y.current),sessionStorage.removeItem("dashboard_needs_refresh"))},[]),be.useEffect(()=>{const U=Qu(kn,async N=>{if(N)try{y.current=N.uid,G7(),B7(N.uid),navigator.onLine&&await kE(N.uid),await k(N.uid),await V(N.uid);try{const j=await V7(N.uid);c(j)}catch(j){console.error("Erro ao carregar clientes:",j)}}catch(j){console.error("Erro ao carregar dados:",j),r({nome:N.displayName||"Usurio",email:N.email||"",empresa:"Minha Empresa"})}finally{e(!1)}else d("/login")});return()=>U()},[d]);const V=async U=>{e(!0);try{const N=[_A("dataCriacao","desc"),wA(10)],G=(await O_(`users/${U}/orcamentos`,void 0,N)).map(C=>({...C,numero:C.numero||C.numeroOrcamento||C.id,status:C.status||"Pendente"}));o(G),console.log("Oramentos carregados e processados:",G.length)}catch(N){console.error("Erro ao carregar oramentos:",N),o([])}finally{e(!1)}},k=async U=>{try{const N=await O_("users",U);r(N)}catch(N){console.error("Erro ao carregar dados do usurio:",N)}},W=async()=>{try{await a6(kn),d("/login")}catch(U){console.error("Erro ao fazer logout:",U)}},ee=U=>{try{console.log("=== Preparando oramento para edio ==="),console.log("ID original:",U.id);const N={...U,numero:U.numero||"",numeroOrcamento:U.numeroOrcamento||U.numero||U.id,cliente:typeof U.cliente=="string"?{nome:U.cliente}:U.cliente,status:U.status||"Pendente",id:U.id};console.log("Oramento completo preparado:",N);const j=JSON.parse(localStorage.getItem("orcamentos")||"[]");if(j.find(C=>C.id===U.id))console.log("Oramento encontrado no localStorage, usando dados existentes"),sessionStorage.setItem("orcamento_em_edicao",JSON.stringify(N));else{console.log("Oramento no encontrado no localStorage, buscando no Firestore");const C=kn.currentUser;C?(console.log("Buscando oramento no Firestore:",`users/${C.uid}/orcamentos/${U.id}`),Bl(Ar(Jn,`users/${C.uid}/orcamentos/${U.id}`)).then(P=>{if(P.exists()){const M=P.data();console.log("Oramento encontrado no Firestore:",M);const se={...M,id:U.id,numero:M.numero||M.numeroOrcamento||U.id,numeroOrcamento:M.numeroOrcamento||M.numero||U.id,cliente:typeof M.cliente=="string"?{nome:M.cliente}:M.cliente||{nome:""}};console.log("Oramento mesclado para localStorage:",se),j.push(se),localStorage.setItem("orcamentos",JSON.stringify(j)),console.log("Oramento completo adicionado ao localStorage para edies futuras"),sessionStorage.setItem("orcamento_em_edicao",JSON.stringify(se)),console.log("Oramento mesclado salvo no sessionStorage")}else console.log("Oramento no encontrado no Firestore, usando dados da listagem"),j.push(N),localStorage.setItem("orcamentos",JSON.stringify(j)),sessionStorage.setItem("orcamento_em_edicao",JSON.stringify(N))}).catch(P=>{console.error("Erro ao buscar oramento completo:",P),console.log("Usando dados da listagem devido a erro"),j.push(N),localStorage.setItem("orcamentos",JSON.stringify(j)),sessionStorage.setItem("orcamento_em_edicao",JSON.stringify(N))})):(console.log("Usurio no autenticado, usando dados da listagem"),j.push(N),localStorage.setItem("orcamentos",JSON.stringify(j)),sessionStorage.setItem("orcamento_em_edicao",JSON.stringify(N)))}console.log("Oramento armazenado para edio - ID:",U.id)}catch(N){console.error("Erro ao armazenar oramento:",N),sessionStorage.setItem("orcamento_em_edicao",JSON.stringify(U))}},le=U=>{E(w===U?null:U)};be.useEffect(()=>{const U=N=>{const j=N.target;!j.closest(".status-menu")&&!j.closest(".status-dropdown")&&E(null)};return document.addEventListener("click",U),()=>{document.removeEventListener("click",U)}},[]);const Ne=(()=>{const U=a.reduce((G,C)=>G+(isNaN(C.valor)?0:C.valor),0),N=a.filter(G=>G.status==="Aprovado").reduce((G,C)=>G+(isNaN(C.valor)?0:C.valor),0),j=a.filter(G=>G.status==="Aprovado").length;return{valorTotal:U,valorAprovados:N,qtdAprovados:j}})();return n?T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Carregando seus dados..."})]}):T.jsxs("div",{className:"dashboard-container",children:[T.jsx(ig,{}),T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("div",{className:"logo",children:[T.jsx("img",{src:"/images/FAVEICON-USE.png",alt:"Oramento PRO",className:"logo-img"}),T.jsxs("h1",{children:["Oramento",T.jsx("span",{className:"logo-pro",children:"PRO"})]})]}),T.jsxs("div",{className:"user-menu",children:[T.jsxs("span",{className:"user-name",children:["Ol, ",t!=null&&t.nome?t.nome.split(" ")[0]:"Usurio"]}),T.jsx("div",{className:"user-avatar",style:{backgroundColor:K7((t==null?void 0:t.nome)||"User")},children:Y7((t==null?void 0:t.nome)||"U")}),T.jsx("div",{className:"user-dropdown",children:T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx(Zt,{to:"/perfil",children:"Meu Perfil"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/configuracoes",children:"Configuraes"})}),T.jsx("li",{children:T.jsx("button",{onClick:W,children:"Sair"})})]})})]})]}),T.jsxs("main",{className:"dashboard-content",children:[T.jsxs("div",{className:"dashboard-sidebar",children:[T.jsx("nav",{className:"dashboard-nav",children:T.jsxs("ul",{children:[T.jsx("li",{className:"active",children:T.jsx(Zt,{to:"/dashboard",children:"Dashboard"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/orcamentos",children:"Oramentos"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/clientes",children:"Clientes"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/produtos",children:"Produtos"})}),T.jsx("li",{children:T.jsx(Zt,{to:"/configuracoes",children:"Configuraes"})})]})}),T.jsxs("div",{className:"empresa-info",children:[T.jsx("h3",{children:t==null?void 0:t.empresa}),T.jsx("p",{children:t==null?void 0:t.email})]})]}),T.jsxs("div",{className:"dashboard-main",children:[T.jsxs("div",{className:"dashboard-header-content",children:[T.jsx("h1",{children:"Dashboard"}),T.jsx(Zt,{to:"/novo-orcamento",className:"btn btn-primary",children:"Novo Oramento"})]}),T.jsxs("div",{className:"stats-cards",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-info",children:[T.jsx("h3",{children:"Total de Oramentos"}),T.jsx("p",{className:"stat-value",children:a.length})]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-info",children:[T.jsx("h3",{children:"Oramentos Aprovados"}),T.jsx("p",{className:"stat-value",children:Ne.qtdAprovados})]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-info",children:[T.jsx("h3",{children:"Clientes"}),T.jsx("p",{className:"stat-value",children:u.length})]})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-info",children:[T.jsx("h3",{children:"Valor Total"}),T.jsx("p",{className:"stat-value",children:D(Ne.valorTotal)})]})]}),T.jsxs("div",{className:"stat-card approved-value",children:[T.jsx("div",{className:"stat-icon",children:""}),T.jsxs("div",{className:"stat-info",children:[T.jsx("h3",{children:"Valor Aprovado"}),T.jsx("p",{className:"stat-value",children:D(Ne.valorAprovados)})]})]})]}),T.jsxs("div",{className:"recent-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx("h2",{children:"Oramentos Recentes"}),T.jsx(Zt,{to:"/orcamentos",className:"view-all",children:"Ver todos"})]}),a.length>0?T.jsx("div",{className:"recent-list",children:T.jsxs("table",{className:"data-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"N"}),T.jsx("th",{children:"Cliente"}),T.jsx("th",{children:"Valor"}),T.jsx("th",{children:"Data"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Aes"})]})}),T.jsx("tbody",{children:a.slice(0,5).map(U=>{var N;return T.jsxs("tr",{children:[T.jsx("td",{children:U.numeroOrcamento||U.numero||U.id}),T.jsx("td",{children:typeof U.cliente=="string"?U.cliente:U.cliente.nome}),T.jsx("td",{className:"valor-col",children:D(Number(U.valor||0))}),T.jsx("td",{children:Q7(U.dataCriacao)}),T.jsx("td",{children:T.jsx("span",{className:`status-badge ${((N=U.status)==null?void 0:N.toLowerCase())||"pendente"}`,title:W7[U.status||"Pendente"],children:U.status||"Pendente"})}),T.jsxs("td",{className:"actions",children:[T.jsx(Zt,{to:`/orcamentos/${U.id}`,className:"btn-icon view",title:"Visualizar oramento",children:""}),T.jsx(Zt,{to:`/novo-orcamento/${U.id}`,className:"btn-icon edit",title:"Editar oramento",onClick:()=>ee(U),children:""}),T.jsxs("div",{className:"status-menu",children:[T.jsx("button",{className:"btn-icon status",title:"Alterar status",onClick:j=>{j.stopPropagation(),le(U.id)},children:""}),w===U.id&&T.jsxs("div",{className:"status-dropdown",children:[T.jsx("button",{className:`status-option ${U.status==="Pendente"?"active":""}`,onClick:()=>L(U.id,"Pendente"),children:"Pendente"}),T.jsx("button",{className:`status-option ${U.status==="Enviado"?"active":""}`,onClick:()=>L(U.id,"Enviado"),children:"Enviado"}),T.jsx("button",{className:`status-option ${U.status==="Aprovado"?"active":""}`,onClick:()=>L(U.id,"Aprovado"),children:"Aprovado"}),T.jsx("button",{className:`status-option ${U.status==="Recusado"?"active":""}`,onClick:()=>L(U.id,"Recusado"),children:"Recusado"})]})]}),T.jsx("button",{className:"btn-icon delete",title:"Excluir oramento",onClick:()=>S(U.id),children:""})]})]},U.id)})})]})}):T.jsxs("div",{className:"empty-state",children:[T.jsx("div",{className:"empty-icon",children:""}),T.jsx("h3",{children:"Voc ainda no tem oramentos"}),T.jsx("p",{children:"Comece criando seu primeiro oramento agora mesmo!"}),T.jsx(Zt,{to:"/novo-orcamento",className:"btn btn-primary",children:"Criar Oramento"})]})]}),T.jsxs("div",{className:"recent-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsx("h2",{children:"Seus Clientes"}),T.jsx(Zt,{to:"/clientes",className:"view-all",children:"Ver todos"})]}),u.length>0?T.jsx("div",{className:"clients-grid",children:u.slice(0,4).map((U,N)=>T.jsxs("div",{className:"client-card",children:[T.jsx("div",{className:"client-avatar",children:U.nome.charAt(0).toUpperCase()}),T.jsxs("div",{className:"client-info",children:[T.jsx("h3",{children:U.nome}),T.jsx("p",{children:U.telefone||"Sem telefone"}),T.jsx("p",{className:"client-email",children:U.email||"Sem email"})]})]},N))}):T.jsxs("div",{className:"empty-state",children:[T.jsx("div",{className:"empty-icon",children:""}),T.jsx("h3",{children:"Sem clientes cadastrados"}),T.jsx("p",{children:"Seus clientes aparecero aqui quando voc criar oramentos."})]})]})]})]})]})},J7=()=>{var Ne,U;const{id:n}=q_(),e=io(),[t,r]=be.useState(!0),[a,o]=be.useState(null),[u,c]=be.useState(null),[f,d]=be.useState(null),{config:y}=t2();be.useEffect(()=>{const N=Qu(kn,async j=>{if(j){c(j.uid);try{await E(j.uid,n)}catch(G){console.error("Erro ao carregar oramento:",G),d(G instanceof Error?G.message:"Erro ao carregar o oramento")}finally{r(!1)}}else e("/login")});return()=>N()},[n,e]);const w=()=>{const N=new Date().getFullYear(),j=Math.floor(Math.random()*900)+100;return`${N}/${j.toString().padStart(3,"0")}`},E=async(N,j)=>{try{const G=Ar(Jn,"users",N,"orcamentos",j),C=await Bl(G);if(C.exists()){const P=C.data();let M;P.dataCriacao&&typeof P.dataCriacao.toDate=="function"?M=P.dataCriacao.toDate():P.dataCriacao instanceof Date?M=P.dataCriacao:P.dataCriacao?M=new Date(P.dataCriacao):M=new Date,o({id:C.id,...P,numeroOrcamento:P.numeroOrcamento||w(),dataCriacao:M})}else{const M=JSON.parse(localStorage.getItem("offline_orcamentos")||"[]").find(se=>se.id===j);M?o({...M,numeroOrcamento:M.numeroOrcamento||w(),dataCriacao:new Date(M.data),status:"Pendente (Offline)"}):d("Oramento no encontrado")}}catch(G){if(console.error("Erro ao carregar oramento:",G),!navigator.onLine){const P=JSON.parse(localStorage.getItem("offline_orcamentos")||"[]").find(M=>M.id===j);if(P){o({...P,dataCriacao:new Date(P.data),status:"Pendente (Offline)"});return}}throw G}},S=()=>{if(a&&u){const N={id:a.id,numeroOrcamento:a.numeroOrcamento,cliente:a.cliente,itens:a.itens,observacoes:a.observacoes,data:a.dataCriacao,empresa:a.empresa,firestoreId:a.id};M1(N,u,()=>{alert("PDF gerado com sucesso!")})}},L=()=>{var N;if(a&&a.cliente&&a.cliente.telefone){const j=a.cliente.telefone.replace(/\D/g,""),G=a.valorTotal||a.itens.reduce((M,se)=>M+se.precoUnitario*se.quantidade,0),C=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(G),P=encodeURIComponent(`Ol ${a.cliente.nome}, segue o oramento n ${a.numeroOrcamento}:

`+a.itens.map((M,se)=>`${se+1}. ${M.descricao} - Qtd: ${M.quantidade} - ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M.precoUnitario)}`).join(`
`)+`

Valor Total: ${C}

Observaes: ${a.observacoes||"-"}

Atenciosamente,
${((N=a.empresa)==null?void 0:N.nome)||"Empresa"}`);window.open(`https://wa.me/55${j}?text=${P}`,"_blank")}else alert("Cliente sem nmero de telefone cadastrado")},D=()=>{var N;if(a&&a.cliente&&a.cliente.email){const j=a.cliente.email,G=encodeURIComponent(`Oramento ${a.numeroOrcamento||""}`),C=a.valorTotal||a.itens.reduce((se,Ie)=>se+Ie.precoUnitario*Ie.quantidade,0),P=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),M=encodeURIComponent(`Ol ${a.cliente.nome},

Segue o oramento solicitado:

`+a.itens.map((se,Ie)=>`${Ie+1}. ${se.descricao} - Qtd: ${se.quantidade} - ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se.precoUnitario)}`).join(`
`)+`

Valor Total: ${P}

Observaes: ${a.observacoes||"-"}

Atenciosamente,
${((N=a.empresa)==null?void 0:N.nome)||"Empresa"}`);window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${j}&su=${G}&body=${M}`,"_blank")}else alert("Cliente sem e-mail cadastrado")},V=N=>N?N.split(" ").map(j=>j.charAt(0)).join("").toUpperCase().substring(0,2):"CL",k=N=>{const j=["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6","#1abc9c","#d35400","#34495e","#16a085","#c0392b"];let G=0;for(let P=0;P<(N||"CL").length;P++)G=N.charCodeAt(P)+((G<<5)-G);const C=Math.abs(G%j.length);return j[C]},W=N=>{try{const j=isNaN(N)?0:N,G=y.formatoMonetario||"BRL",C=y.idioma||"pt-BR";let M=new Intl.NumberFormat(C,{style:"currency",currency:G,minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0}).format(j);return M=M.replace(/ /g,""),M}catch(j){return console.error("Erro ao formatar valor monetrio:",j),`${y.formatoMonetario==="USD"?"$":y.formatoMonetario==="EUR"?"":"R$"}${N.toFixed(2).replace(".",",")}`}},ee=N=>{(!N||!(N instanceof Date)||isNaN(N.getTime()))&&(N=new Date);try{return new Intl.DateTimeFormat(y.idioma,{day:"2-digit",month:"2-digit",year:"numeric"}).format(N)}catch(j){return console.error("Erro ao formatar data:",j),N.toLocaleDateString("pt-BR")}},le=({valor:N})=>{const G=W(N).replace(/ /g,"");return T.jsx("span",{className:"valor-formatado",children:G})};if(t)return T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Carregando oramento..."})]});if(f)return T.jsxs("div",{className:"error-container",children:[T.jsx("h2",{children:"Erro!"}),T.jsx("p",{children:f}),T.jsx(Zt,{to:"/dashboard",className:"btn btn-primary",children:"Voltar ao Dashboard"})]});if(!a)return T.jsxs("div",{className:"error-container",children:[T.jsx("h2",{children:"Oramento no encontrado"}),T.jsx("p",{children:"O oramento que voc est procurando no existe ou foi removido."}),T.jsx(Zt,{to:"/dashboard",className:"btn btn-primary",children:"Voltar ao Dashboard"})]});const ce=a.valorTotal||a.itens.reduce((N,j)=>N+j.precoUnitario*j.quantidade,0);return T.jsxs("div",{className:"orcamento-detail-container",children:[T.jsx(ig,{}),T.jsxs("div",{className:"orcamento-header",children:[T.jsxs("div",{className:"orcamento-title",children:[T.jsxs("h1",{children:["Oramento #",a.numeroOrcamento||`${new Date().getFullYear()}/${Math.floor(Math.random()*900)+100}`]}),T.jsx("span",{className:`status-badge ${((Ne=a.status)==null?void 0:Ne.toLowerCase())||"pendente"}`,children:a.status||"Pendente"})]}),T.jsxs("div",{className:"orcamento-actions",children:[T.jsx("button",{className:"btn btn-secondary",onClick:()=>e("/dashboard"),children:"Voltar"}),T.jsx("button",{className:"btn btn-primary",onClick:S,children:"Gerar PDF"}),T.jsx("button",{className:"btn btn-success",onClick:L,children:"Enviar WhatsApp"}),T.jsx("button",{className:"btn btn-info",onClick:D,children:"Enviar Email"}),T.jsx("button",{className:"btn btn-warning",onClick:()=>{alert("Oramento salvo com sucesso!")},children:"Salvar sem enviar"})]})]}),T.jsxs("div",{className:"orcamento-content",children:[T.jsxs("div",{className:"orcamento-section",children:[T.jsx("h2",{children:"Dados do Cliente"}),T.jsxs("div",{className:"client-details",children:[T.jsx("div",{className:"client-avatar",style:{backgroundColor:k(a.cliente.nome)},children:V(a.cliente.nome)}),T.jsxs("div",{className:"client-info",children:[T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Nome:"}),T.jsx("span",{className:"detail-value",children:a.cliente.nome})]}),a.cliente.telefone&&T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Telefone:"}),T.jsx("span",{className:"detail-value",children:a.cliente.telefone})]}),a.cliente.email&&T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Email:"}),T.jsx("span",{className:"detail-value",children:a.cliente.email})]})]})]})]}),T.jsxs("div",{className:"orcamento-section",children:[T.jsx("h2",{children:"Itens do Oramento"}),T.jsx("div",{className:"table-responsive",children:T.jsxs("table",{className:"items-table",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Descrio"}),T.jsx("th",{children:"Quantidade"}),T.jsx("th",{children:"Valor Unitrio"}),T.jsx("th",{children:"Total"})]})}),T.jsx("tbody",{children:a.itens.map((N,j)=>{const G=isNaN(Number(N.descricao))?N.descricao:`Item ${N.descricao}`;return T.jsxs("tr",{children:[T.jsx("td",{children:G}),T.jsx("td",{children:N.quantidade}),T.jsx("td",{className:"valor-cell",children:T.jsx(le,{valor:N.precoUnitario})}),T.jsx("td",{className:"valor-cell",children:T.jsx(le,{valor:N.precoUnitario*N.quantidade})})]},j)})}),T.jsx("tfoot",{children:T.jsxs("tr",{children:[T.jsx("td",{colSpan:3,className:"total-label",children:"Valor Total"}),T.jsx("td",{className:"total-value",children:T.jsx(le,{valor:ce})})]})})]})})]}),a.observacoes&&T.jsxs("div",{className:"orcamento-section",children:[T.jsx("h2",{children:"Observaes"}),T.jsx("div",{className:"observacoes-box",children:a.observacoes})]}),T.jsxs("div",{className:"orcamento-section info-adicionais",children:[T.jsx("h2",{children:"Informaes Adicionais"}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Data de Criao:"}),T.jsx("span",{className:"detail-value",children:ee(a.dataCriacao)})]}),T.jsxs("div",{className:"detail-row",children:[T.jsx("span",{className:"detail-label",children:"Empresa:"}),T.jsx("span",{className:"detail-value",children:((U=a.empresa)==null?void 0:U.nome)||"No informada"})]})]})]})]})},Z7=({value:n,onChange:e,placeholder:t="Digite o valor",className:r=""})=>{const[a,o]=be.useState(""),u=be.useRef(null),c=y=>{if(!y)return 0;const w=y.replace(/[^\d.,]/g,"").replace(",",".");return parseFloat(w)||0};be.useEffect(()=>{n!==void 0&&o(n.toString().replace(".",","))},[n]);const f=y=>{const{value:w}=y.target;if(!(!/^[\d.,]*$/.test(w)&&w!=="")&&(o(w),e)){const S=c(w);e(S)}},d=()=>{if(!a){e&&e(0);return}if(e){const y=c(a);e(y)}};return T.jsx("div",{className:`input-moeda-container ${r}`,children:T.jsx("input",{ref:u,type:"text",value:a,onChange:f,onBlur:d,placeholder:t,className:"form-input"})})},eO=({onSubmit:n,editingItem:e,onUpdate:t,onCancel:r})=>{const[a,o]=be.useState(""),[u,c]=be.useState(""),[f,d]=be.useState(1),[y,w]=be.useState(0),[E,S]=be.useState({}),[L,D]=be.useState(!1);be.useEffect(()=>{e?(o(e.descricao),c(e.detalhes||""),d(e.quantidade),w(e.precoUnitario),D(!0)):(V(),D(!1))},[e]);const V=()=>{o(""),c(""),d(1),w(0),S({})},k=()=>{const ce={};return a.trim()||(ce.descricao="A descrio  obrigatria"),f<=0&&(ce.quantidade="A quantidade deve ser maior que zero"),y<=0&&(ce.precoUnitario="O preo unitrio deve ser maior que zero"),S(ce),Object.keys(ce).length===0},W=ce=>{if(ce.preventDefault(),k()){const Ne={id:Date.now().toString()+Math.random().toString(36).substring(2,8),descricao:a.trim(),detalhes:u.trim()||void 0,quantidade:f,precoUnitario:y};L&&t?t(Ne):(n(Ne),V())}},ee=()=>{V(),r&&r()},le=ce=>{const Ne=parseInt(ce.target.value);d(isNaN(Ne)?0:Ne)};return T.jsxs("form",{onSubmit:W,className:"item-form",children:[T.jsx("div",{className:"form-row",children:T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"descricao",children:"Descrio *"}),T.jsx("input",{id:"descricao",type:"text",value:a,onChange:ce=>o(ce.target.value),className:`form-input ${E.descricao?"input-error":""}`,placeholder:"Descrio do item ou servio"}),E.descricao&&T.jsx("div",{className:"error-message",children:E.descricao})]})}),T.jsx("div",{className:"form-row",children:T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"detalhes",children:"Detalhes (opcional)"}),T.jsx("input",{id:"detalhes",type:"text",value:u,onChange:ce=>c(ce.target.value),className:"form-input",placeholder:"Detalhes adicionais, especificaes, etc."})]})}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"quantidade",children:"Quantidade *"}),T.jsx("input",{id:"quantidade",type:"number",min:"1",value:f,onChange:le,className:`form-input ${E.quantidade?"input-error":""}`}),E.quantidade&&T.jsx("div",{className:"error-message",children:E.quantidade})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"precoUnitario",children:"Preo Unitrio *"}),T.jsx(Z7,{value:y,onChange:w,placeholder:"0,00"}),E.precoUnitario&&T.jsx("div",{className:"error-message",children:E.precoUnitario}),T.jsx("div",{className:"help-text",children:"Formato: R$ 0,00"})]})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{type:"submit",className:"btn btn-primary",children:L?"Atualizar Item":"Adicionar Item"}),L&&T.jsx("button",{type:"button",className:"btn btn-secondary",onClick:ee,children:"Cancelar"})]})]})},G0=()=>{const{id:n}=q_(),e=io(),[t,r]=be.useState(!1),[a,o]=be.useState(!1),u=()=>{const O=localStorage.getItem("empresa");return O?JSON.parse(O):{nome:"Sua Empresa",cnpj:"00.000.000/0000-00",telefone:"(99) 99999-9999",email:"contato@suaempresa.com.br"}},c=()=>{const O=new Date().getFullYear(),z=`orcamento_number_${O}`;let X=parseInt(localStorage.getItem(z)||"0",10);return X+=1,localStorage.setItem(z,X.toString()),`${O}-${X.toString().padStart(4,"0")}`},f=()=>{const O=localStorage.getItem("orcamentos");return O?JSON.parse(O):[]},[d,y]=be.useState({nome:""}),[w,E]=be.useState([]),[S,L]=be.useState(""),[D,V]=be.useState(u()),[k,W]=be.useState(!1),[ee,le]=be.useState(f()),[ce,Ne]=be.useState(null),U=be.useRef(null),N=be.useRef(c());be.useEffect(()=>{localStorage.setItem("empresa",JSON.stringify(D))},[D]),be.useEffect(()=>{localStorage.setItem("orcamentos",JSON.stringify(ee))},[ee]);const j=O=>!O||!Array.isArray(O)?(console.warn("Lista de itens invlida:",O),[]):O.map(z=>z.id?z:{...z,id:`item_${Date.now()}_${Math.random().toString(36).substring(2,9)}`});be.useEffect(()=>{const O=async(z,X)=>{console.log("=== Iniciando carregamento do oramento ==="),console.log("ID recebido:",X),console.log("UserID:",z),o(!0);try{if(!X||X.trim()===""){console.error("ID do oramento invlido:",X);return}try{const _e=sessionStorage.getItem("orcamento_em_edicao");if(_e){const pe=JSON.parse(_e);if(console.log("Oramento encontrado no sessionStorage:",pe),pe.id===X){console.log("ID do oramento no sessionStorage corresponde ao solicitado"),typeof pe.cliente=="string"?y({nome:pe.cliente}):y(pe.cliente||{nome:""}),E(j(pe.itens||[])),L(pe.observacoes||""),pe.empresa&&V(pe.empresa),pe.numeroOrcamento?N.current=pe.numeroOrcamento:pe.numero?N.current=pe.numero:N.current=pe.id,r(!0),console.log("Modo de edio ativado via sessionStorage"),sessionStorage.removeItem("orcamento_em_edicao"),o(!1);return}else console.log("ID do oramento no sessionStorage no corresponde ao solicitado")}else console.log("Nenhum oramento encontrado no sessionStorage")}catch(_e){console.error("Erro ao acessar sessionStorage:",_e)}console.log(`Tentando carregar oramento do localStorage e Firestore para ID: ${X}`);const ie=f();console.log("Oramentos no localStorage:",ie.length),ie.forEach((_e,pe)=>{console.log(`Oramento ${pe} - ID: ${_e.id}, Cliente: ${typeof _e.cliente=="string"?_e.cliente:_e.cliente.nome}`)});const ae=ie.find(_e=>_e.id===X);if(ae){console.log("Oramento encontrado no localStorage:",ae),y(ae.cliente||{nome:""}),E(j(ae.itens||[])),L(ae.observacoes||""),ae.empresa&&V(ae.empresa),ae.numeroOrcamento?N.current=ae.numeroOrcamento:ae.numero?N.current=ae.numero:ae.id&&(N.current=ae.id),r(!0),console.log("Modo de edio ativado via localStorage");return}else console.log("Oramento no encontrado no localStorage, tentando no Firestore");try{let _e=Ar(Jn,`users/${z}/orcamentos/${X}`);console.log("Tentando caminho principal:",`users/${z}/orcamentos/${X}`);let pe=await Bl(_e);if(pe.exists()||(console.log("No encontrado no caminho principal, tentando caminho alternativo"),_e=Ar(Jn,`orcamentos/${X}`),pe=await Bl(_e)),pe.exists()){console.log("Oramento encontrado no Firestore:",pe.data());const Ee=pe.data();typeof Ee.cliente=="string"?y({nome:Ee.cliente}):y(Ee.cliente||{nome:""}),E(j(Ee.itens||[])),L(Ee.observacoes||""),Ee.empresa&&V(Ee.empresa),Ee.numeroOrcamento?N.current=Ee.numeroOrcamento:Ee.numero?N.current=Ee.numero:N.current=X,r(!0),console.log("Modo de edio ativado via Firestore, nmero do oramento:",N.current)}else{console.error("Oramento no encontrado em nenhum lugar");try{const Ee=md(Jn,`users/${z}/orcamentos`),Je=_m(Ee),Ke=await Wv(Je);console.log(`Encontrados ${Ke.size} oramentos na coleo do usurio`),Ke.forEach(tt=>{console.log(`Oramento ID: ${tt.id}, Dados:`,tt.data())})}catch(Ee){console.error("Erro ao listar oramentos para debug:",Ee)}alert("Oramento no encontrado! Criando um novo.")}}catch(_e){console.error("Erro ao acessar Firestore:",_e),alert("Erro ao acessar banco de dados. Verifique sua conexo.")}}catch(ie){console.error("Erro geral ao carregar oramento:",ie),alert("Erro ao carregar oramento. Criando um novo oramento.")}finally{o(!1)}};if(n){if(console.log("ID do oramento na URL:",n),!n||n.trim()===""){console.error("ID invlido na URL:",n),alert("ID de oramento invlido. Criando um novo oramento."),e("/novo-orcamento");return}const z=Qu(kn,X=>{X?O(X.uid,n):(console.log("Usurio no logado, redirecionando para login"),e("/login"))});return()=>z()}else console.log("Modo de novo oramento - sem ID na URL")},[n,e]);const G=O=>{const{name:z,value:X}=O.target;y(ie=>({...ie,[z]:X}))},C=O=>{const{name:z,value:X}=O.target;V(ie=>({...ie,[z]:X}))},P=O=>{const z={...O,id:O.id||`item_${Date.now()}_${Math.random().toString(36).substring(2,9)}`};console.log("Adicionando item ao oramento:",z),E([...w,z])},M=O=>{console.log("Removendo item com ID:",O);const z=w.filter(X=>X.id!==O);E(z)},se=O=>O.quantidade*O.precoUnitario,Ie=()=>w.reduce((O,z)=>O+se(z),0),te=async()=>{if(!a){o(!0);try{console.log("=== Gerando oramento ==="),console.log("Cliente:",d),console.log("Itens:",w);const O=j(w),z=`orcamento_${Date.now()}_${Math.random().toString(36).substring(2,5)}`,X={id:z,numero:N.current,numeroOrcamento:N.current,cliente:d,itens:O,observacoes:S,empresa:D,dataCriacao:new Date,data:new Date,valor:Ie(),status:"Pendente"};console.log("Estrutura do oramento gerado:",X);const ie=[...ee,X];le(ie),console.log("Oramento adicionado  lista local");const ae=kn.currentUser;if(ae)try{console.log("Usurio autenticado, salvando no Firestore:",ae.uid);const pe=Ar(md(Jn,`users/${ae.uid}/orcamentos`)),Ee=pe.id;X.id=Ee,await Ic(pe,{id:Ee,numero:X.numero,numeroOrcamento:X.numeroOrcamento,cliente:X.cliente,itens:X.itens,observacoes:X.observacoes,empresa:X.empresa,dataCriacao:X.dataCriacao,data:X.data,valor:X.valor,status:X.status}),console.log("Oramento salvo no Firestore com ID:",Ee);const Je=ee.filter(Ke=>Ke.id!==z);le([...Je,{...X,id:Ee}]),sessionStorage.setItem("dashboard_needs_refresh","true"),console.log("Flag de atualizao definida para o Dashboard")}catch(pe){console.error("Erro ao salvar no Firestore:",pe)}else console.log("Usurio no autenticado, salvando apenas localmente");await M1(X,null,null),console.log("PDF gerado com sucesso"),Te(),sessionStorage.setItem("dashboard_needs_refresh","true"),window.confirm("Oramento criado com sucesso! Deseja voltar ao Dashboard?")&&e("/dashboard")}catch(O){console.error("Erro ao gerar oramento:",O),alert("Ocorreu um erro ao gerar o oramento. Verifique o console para mais detalhes.")}finally{o(!1)}}},fe=async()=>{if(!n){console.error("Tentativa de salvar alteraes sem um ID vlido"),alert("Erro: ID do oramento ausente. Por favor, tente novamente.");return}if(!a){o(!0);try{console.log("=== Salvando alteraes do oramento ==="),console.log("ID:",n),console.log("Nmero:",N.current),console.log("Cliente:",d),console.log("Itens:",w);const O=j(w),z={id:n,numero:N.current,numeroOrcamento:N.current,cliente:d,itens:O,observacoes:S,empresa:D,dataCriacao:new Date,data:new Date,valor:Ie(),status:"Pendente"};console.log("Estrutura do oramento atualizado:",z);const X=f(),ie=X.findIndex(pe=>pe.id===n);ie!==-1?(console.log("Atualizando oramento existente no localStorage"),X[ie]=z):(console.log("Adicionando novo oramento no localStorage"),X.push(z)),localStorage.setItem("orcamentos",JSON.stringify(X)),console.log("Oramento salvo no localStorage"),le(X);const ae=kn.currentUser;if(ae)try{console.log("Salvando no Firestore:",z);try{const pe=Ar(Jn,`users/${ae.uid}/orcamentos/${n}`);console.log("Atualizando documento no caminho:",`users/${ae.uid}/orcamentos/${n}`),await Ic(pe,z,{merge:!0}),console.log("Oramento atualizado no Firestore (caminho padro)"),sessionStorage.setItem("dashboard_needs_refresh","true")}catch(pe){console.error("Erro ao salvar no Firestore (caminho padro):",pe);try{const Ee=Ar(Jn,`orcamentos/${n}`);console.log("Tentando caminho alternativo:",`orcamentos/${n}`),await Ic(Ee,z,{merge:!0}),console.log("Oramento atualizado no Firestore (caminho alternativo)"),sessionStorage.setItem("dashboard_needs_refresh","true")}catch(Ee){console.error("Erro ao salvar no Firestore (caminho alternativo):",Ee)}}}catch(pe){console.error("Erro ao salvar no Firestore:",pe)}alert("Oramento atualizado com sucesso!"),window.confirm("Deseja voltar ao Dashboard?")&&(sessionStorage.setItem("dashboard_needs_refresh","true"),e("/dashboard"))}catch(O){console.error("Erro ao salvar alteraes:",O),alert("Erro ao salvar alteraes. Verifique sua conexo e tente novamente.")}finally{o(!1)}}},he=()=>{if(!d.whatsapp){alert("Digite o nmero de WhatsApp do cliente para enviar!");return}const O=d.whatsapp.replace(/\D/g,""),z=Ie().toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),X=encodeURIComponent(`Ol ${d.nome}, aqui  da ${D.nome}. Segue o oramento solicitado no valor total de ${z}. Oramento N ${N.current}. Estou  disposio para qualquer dvida.`);window.open(`https://wa.me/${O}?text=${X}`,"_blank")},Ce=async()=>{if(!d.email){alert("Digite o email do cliente para enviar!");return}Ne("Enviando email...");const O={id:N.current,cliente:d,itens:w,observacoes:S,data:new Date,empresa:D};try{ee.some(ae=>ae.id===O.id)||le(ae=>[...ae,O]),await M1(O,null,null);const z=Ie().toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),X=encodeURIComponent(`Oramento ${N.current} - ${D.nome}`),ie=encodeURIComponent(`Ol ${d.nome},

Segue em anexo o oramento solicitado no valor total de ${z}.

Oramento N ${N.current}.

Qualquer dvida estamos  disposio.

Atenciosamente,
${D.nome}
${D.telefone}`);window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${d.email}&su=${X}&body=${ie}`,"_blank"),Ne("Email preparado no Gmail! Anexe o PDF baixado."),setTimeout(()=>{Ne(null)},5e3)}catch(z){console.error("Erro ao enviar email:",z),Ne("Erro ao preparar email."),setTimeout(()=>{Ne(null)},5e3)}},J=O=>`R$ ${O.toString().replace(".",",")}`,Te=()=>{y({nome:""}),E([]),L(""),N.current=c(),r(!1),console.log("Formulrio limpo e pronto para novo oramento")};return T.jsx("div",{className:"container",children:a?T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:t?"Salvando oramento...":"Carregando oramento..."})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("h1",{children:t?"Editar Oramento":"Sistema de Oramentos"}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("button",{className:"btn btn-secondary",onClick:Te,children:"Novo Oramento"}),T.jsx("button",{className:"btn btn-secondary",onClick:()=>W(!k),children:k?"Fechar Configuraes":"Configurar Empresa"})]})]}),k&&T.jsxs("div",{className:"card mb-6",children:[T.jsx("h2",{className:"mb-4",children:"Dados da Empresa"}),T.jsxs("div",{className:"grid grid-cols-1 grid-cols-2 mb-6",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{className:"form-label",children:"Nome da Empresa"}),T.jsx("input",{type:"text",name:"nome",className:"form-input",value:D.nome,onChange:C,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{className:"form-label",children:"CNPJ"}),T.jsx("input",{type:"text",name:"cnpj",className:"form-input",value:D.cnpj,onChange:C,placeholder:"00.000.000/0000-00"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{className:"form-label",children:"Telefone"}),T.jsx("input",{type:"tel",name:"telefone",className:"form-input",value:D.telefone,onChange:C})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{className:"form-label",children:"E-mail"}),T.jsx("input",{type:"email",name:"email",className:"form-input",value:D.email,onChange:C})]})]})]}),T.jsxs("div",{className:"card mb-6",children:[T.jsx("h2",{className:"mb-4",children:"Dados do Cliente"}),T.jsxs("div",{className:"grid grid-cols-1 grid-cols-2 mb-6",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{className:"form-label",children:"Nome *"}),T.jsx("input",{type:"text",name:"nome",className:"form-input",value:d.nome,onChange:G,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{className:"form-label",children:"WhatsApp"}),T.jsx("input",{type:"tel",name:"whatsapp",className:"form-input",value:d.whatsapp||"",onChange:G,placeholder:"(99) 99999-9999"})]})]}),T.jsx("div",{className:"grid grid-cols-1 mb-4",children:T.jsxs("div",{className:"form-group",children:[T.jsx("label",{className:"form-label",children:"E-mail"}),T.jsx("input",{type:"email",name:"email",className:"form-input",value:d.email||"",onChange:G,placeholder:"cliente@exemplo.com"})]})})]}),T.jsx(eO,{onSubmit:P}),T.jsxs("div",{ref:U,id:"orcamento-preview",className:"card mt-6 orcamento-document",children:[T.jsx("div",{className:"orcamento-header mb-6",children:T.jsx("div",{className:"flex",children:T.jsxs("div",{className:"empresa-info",children:[T.jsx("h2",{children:D.nome}),D.cnpj&&T.jsxs("p",{children:[T.jsx("strong",{children:"CNPJ:"})," ",D.cnpj]}),T.jsxs("p",{children:[D.telefone&&T.jsx("span",{children:D.telefone}),D.email&&T.jsxs("span",{children:["  ",D.email]})]})]})})}),T.jsxs("div",{className:"orcamento-title text-center mb-6",children:[T.jsx("h2",{className:"orcamento-heading",children:"ORAMENTO"}),T.jsxs("p",{className:"orcamento-number",children:["N ",N.current]}),T.jsxs("p",{className:"orcamento-date",children:["Data: ",new Date().toLocaleDateString("pt-BR")]})]}),d.nome&&T.jsxs("div",{className:"mb-6 cliente-section",children:[T.jsx("h3",{className:"mb-2 section-title",children:"CLIENTE"}),T.jsxs("div",{className:"cliente-data",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Nome:"})," ",d.nome]}),d.whatsapp&&T.jsxs("p",{children:[T.jsx("strong",{children:"WhatsApp:"})," ",d.whatsapp]}),d.email&&T.jsxs("p",{children:[T.jsx("strong",{children:"E-mail:"})," ",d.email]})]})]}),T.jsxs("div",{className:"mb-6 itens-section",children:[T.jsx("h3",{className:"mb-2 section-title",children:"ITENS DO ORAMENTO"}),w.length===0?T.jsx("p",{className:"no-items",children:"Nenhum item adicionado"}):T.jsx("div",{className:"items-table-container",children:T.jsxs("table",{border:1,cellPadding:10,cellSpacing:0,style:{width:"100%",borderCollapse:"collapse"},children:[T.jsxs("tr",{style:{backgroundColor:"#2980b9",color:"white"},children:[T.jsx("td",{width:"60",align:"center",children:"Item"}),T.jsx("td",{align:"left",children:"Descrio"}),T.jsx("td",{width:"60",align:"center",children:"Qtd."}),T.jsx("td",{width:"100",align:"right",children:"Preo Unit."}),T.jsx("td",{width:"100",align:"right",children:"Subtotal"}),T.jsx("td",{width:"100",align:"center",children:"Aes"})]}),w.map((O,z)=>T.jsxs("tr",{children:[T.jsx("td",{align:"center",children:z+1}),T.jsx("td",{align:"left",children:T.jsxs("div",{className:"item-content",children:[T.jsx("span",{className:"item-descricao",children:O.descricao}),O.detalhes&&T.jsxs("span",{className:"item-detalhes",children:[" - ",O.detalhes]})]})}),T.jsx("td",{align:"center",children:O.quantidade}),T.jsx("td",{align:"right",children:J(O.precoUnitario)}),T.jsx("td",{align:"right",children:J(se(O))}),T.jsx("td",{align:"center",children:T.jsx("button",{onClick:()=>M(O.id),className:"btn btn-danger",children:"Remover"})})]},O.id)),T.jsxs("tr",{style:{borderTop:"2px solid #e5e7eb"},children:[T.jsx("td",{colSpan:4,align:"right",children:T.jsx("strong",{children:"TOTAL:"})}),T.jsxs("td",{align:"right",style:{position:"relative"},children:[T.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#f9fafb",zIndex:-1}}),T.jsx("span",{style:{color:"#2563EB",fontWeight:"bold"},children:J(Ie())})]}),T.jsx("td",{})]})]})})]}),T.jsxs("div",{className:"mb-6 observacoes-section",children:[T.jsx("h3",{className:"mb-2 section-title",children:"OBSERVAES"}),T.jsx("textarea",{className:"form-textarea observacoes-textarea",value:S,onChange:O=>L(O.target.value),placeholder:"Ex: Validade do oramento, prazo de entrega, forma de pagamento..."})]}),T.jsxs("div",{className:"assinatura-section",children:[T.jsx("div",{className:"assinatura-linha"}),T.jsx("p",{className:"assinatura-nome",children:D.nome})]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-6 buttons-container",children:[t?T.jsxs("button",{onClick:fe,disabled:w.length===0||!d.nome||a,className:"btn btn-primary btn-large",children:[T.jsx("span",{className:"mr-2",children:""})," ",a?"Salvando...":"Salvar Alteraes"]}):T.jsxs("button",{onClick:te,disabled:w.length===0||!d.nome||a,className:"btn btn-success btn-large",children:[T.jsx("span",{className:"mr-2",children:""})," ",a?"Criando Oramento...":"Gerar PDF"]}),T.jsxs("button",{onClick:he,disabled:w.length===0||!d.nome||!d.whatsapp||a,className:"btn btn-success btn-large",children:[T.jsx("span",{className:"mr-2",children:""})," Enviar por WhatsApp"]}),T.jsxs("button",{onClick:Ce,disabled:w.length===0||!d.nome||!d.email||a,className:"btn btn-success btn-large",children:[T.jsx("span",{className:"mr-2",children:""})," Enviar por Gmail"]}),T.jsxs("button",{onClick:()=>e("/dashboard"),className:"btn btn-secondary btn-large",children:[T.jsx("span",{className:"mr-2",children:""})," Voltar para Dashboard"]})]}),ce&&T.jsx("div",{className:"mt-4 text-center",children:T.jsx("p",{className:"email-status",children:ce})})]})})},tO=()=>{const[n,e]=be.useState(null),[t,r]=be.useState(!0),[a,o]=be.useState(!1),[u,c]=be.useState({nome:"",email:"",empresa:"",telefone:"",whatsapp:"",cargo:""}),[f,d]=be.useState(!1),[y,w]=be.useState(null),[E,S]=be.useState(null),L=io();be.useEffect(()=>{const ee=Qu(kn,async le=>{if(le)try{const ce=Ar(Jn,"users",le.uid),Ne=await Bl(ce);if(Ne.exists()){const U=Ne.data();e(U),c(U)}else{const U={nome:le.displayName||"Usurio",email:le.email||"",empresa:"Minha Empresa",cargo:"Usurio"};e(U),c(U)}}catch(ce){console.error("Erro ao carregar dados do usurio:",ce),w("Erro ao carregar dados do usurio. Tente novamente mais tarde.")}finally{r(!1)}else L("/login")});return()=>ee()},[L]);const D=ee=>{const{name:le,value:ce}=ee.target;c(Ne=>({...Ne,[le]:ce}))},V=async ee=>{ee.preventDefault(),d(!0),w(null),S(null);try{if(!kn.currentUser)throw new Error("Usurio no autenticado");const le=Ar(Jn,"users",kn.currentUser.uid),ce={...u};await wm(le,ce),e(u),S("Perfil atualizado com sucesso!"),o(!1),setTimeout(()=>S(null),3e3)}catch(le){console.error("Erro ao salvar perfil:",le),w("Erro ao salvar perfil. Tente novamente mais tarde.")}finally{d(!1)}},k=ee=>ee.split(" ").map(le=>le.charAt(0)).join("").toUpperCase().substring(0,2),W=ee=>{const le=["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6","#1abc9c","#d35400","#34495e","#16a085","#c0392b"];let ce=0;for(let U=0;U<ee.length;U++)ce=ee.charCodeAt(U)+((ce<<5)-ce);const Ne=Math.abs(ce%le.length);return le[Ne]};return t?T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Carregando perfil..."})]}):T.jsxs("div",{className:"user-profile-container",children:[T.jsx(ig,{}),T.jsxs("div",{className:"profile-header",children:[T.jsx("button",{className:"btn btn-secondary",onClick:()=>L("/dashboard"),children:"Voltar ao Dashboard"}),T.jsx("h1",{children:"Meu Perfil"})]}),y&&T.jsx("div",{className:"error-message",children:y}),E&&T.jsx("div",{className:"success-message",children:E}),T.jsxs("div",{className:"profile-content",children:[T.jsx("div",{className:"profile-avatar",style:{backgroundColor:W((n==null?void 0:n.nome)||"User")},children:k((n==null?void 0:n.nome)||"User")}),a?T.jsxs("form",{onSubmit:V,className:"profile-form",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"nome",children:"Nome Completo"}),T.jsx("input",{type:"text",id:"nome",name:"nome",value:u.nome,onChange:D,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"Email"}),T.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:D,required:!0,disabled:!0}),T.jsx("small",{children:"O email no pode ser alterado"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"empresa",children:"Empresa"}),T.jsx("input",{type:"text",id:"empresa",name:"empresa",value:u.empresa,onChange:D,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"cargo",children:"Cargo"}),T.jsx("input",{type:"text",id:"cargo",name:"cargo",value:u.cargo||"",onChange:D,placeholder:"Seu cargo na empresa"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"telefone",children:"Telefone"}),T.jsx("input",{type:"tel",id:"telefone",name:"telefone",value:u.telefone||"",onChange:D,placeholder:"(00) 0000-0000"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"whatsapp",children:"WhatsApp"}),T.jsx("input",{type:"tel",id:"whatsapp",name:"whatsapp",value:u.whatsapp||"",onChange:D,placeholder:"(00) 00000-0000"})]}),T.jsxs("div",{className:"form-buttons",children:[T.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{o(!1),c(n||u),w(null)},disabled:f,children:"Cancelar"}),T.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Salvando...":"Salvar alteraes"})]})]}):T.jsxs("div",{className:"profile-info",children:[T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Nome:"}),T.jsx("span",{className:"info-value",children:n==null?void 0:n.nome})]}),T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Email:"}),T.jsx("span",{className:"info-value",children:n==null?void 0:n.email})]}),T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Empresa:"}),T.jsx("span",{className:"info-value",children:n==null?void 0:n.empresa})]}),(n==null?void 0:n.cargo)&&T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Cargo:"}),T.jsx("span",{className:"info-value",children:n.cargo})]}),(n==null?void 0:n.telefone)&&T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"Telefone:"}),T.jsx("span",{className:"info-value",children:n.telefone})]}),(n==null?void 0:n.whatsapp)&&T.jsxs("div",{className:"info-row",children:[T.jsx("span",{className:"info-label",children:"WhatsApp:"}),T.jsx("span",{className:"info-value",children:n.whatsapp})]}),T.jsx("button",{className:"btn btn-primary edit-profile-btn",onClick:()=>o(!0),children:"Editar Perfil"})]})]})]})},nO=()=>{const[n,e]=be.useState(!0),{config:t,setConfig:r}=t2(),[a,o]=be.useState(!1),[u,c]=be.useState(""),f=io();be.useEffect(()=>{const w=Qu(kn,async E=>{if(E)try{const S=Ar(Jn,"users",E.uid);(await Bl(S)).exists()}catch(S){console.error("Erro ao carregar dados:",S)}finally{e(!1)}else f("/login")});return()=>w()},[f]);const d=w=>{const{name:E,value:S,type:L}=w.target;if(L==="checkbox"){const D=w.target.checked;r({...t,[E]:D})}else r({...t,[E]:S})},y=async()=>{if(kn.currentUser){o(!0),c("");try{const w=Ar(Jn,"users",kn.currentUser.uid);await wm(w,{configuracoes:t}),c("Configuraes salvas com sucesso!"),setTimeout(()=>c(""),3e3)}catch(w){console.error("Erro ao salvar configuraes:",w),c("Erro ao salvar configuraes. Tente novamente.")}finally{o(!1)}}};return n?T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Carregando configuraes..."})]}):T.jsxs("div",{className:"config-container",children:[T.jsx(ig,{}),T.jsxs("div",{className:"config-header",children:[T.jsx("h1",{children:"Configuraes"}),T.jsx("p",{children:"Personalize o funcionamento do seu OrcamentoPRO"})]}),T.jsxs("div",{className:"config-section",children:[T.jsx("h2",{children:"Preferncias Gerais"}),T.jsxs("div",{className:"config-group",children:[T.jsxs("label",{className:"switch-label",children:[T.jsx("span",{children:"Receber notificaes por email"}),T.jsxs("label",{className:"switch",children:[T.jsx("input",{type:"checkbox",name:"notificacoesEmail",checked:t.notificacoesEmail,onChange:d,title:"Receber alertas por email quando novos oramentos forem criados ou atualizados"}),T.jsx("span",{className:"slider round"})]})]}),T.jsx("p",{className:"config-description",children:"Enviar notificaes por email quando houver alteraes nos oramentos."})]}),T.jsxs("div",{className:"config-group",children:[T.jsxs("label",{className:"switch-label",children:[T.jsx("span",{children:"Tema escuro"}),T.jsxs("label",{className:"switch",children:[T.jsx("input",{type:"checkbox",name:"temaEscuro",checked:t.temaEscuro,onChange:d,title:"Ativar modo escuro para reduzir o cansao visual"}),T.jsx("span",{className:"slider round"})]})]}),T.jsx("p",{className:"config-description",children:"Modo escuro para reduzir o cansao visual e economizar bateria. As alteraes so aplicadas imediatamente."})]}),T.jsxs("div",{className:"config-group",children:[T.jsxs("label",{children:["Idioma",T.jsxs("select",{name:"idioma",value:t.idioma,onChange:d,title:"Selecione o idioma para formatao de nmeros e datas",children:[T.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),T.jsx("option",{value:"en-US",children:"English (USA)"}),T.jsx("option",{value:"es",children:"Espaol"})]})]}),T.jsx("p",{className:"config-description",children:"Define o formato de data e nmeros conforme o padro regional."})]}),T.jsxs("div",{className:"config-group",children:[T.jsxs("label",{children:["Formato monetrio",T.jsxs("select",{name:"formatoMonetario",value:t.formatoMonetario,onChange:d,title:"Selecione a moeda para exibio de valores",children:[T.jsx("option",{value:"BRL",children:"Real (R$)"}),T.jsx("option",{value:"USD",children:"Dlar (US$)"}),T.jsx("option",{value:"EUR",children:"Euro ()"})]})]}),T.jsx("p",{className:"config-description",children:"Define o smbolo monetrio e formato de exibio dos valores. Apenas para exibio, no altera os valores armazenados."})]})]}),T.jsxs("div",{className:"config-section",children:[T.jsx("h2",{children:"Oramentos"}),T.jsxs("div",{className:"config-group",children:[T.jsx("p",{className:"config-description",children:"Aqui voc pode personalizar como seus oramentos so numerados, configurar modelos e definir valores padro para novos oramentos."}),T.jsx("div",{className:"feature-soon",children:T.jsx("p",{children:"Mais configuraes estaro disponveis em breve!"})})]})]}),T.jsxs("div",{className:"action-buttons",children:[T.jsx("button",{className:"btn btn-secondary",onClick:()=>f("/dashboard"),children:"Cancelar"}),T.jsx("button",{className:"btn btn-primary",onClick:y,disabled:a,children:a?"Salvando...":"Salvar Configuraes"})]}),u&&T.jsx("div",{className:"message-bar success",children:u})]})},$0=({titulo:n,descricao:e,imagem:t="/images/orcamento-exemplo.svg",rotaRetorno:r="/dashboard"})=>{const a=io();return T.jsx("div",{className:"construcao-container",children:T.jsxs("div",{className:"construcao-content",children:[T.jsx("img",{src:t,alt:"Pgina em construo",className:"construcao-image"}),T.jsx("h1",{children:n}),T.jsx("p",{className:"construcao-descricao",children:e}),T.jsxs("div",{className:"construcao-info",children:[T.jsxs("div",{className:"info-item",children:[T.jsx("div",{className:"info-icon",children:""}),T.jsxs("div",{className:"info-text",children:[T.jsx("h3",{children:"Em desenvolvimento"}),T.jsx("p",{children:"Estamos trabalhando para implementar esta funcionalidade em breve."})]})]}),T.jsxs("div",{className:"info-item",children:[T.jsx("div",{className:"info-icon",children:""}),T.jsxs("div",{className:"info-text",children:[T.jsx("h3",{children:"Sugestes"}),T.jsx("p",{children:"Tem ideias para melhorar esta funcionalidade? Compartilhe conosco!"})]})]})]}),T.jsxs("div",{className:"construcao-actions",children:[T.jsx("button",{className:"btn btn-secondary",onClick:()=>a(r),children:"Voltar para Dashboard"}),T.jsx(Zt,{to:"/configuracoes",className:"btn btn-primary",children:"Configuraes"})]})]})})};e2();const Vo=({children:n})=>{const[e,t]=be.useState(!0),[r,a]=be.useState(!1),o=io();return be.useEffect(()=>{console.log("ProtectedRoute: Verificando autenticao...");const u=Qu(kn,c=>{const f=!!c;console.log("ProtectedRoute: Status de autenticao:",f,c==null?void 0:c.uid),a(f),t(!1),f||(console.log("ProtectedRoute: No autenticado, redirecionando para login"),o("/login"))});return()=>{u()}},[o]),e?(console.log("ProtectedRoute: Carregando..."),T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Carregando..."})]})):r?(console.log("ProtectedRoute: Autenticado, renderizando contedo protegido"),T.jsx(T.Fragment,{children:n})):(console.log("ProtectedRoute: No autenticado (renderizao)"),null)},rO=()=>{const[n,e]=be.useState(!0),[t,r]=be.useState(!1);return be.useEffect(()=>{const a=Qu(kn,o=>{r(!!o),e(!1)});return()=>a()},[]),n?T.jsxs("div",{className:"loading-container",children:[T.jsx("div",{className:"loading-spinner"}),T.jsx("p",{children:"Carregando..."})]}):t?T.jsx(g5,{to:"/dashboard"}):T.jsx(g5,{to:"/"})};function iO(){return be.useEffect(()=>{e2()},[]),T.jsx(JP,{children:T.jsx(uT,{children:T.jsxs(U3,{children:[T.jsx(ta,{path:"/",element:T.jsx(ZP,{})}),T.jsx(ta,{path:"/login",element:T.jsx(e8,{})}),T.jsx(ta,{path:"/cadastro",element:T.jsx(t8,{})}),T.jsx(ta,{path:"/dashboard",element:T.jsx(Vo,{children:T.jsx(X7,{})})}),T.jsx(ta,{path:"/orcamentos/:id",element:T.jsx(Vo,{children:T.jsx(J7,{})})}),T.jsx(ta,{path:"/orcamentos/:id/editar",element:T.jsx(Vo,{children:T.jsx(G0,{})})}),T.jsx(ta,{path:"/novo-orcamento",element:T.jsx(Vo,{children:T.jsx(G0,{})})}),T.jsx(ta,{path:"/novo-orcamento/:id",element:T.jsx(Vo,{children:T.jsx(G0,{})})}),T.jsx(ta,{path:"/perfil",element:T.jsx(Vo,{children:T.jsx(tO,{})})}),T.jsx(ta,{path:"/orcamentos",element:T.jsx(Vo,{children:T.jsx($0,{titulo:"rea de Oramentos",descricao:"Gerencie todos os seus oramentos em um s lugar. Em breve voc poder filtrar, exportar e criar novos modelos de oramentos."})})}),T.jsx(ta,{path:"/clientes",element:T.jsx(Vo,{children:T.jsx($0,{titulo:"Gerenciamento de Clientes",descricao:"Visualize, adicione e gerencie seus clientes. Em breve voc poder importar contatos e criar grupos de clientes."})})}),T.jsx(ta,{path:"/produtos",element:T.jsx(Vo,{children:T.jsx($0,{titulo:"Catlogo de Produtos",descricao:"Gerencie seu catlogo de produtos e servios. Em breve voc poder incluir fotos e categorias personalizadas."})})}),T.jsx(ta,{path:"/configuracoes",element:T.jsx(Vo,{children:T.jsx(nO,{})})}),T.jsx(ta,{path:"*",element:T.jsx(rO,{})})]})})})}e2();K4.createRoot(document.getElementById("root")).render(T.jsx(B4.StrictMode,{children:T.jsx(iO,{})}));export{jn as _,aO as c,D_ as g};
